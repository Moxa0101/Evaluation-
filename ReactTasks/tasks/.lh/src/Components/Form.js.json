{
    "sourceFile": "src/Components/Form.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1756962398388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1756962398388,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport '../assets/Form.css';\r\n\r\nfunction Main() {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [submissions, setSubmissions] = useState([]);\r\n\r\n  const handleFormSubmit = (data) => {\r\n    setSubmissions(prev => [...prev, data]);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    const updated = submissions.filter((_, i) => i !== index);\r\n    setSubmissions(updated);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='d-flex justify-content-center align-items-center'>\r\n        <button className='start' onClick={() => setShowForm(!showForm)}>\r\n          {showForm ? 'Hide Form' : 'Show Form'}\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <Form\r\n          onSubmit={handleFormSubmit}\r\n          submissions={submissions}\r\n          showForm={showForm}\r\n        />\r\n      )}\r\n\r\n      <div className='ctn'>\r\n        <h3>Submitted Entries:</h3>\r\n        {submissions.map((user, index) => (\r\n          <div key={index} className='card'>\r\n            <p><strong>FirstName:</strong> {user.name}</p>\r\n            <p><strong>Email:</strong> {user.email}</p>\r\n            <p><strong>Age:</strong> {user.age}</p>\r\n            <button className=\"btn btn-danger\" onClick={() => handleDelete(index)} disabled={showForm}>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Form({ onSubmit, submissions }) {\r\n  const [form, setForm] = useState({ name: '', email: '', age: '' });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === 'age') {\r\n      if (!/^\\d*$/.test(value)) return;\r\n      if (Number(value) > 120) return;\r\n    }\r\n\r\n    setForm(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!form.name.trim() || !form.email.trim() || !form.age.trim()) {\r\n      alert(\"Name and email and age are required!\");\r\n      return;\r\n    }\r\n     if (!/^[a-zA-Z\\s]+$/.test(form.name.trim())) {\r\n      alert(\"Name must contain only letters and spaces!\");\r\n      return;\r\n    }\r\n    const isDuplicate = submissions.some(\r\n      entry => entry.email.trim().toLowerCase() === form.email.trim().toLowerCase()\r\n    );\r\n    if (isDuplicate) {\r\n      alert(\"This email is already submitted!\");\r\n      return;\r\n    }\r\n\r\n    const ageNum = Number(form.age);\r\n    if (ageNum < 0 || ageNum > 120) {\r\n      alert(\"Age must be between 0 and 120.\");\r\n      return;\r\n    }\r\n\r\n    onSubmit(form);\r\n    setForm({ name: '', email: '', age: '' });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setForm({ name: '', email: '', age: '' });\r\n  };\r\n\r\n  return (\r\n    <div className='container'>\r\n      <form className=\"row g-3 needs-validation\" noValidate onSubmit={handleSubmit}>\r\n        <div className=\"col-md-4\">\r\n          <label htmlFor=\"validationCustom01\" className=\"form-label\">Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            placeholder='Enter your Full Name'\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-6\">\r\n          <label htmlFor=\"validationCustom03\" className=\"form-label\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            name=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            placeholder='Enter your Email'\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <label className=\"form-label\">Age:</label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            name=\"age\"\r\n            value={form.age}\r\n            onChange={handleChange}\r\n            placeholder='Enter your Age'\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <button className=\"btn btn-primary\" type=\"submit\">Submit form</button>\r\n          <button className=\"btn btn-primary\" type=\"reset\" onClick={handleReset}>Reset form</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"
        }
    ]
}