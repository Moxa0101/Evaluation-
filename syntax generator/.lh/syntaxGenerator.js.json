{
    "sourceFile": "syntaxGenerator.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 319,
            "patches": [
                {
                    "date": 1755747132751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1755747207332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,9 @@\n }\r\n \r\n // Add click selection\r\n dropdown.addEventListener('click', e => {\r\n-  if(e.target.tagName === 'LI') {\r\n+  if(e.target.tagName === 'option') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755748424342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,22 +47,53 @@\n     document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n \r\n }\r\n \r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n-    if (dropdown1.value == \"EQ\") {\r\n-        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-        //                     <div id=\"dropdown2\"></div>`;\r\n+  const searchBox = document.getElementById('searchBox');\r\n+  const suggestions = document.getElementById('suggestions');\r\n \r\n+  const data = [\"Apple\", \"Banana\", \"Cherry\", \"Date\", \"a\", \"a\", \"a\"]; // Example data\r\n+\r\n+  searchBox.addEventListener('input', () => {\r\n+    const input = searchBox.value.toLowerCase();\r\n+    suggestions.innerHTML = '';\r\n+    if (input) {\r\n+      const filtered = data.filter(item => item.toLowerCase().includes(input));\r\n+      filtered.forEach(item => {\r\n+        const li = document.createElement('li');\r\n+        li.textContent = item;\r\n+        li.onclick = () => {\r\n+          searchBox.value = item;\r\n+          suggestions.style.display = 'none';\r\n+        };\r\n+        suggestions.appendChild(li);\r\n+      });\r\n+      suggestions.style.display = filtered.length ? 'block' : 'none';\r\n+    } else {\r\n+      suggestions.style.display = 'none';\r\n     }\r\n+  });\r\n \r\n-})\r\n+  document.addEventListener('click', (e) => {\r\n+    if (!searchBox.contains(e.target)) suggestions.style.display = 'none';\r\n+  });\r\n \r\n+\r\n+// let dropdown1 = document.getElementById(\"dropdown1\");\r\n+// dropdown1.addEventListener(\"change\", () => {\r\n+//     //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+\r\n+//     if (dropdown1.value == \"EQ\") {\r\n+//         document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+//         // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+//         //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+//         //                     <div id=\"dropdown2\"></div>`;\r\n+\r\n+//     }\r\n+\r\n+// })\r\n+\r\n  const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n \r\n"
                },
                {
                    "date": 1755748435463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,9 +51,9 @@\n \r\n   const searchBox = document.getElementById('searchBox');\r\n   const suggestions = document.getElementById('suggestions');\r\n \r\n-  const data = [\"Apple\", \"Banana\", \"Cherry\", \"Date\", \"a\", \"a\", \"a\"]; // Example data\r\n+  const data = []; // Example data\r\n \r\n   searchBox.addEventListener('input', () => {\r\n     const input = searchBox.value.toLowerCase();\r\n     suggestions.innerHTML = '';\r\n"
                },
                {
                    "date": 1755748785135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,53 +47,22 @@\n     document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n \r\n }\r\n \r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n-  const searchBox = document.getElementById('searchBox');\r\n-  const suggestions = document.getElementById('suggestions');\r\n+    if (dropdown1.value == \"EQ\") {\r\n+        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+        //                     <div id=\"dropdown2\"></div>`;\r\n \r\n-  const data = []; // Example data\r\n-\r\n-  searchBox.addEventListener('input', () => {\r\n-    const input = searchBox.value.toLowerCase();\r\n-    suggestions.innerHTML = '';\r\n-    if (input) {\r\n-      const filtered = data.filter(item => item.toLowerCase().includes(input));\r\n-      filtered.forEach(item => {\r\n-        const li = document.createElement('li');\r\n-        li.textContent = item;\r\n-        li.onclick = () => {\r\n-          searchBox.value = item;\r\n-          suggestions.style.display = 'none';\r\n-        };\r\n-        suggestions.appendChild(li);\r\n-      });\r\n-      suggestions.style.display = filtered.length ? 'block' : 'none';\r\n-    } else {\r\n-      suggestions.style.display = 'none';\r\n     }\r\n-  });\r\n \r\n-  document.addEventListener('click', (e) => {\r\n-    if (!searchBox.contains(e.target)) suggestions.style.display = 'none';\r\n-  });\r\n+})\r\n \r\n-\r\n-// let dropdown1 = document.getElementById(\"dropdown1\");\r\n-// dropdown1.addEventListener(\"change\", () => {\r\n-//     //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n-\r\n-//     if (dropdown1.value == \"EQ\") {\r\n-//         document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-//         // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-//         //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-//         //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n-//     }\r\n-\r\n-// })\r\n-\r\n  const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n \r\n@@ -130,18 +99,18 @@\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n     console.log(data)\r\n     \r\n-    dropdown.innerHTML = suggestions.map(item => `<option>${item.script} (${item.exchange})</option>`).join('');\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n   } catch(err) {\r\n     console.error(err);\r\n   }\r\n }\r\n \r\n // Add click selection\r\n dropdown.addEventListener('click', e => {\r\n-  if(e.target.tagName === 'option') {\r\n+  if(e.target.tagName === 'LI') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755748900232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,9 +107,9 @@\n   }\r\n }\r\n \r\n // Add click selection\r\n-dropdown.addEventListener('click', e => {\r\n+dropdown?.addEventListener('click', e => {\r\n   if(e.target.tagName === 'LI') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n"
                },
                {
                    "date": 1755749062578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n     console.log(data)\r\n     \r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown?.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n   } catch(err) {\r\n     console.error(err);\r\n   }\r\n"
                },
                {
                    "date": 1755749080701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n     console.log(data)\r\n     \r\n-    dropdown?.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n   } catch(err) {\r\n     console.error(err);\r\n   }\r\n"
                },
                {
                    "date": 1755749126450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,8 +83,9 @@\n     return;\r\n   }\r\n      let scriptType=document.getElementById(\"dropdown1\")?.value;\r\n   try {\r\n+    console.log(scriptType)\r\n     const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n             method: \"POST\",\r\n             headers: {\r\n                 \"Content-Type\": \"application/json\",\r\n"
                },
                {
                    "date": 1755750328643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n     }\r\n \r\n })\r\n \r\n- const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+ const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNTAxLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImtpbmphbGthbmppeWExMEBnbWFpbC5jb20iLCJtb2JpbGVfbm8iOiI5MzEzMTgzODQ3IiwiY3VzdF9pZCI6IjU1MDY5MyIsImVudiI6ImxpdmUiLCJ1c2VyX3R5cGUiOiJ1c2VyIiwiaWF0IjoxNzU1NzQ3MzAyLCJleHAiOjE3NTU4MzM3MDJ9.b3MPWYxgo0AS7uBFqQYwObF5lGX7L541P_RVnGV-Aic\"\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n \r\n // Simple debounce function\r\n"
                },
                {
                    "date": 1755750450414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,9 @@\n         });\r\n \r\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n+    console.log(suggestions)\r\n     console.log(data)\r\n     \r\n     dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n"
                },
                {
                    "date": 1755750641484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n     }\r\n \r\n })\r\n \r\n- const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNTAxLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImtpbmphbGthbmppeWExMEBnbWFpbC5jb20iLCJtb2JpbGVfbm8iOiI5MzEzMTgzODQ3IiwiY3VzdF9pZCI6IjU1MDY5MyIsImVudiI6ImxpdmUiLCJ1c2VyX3R5cGUiOiJ1c2VyIiwiaWF0IjoxNzU1NzQ3MzAyLCJleHAiOjE3NTU4MzM3MDJ9.b3MPWYxgo0AS7uBFqQYwObF5lGX7L541P_RVnGV-Aic\"\r\n+ const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNTAxLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImtpbmphbGthbmppeWExMEBnbWFpbC5jb20iLCJtb2JpbGVfbm8iOiI5MzEzMTgzODQ3IiwiY3VzdF9pZCI6IjU1MDY5MyIsImVudiI6ImxpdmUiLCJ1c2VyX3R5cGUiOiJ1c2VyIiwiaWF0IjoxNzU1NzQ3MzAyLCJleHAiOjE3NTU4MzM3MDJ9.b3MPWYxgo0AS7uBFqQYwObF5lGX7L541P_RVnGV-Aic\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n \r\n // Simple debounce function\r\n"
                },
                {
                    "date": 1755751075861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n     }\r\n \r\n })\r\n \r\n- const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNTAxLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImtpbmphbGthbmppeWExMEBnbWFpbC5jb20iLCJtb2JpbGVfbm8iOiI5MzEzMTgzODQ3IiwiY3VzdF9pZCI6IjU1MDY5MyIsImVudiI6ImxpdmUiLCJ1c2VyX3R5cGUiOiJ1c2VyIiwiaWF0IjoxNzU1NzQ3MzAyLCJleHAiOjE3NTU4MzM3MDJ9.b3MPWYxgo0AS7uBFqQYwObF5lGX7L541P_RVnGV-Aic\";\r\n+ const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n \r\n // Simple debounce function\r\n"
                },
                {
                    "date": 1755753457044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,8 +64,14 @@\n \r\n  const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n"
                },
                {
                    "date": 1755753496217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,8 +69,9 @@\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n   }\r\n+  searchInput.value=\"\";\r\n });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n"
                },
                {
                    "date": 1755753531674,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,10 +68,11 @@\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n+     searchInput.value=\"\";\r\n   }\r\n-  searchInput.value=\"\";\r\n+ \r\n });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n"
                },
                {
                    "date": 1755754171395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,9 +128,18 @@\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n+ dropdown.addEventListener('change', function() {\r\n+      const selectedValue = this.value;\r\n+      if (selectedValue) {\r\n+        const currentValue = editor.getValue();\r\n+        // Append new value with newline\r\n+        editor.setValue(currentValue + '\\n' + selectedValue);\r\n+      }\r\n+    });\r\n \r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755754243683,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,9 +137,17 @@\n         editor.setValue(currentValue + '\\n' + selectedValue);\r\n       }\r\n     });\r\n \r\n+     dropdown1.addEventListener('change', function() {\r\n+      const selectedValue = this.value;\r\n+      if (selectedValue) {\r\n+        const currentValue = editor.getValue();\r\n+        // Append new value with newline\r\n+        editor.setValue(currentValue + '\\n' + selectedValue);\r\n+      }\r\n \r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755754257633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,10 +144,10 @@\n         const currentValue = editor.getValue();\r\n         // Append new value with newline\r\n         editor.setValue(currentValue + '\\n' + selectedValue);\r\n       }\r\n+    });\r\n \r\n-\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755754305741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-    monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    let editor=monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n         value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n"
                },
                {
                    "date": 1755754312044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,33 @@\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-    let editor=monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-        value: `{\r\n+  let editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n     \"is_sl\": false,\r\n     \"is_trail_set\": false,\r\n     \"position_size\": \"{{strategy.position_size}}\",\r\n     \"transaction_type\": \"{{strategy.order.action}}\"\r\n }`,\r\n-        language: \"json\",\r\n-        theme: \"vs-dark\",\r\n-        automaticLayout: true,\r\n-        suggestOnTriggerCharacters: false,\r\n-        quickSuggestions: false,\r\n-        wordBasedSuggestions: false,\r\n-        parameterHints: { enabled: false },\r\n-        inlineSuggest: { enabled: false },\r\n-        fontSize: 18,\r\n-        minimap: { enabled: false },\r\n-        wordWrap: \"on\",\r\n-        scrollbar: {\r\n-            vertical: \"hidden\",\r\n-            horizontal: \"hidden\",\r\n-            handleMouseWheel: false\r\n-        },\r\n-    });\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n });\r\n \r\n \r\n \r\n@@ -37,90 +37,90 @@\n let sqaureOf = document.getElementById(\"sqaureOf\");\r\n let cancelOrder = document.getElementById(\"cancelOrder\");\r\n \r\n function setActive(obj) {\r\n-    console.log(\"enter\");\r\n-    document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-    obj.classList.add('active');\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n }\r\n \r\n function showStrategyOrder() {\r\n-    document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n dropdown1.addEventListener(\"change\", () => {\r\n-    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n-    if (dropdown1.value == \"EQ\") {\r\n-        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-        //                     <div id=\"dropdown2\"></div>`;\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n \r\n-    }\r\n+  }\r\n \r\n })\r\n \r\n- const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n-     searchInput.value=\"\";\r\n+    searchInput.value = \"\";\r\n   }\r\n- \r\n+\r\n });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n-  return function(...args) {\r\n+  return function (...args) {\r\n     clearTimeout(timer);\r\n     timer = setTimeout(() => func.apply(this, args), delay);\r\n   };\r\n }\r\n \r\n // Fetch API suggestions\r\n async function fetchSuggestions(query) {\r\n-  if(!query) {\r\n+  if (!query) {\r\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n-     let scriptType=document.getElementById(\"dropdown1\")?.value;\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n   try {\r\n     console.log(scriptType)\r\n     const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-            method: \"POST\",\r\n-            headers: {\r\n-                \"Content-Type\": \"application/json\",\r\n-                \"Authorization\": token\r\n-            },\r\n-             body: JSON.stringify({\r\n-                script: query,\r\n-                type: scriptType\r\n-            })\r\n-        });\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n \r\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n     console.log(suggestions)\r\n     console.log(data)\r\n-    \r\n+\r\n     dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-  } catch(err) {\r\n+  } catch (err) {\r\n     console.error(err);\r\n   }\r\n }\r\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n-  if(e.target.tagName === 'LI') {\r\n+  if (e.target.tagName === 'LI') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n@@ -128,25 +128,25 @@\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n- dropdown.addEventListener('change', function() {\r\n-      const selectedValue = this.value;\r\n-      if (selectedValue) {\r\n-        const currentValue = editor.getValue();\r\n-        // Append new value with newline\r\n-        editor.setValue(currentValue + '\\n' + selectedValue);\r\n-      }\r\n-    });\r\n+dropdown.addEventListener('change', function () {\r\n+  const selectedValue = this.value;\r\n+  if (selectedValue) {\r\n+    const currentValue = editor.getValue();\r\n+    // Append new value with newline\r\n+    editor.setValue(currentValue + '\\n' + selectedValue);\r\n+  }\r\n+});\r\n \r\n-     dropdown1.addEventListener('change', function() {\r\n-      const selectedValue = this.value;\r\n-      if (selectedValue) {\r\n-        const currentValue = editor.getValue();\r\n-        // Append new value with newline\r\n-        editor.setValue(currentValue + '\\n' + selectedValue);\r\n-      }\r\n-    });\r\n+dropdown1.addEventListener('change', function () {\r\n+  const selectedValue = this.value;\r\n+  if (selectedValue) {\r\n+    const currentValue = editor.getValue();\r\n+    // Append new value with newline\r\n+    editor.setValue(currentValue + '\\n' + selectedValue);\r\n+  }\r\n+});\r\n \r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n"
                },
                {
                    "date": 1755754402250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-  let editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+  const editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n"
                },
                {
                    "date": 1755754476831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+\r\n+let editor;\r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n   const editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n"
                },
                {
                    "date": 1755754520625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n \r\n let editor;\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+//require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n   const editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n     \"type\": \"strategy_order\",\r\n@@ -10,9 +10,9 @@\n     \"is_sl\": false,\r\n     \"is_trail_set\": false,\r\n     \"position_size\": \"{{strategy.position_size}}\",\r\n     \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n+    }`,\r\n     language: \"json\",\r\n     theme: \"vs-dark\",\r\n     automaticLayout: true,\r\n     suggestOnTriggerCharacters: false,\r\n"
                },
                {
                    "date": 1755754526999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n \r\n let editor;\r\n-//require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n   const editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n     \"type\": \"strategy_order\",\r\n"
                },
                {
                    "date": 1755754573140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \r\n let editor;\r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-  const editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+   editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n"
                },
                {
                    "date": 1755754621155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown.addEventListener('change', function () {\r\n+dropdown.addEventListener('input', function () {\r\n   const selectedValue = this.value;\r\n   if (selectedValue) {\r\n     const currentValue = editor.getValue();\r\n     // Append new value with newline\r\n"
                },
                {
                    "date": 1755754668609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown.addEventListener('input', function () {\r\n+searchInput.addEventListener('change', function () {\r\n   const selectedValue = this.value;\r\n   if (selectedValue) {\r\n     const currentValue = editor.getValue();\r\n     // Append new value with newline\r\n"
                },
                {
                    "date": 1755754784294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-searchInput.addEventListener('input', debounce(e => {\r\n+searchInput.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n searchInput.addEventListener('change', function () {\r\n"
                },
                {
                    "date": 1755754811997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-searchInput.addEventListener('click', debounce(e => {\r\n+dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n searchInput.addEventListener('change', function () {\r\n"
                },
                {
                    "date": 1755754981773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \r\n let editor;\r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-   editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n     value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n@@ -130,26 +130,44 @@\n dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-searchInput.addEventListener('change', function () {\r\n-  const selectedValue = this.value;\r\n-  if (selectedValue) {\r\n-    const currentValue = editor.getValue();\r\n-    // Append new value with newline\r\n-    editor.setValue(currentValue + '\\n' + selectedValue);\r\n-  }\r\n-});\r\n+dropdown.addEventListener('change', function () {\r\n+    const selectedValue = this.value;\r\n+    if (!selectedValue || !editor) return;\r\n \r\n-dropdown1.addEventListener('change', function () {\r\n-  const selectedValue = this.value;\r\n-  if (selectedValue) {\r\n-    const currentValue = editor.getValue();\r\n-    // Append new value with newline\r\n-    editor.setValue(currentValue + '\\n' + selectedValue);\r\n-  }\r\n-});\r\n+    const position = editor.getPosition(); // current cursor\r\n+    editor.executeEdits(\"dropdown-insert\", [\r\n+      {\r\n+        range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n+        text: selectedValue,\r\n+        forceMoveMarkers: true\r\n+      }\r\n+    ]);\r\n \r\n+    editor.setPosition({\r\n+      lineNumber: position.lineNumber,\r\n+      column: position.column + selectedValue.length\r\n+    });\r\n+\r\n+    this.selectedIndex = 0; // reset dropdown\r\n+    // const selectedValue = this.value;\r\n+    // if (selectedValue) {\r\n+    //   const currentValue = editor.getValue();\r\n+    //   // Append new value with newline\r\n+    //   editor.setValue(currentValue + '\\n' + selectedValue);\r\n+    // }\r\n+  });\r\n+\r\n+  dropdown1.addEventListener('change', function () {\r\n+    const selectedValue = this.value;\r\n+    if (selectedValue) {\r\n+      const currentValue = editor.getValue();\r\n+      // Append new value with newline\r\n+      editor.setValue(currentValue + '\\n' + selectedValue);\r\n+    }\r\n+  });\r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755754991381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,9 +148,9 @@\n       lineNumber: position.lineNumber,\r\n       column: position.column + selectedValue.length\r\n     });\r\n \r\n-    this.selectedIndex = 0; // reset dropdown\r\n+    this.selectedIndex = 0;\r\n     // const selectedValue = this.value;\r\n     // if (selectedValue) {\r\n     //   const currentValue = editor.getValue();\r\n     //   // Append new value with newline\r\n"
                },
                {
                    "date": 1755755036733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,16 +157,16 @@\n     //   editor.setValue(currentValue + '\\n' + selectedValue);\r\n     // }\r\n   });\r\n \r\n-  dropdown1.addEventListener('change', function () {\r\n-    const selectedValue = this.value;\r\n-    if (selectedValue) {\r\n-      const currentValue = editor.getValue();\r\n-      // Append new value with newline\r\n-      editor.setValue(currentValue + '\\n' + selectedValue);\r\n-    }\r\n-  });\r\n+  // dropdown1.addEventListener('change', function () {\r\n+  //   const selectedValue = this.value;\r\n+  //   if (selectedValue) {\r\n+  //     const currentValue = editor.getValue();\r\n+  //     // Append new value with newline\r\n+  //     editor.setValue(currentValue + '\\n' + selectedValue);\r\n+  //   }\r\n+  // });\r\n \r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n"
                },
                {
                    "date": 1755755072194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown.addEventListener('change', function () {\r\n+dropdown1.addEventListener('change', function () {\r\n     const selectedValue = this.value;\r\n     if (!selectedValue || !editor) return;\r\n \r\n     const position = editor.getPosition(); // current cursor\r\n"
                },
                {
                    "date": 1755755088170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown1.addEventListener('change', function () {\r\n+dropdown.addEventListener('change', function () {\r\n     const selectedValue = this.value;\r\n     if (!selectedValue || !editor) return;\r\n \r\n     const position = editor.getPosition(); // current cursor\r\n"
                },
                {
                    "date": 1755755095933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown.addEventListener('change', function () {\r\n+dropdown1.addEventListener('change', function () {\r\n     const selectedValue = this.value;\r\n     if (!selectedValue || !editor) return;\r\n \r\n     const position = editor.getPosition(); // current cursor\r\n"
                },
                {
                    "date": 1755755310796,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,9 @@\n dropdown1.addEventListener('change', function () {\r\n     const selectedValue = this.value;\r\n     if (!selectedValue || !editor) return;\r\n \r\n-    const position = editor.getPosition(); // current cursor\r\n+    const position = editor.getPosition(); \r\n     editor.executeEdits(\"dropdown-insert\", [\r\n       {\r\n         range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n         text: selectedValue,\r\n"
                },
                {
                    "date": 1755755444672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,35 +130,56 @@\n dropdown.addEventListener('click', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n-dropdown1.addEventListener('change', function () {\r\n-    const selectedValue = this.value;\r\n-    if (!selectedValue || !editor) return;\r\n \r\n-    const position = editor.getPosition(); \r\n-    editor.executeEdits(\"dropdown-insert\", [\r\n-      {\r\n-        range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n-        text: selectedValue,\r\n-        forceMoveMarkers: true\r\n-      }\r\n-    ]);\r\n+dropdown1.addEventListener(\"change\", function() {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n \r\n-    editor.setPosition({\r\n-      lineNumber: position.lineNumber,\r\n-      column: position.column + selectedValue.length\r\n-    });\r\n+  let currentValue = editor.getValue();\r\n \r\n-    this.selectedIndex = 0;\r\n-    // const selectedValue = this.value;\r\n-    // if (selectedValue) {\r\n-    //   const currentValue = editor.getValue();\r\n-    //   // Append new value with newline\r\n-    //   editor.setValue(currentValue + '\\n' + selectedValue);\r\n-    // }\r\n-  });\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n \r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \" + selectedValue + \"\\n}\";\r\n+\r\n+  editor.setValue(newValue);\r\n+\r\n+  this.selectedIndex = 0; // reset dropdown\r\n+});\r\n+\r\n+// dropdown1.addEventListener('change', function () {\r\n+//     const selectedValue = this.value;\r\n+//     if (!selectedValue || !editor) return;\r\n+\r\n+//     const position = editor.getPosition(); \r\n+//     editor.executeEdits(\"dropdown-insert\", [\r\n+//       {\r\n+//         range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n+//         text: selectedValue,\r\n+//         forceMoveMarkers: true\r\n+//       }\r\n+//     ]);\r\n+\r\n+//     editor.setPosition({\r\n+//       lineNumber: position.lineNumber,\r\n+//       column: position.column + selectedValue.length\r\n+//     });\r\n+\r\n+//     this.selectedIndex = 0;\r\n+//     // const selectedValue = this.value;\r\n+//     // if (selectedValue) {\r\n+//     //   const currentValue = editor.getValue();\r\n+//     //   // Append new value with newline\r\n+//     //   editor.setValue(currentValue + '\\n' + selectedValue);\r\n+//     // }\r\n+//   });\r\n+\r\n   // dropdown1.addEventListener('change', function () {\r\n   //   const selectedValue = this.value;\r\n   //   if (selectedValue) {\r\n   //     const currentValue = editor.getValue();\r\n"
                },
                {
                    "date": 1755755546016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + selectedValue + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + \"script_type:${selectedValue}\" + \"\\n}\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755566123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + \"script_type:${selectedValue}\" + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type:${selectedValue}\"` + \"\\n}\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755578641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type:${selectedValue}\"` + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type:\"\"${selectedValue}\"` + \"\\n}\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755599404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type:\"\"${selectedValue}\"` + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + `script_type:\"${selectedValue}\"` + \"\\n}\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755614656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `script_type:\"${selectedValue}\"` + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n}\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755707135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n}\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n }\"+ `\"is_rollover\":\"${true}\"`;\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755727696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n }\"+ `\"is_rollover\":\"${true}\"`;\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n \"+ `\"is_rollover\":\"${true}\"`+ \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755787581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n \"+ `\"is_rollover\":\"${true}\"`+ \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755812920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \"\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + ,\"\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755821152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + ,\"\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \",\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755846267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \" + `\"script_type\":\"${selectedValue}\"` + \",\\n \"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n"
                },
                {
                    "date": 1755755892966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,8 +131,11 @@\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n \r\n+\r\n+\r\n+//adding script_type\r\n dropdown1.addEventListener(\"change\", function() {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755755914428,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,28 +134,29 @@\n \r\n \r\n \r\n //adding script_type\r\n-dropdown1.addEventListener(\"change\", function() {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n \r\n-  let currentValue = editor.getValue();\r\n+// dropdown1.addEventListener(\"change\", function() {\r\n+//   const selectedValue = this.value;\r\n+//   if (!selectedValue || !editor) return;\r\n \r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n+//   let currentValue = editor.getValue();\r\n \r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+//   // Remove the last closing brace\r\n+//   currentValue = currentValue.trim();\r\n+//   if (currentValue.endsWith(\"}\")) {\r\n+//     currentValue = currentValue.slice(0, -1);\r\n+//   }\r\n \r\n-  editor.setValue(newValue);\r\n+//   // Add new line with snippet and closing brace\r\n+//   const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n \r\n-  this.selectedIndex = 0; // reset dropdown\r\n-});\r\n+//   editor.setValue(newValue);\r\n \r\n+//   this.selectedIndex = 0; // reset dropdown\r\n+// });\r\n+\r\n // dropdown1.addEventListener('change', function () {\r\n //     const selectedValue = this.value;\r\n //     if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755755949299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,8 +63,31 @@\n   }\r\n \r\n })\r\n \r\n+\r\n+\r\n+dropdown1.addEventListener(\"change\", function() {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+\r\n+  editor.setValue(newValue);\r\n+\r\n+  this.selectedIndex = 0; // reset dropdown\r\n+});\r\n+\r\n+\r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n@@ -133,30 +156,10 @@\n \r\n \r\n \r\n \r\n-//adding script_type\r\n \r\n-// dropdown1.addEventListener(\"change\", function() {\r\n-//   const selectedValue = this.value;\r\n-//   if (!selectedValue || !editor) return;\r\n \r\n-//   let currentValue = editor.getValue();\r\n-\r\n-//   // Remove the last closing brace\r\n-//   currentValue = currentValue.trim();\r\n-//   if (currentValue.endsWith(\"}\")) {\r\n-//     currentValue = currentValue.slice(0, -1);\r\n-//   }\r\n-\r\n-//   // Add new line with snippet and closing brace\r\n-//   const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n-\r\n-//   editor.setValue(newValue);\r\n-\r\n-//   this.selectedIndex = 0; // reset dropdown\r\n-// });\r\n-\r\n // dropdown1.addEventListener('change', function () {\r\n //     const selectedValue = this.value;\r\n //     if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755755960010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n \r\n })\r\n \r\n \r\n-\r\n+//adding to code snippet\r\n dropdown1.addEventListener(\"change\", function() {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755756060907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,16 +89,16 @@\n \r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-    searchInput.value = \"\";\r\n-  }\r\n+// document.addEventListener('click', (e) => {\r\n+//   // Check if click is outside the input and dropdown\r\n+//   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+//     dropdown.style.display = 'none';\r\n+//     searchInput.value = \"\";\r\n+//   }\r\n \r\n-});\r\n+// });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n"
                },
                {
                    "date": 1755756174187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,19 +89,22 @@\n \r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n-// document.addEventListener('click', (e) => {\r\n-//   // Check if click is outside the input and dropdown\r\n-//   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-//     dropdown.style.display = 'none';\r\n-//     searchInput.value = \"\";\r\n-//   }\r\n \r\n-// });\r\n \r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+    searchInput.value = \"\";\r\n+  }\r\n+\r\n+});\r\n+\r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n+  console.log(\"enter1\")\r\n   let timer;\r\n   return function (...args) {\r\n     clearTimeout(timer);\r\n     timer = setTimeout(() => func.apply(this, args), delay);\r\n"
                },
                {
                    "date": 1755756233539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,9 +102,9 @@\n });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n-  console.log(\"enter1\")\r\n+  console.log(\"enter function debounce\")\r\n   let timer;\r\n   return function (...args) {\r\n     clearTimeout(timer);\r\n     timer = setTimeout(() => func.apply(this, args), delay);\r\n@@ -112,8 +112,9 @@\n }\r\n \r\n // Fetch API suggestions\r\n async function fetchSuggestions(query) {\r\n+  console.log(\"fetch\")\r\n   if (!query) {\r\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n@@ -153,8 +154,9 @@\n   }\r\n });\r\n \r\n dropdown.addEventListener('click', debounce(e => {\r\n+  console.log(\"debounce delay\")\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n \r\n"
                },
                {
                    "date": 1755756301269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,9 +153,9 @@\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-dropdown.addEventListener('click', debounce(e => {\r\n+searchInput.addEventListener('click', debounce(e => {\r\n   console.log(\"debounce delay\")\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n"
                },
                {
                    "date": 1755756441618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,8 +120,9 @@\n     return;\r\n   }\r\n   let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n   try {\r\n+    console.log(\"try block\")\r\n     console.log(scriptType)\r\n     const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n       method: \"POST\",\r\n       headers: {\r\n"
                },
                {
                    "date": 1755756455079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -114,8 +114,9 @@\n // Fetch API suggestions\r\n async function fetchSuggestions(query) {\r\n   console.log(\"fetch\")\r\n   if (!query) {\r\n+    console.log(\"not found\")\r\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n"
                },
                {
                    "date": 1755756473110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,9 +155,9 @@\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-searchInput.addEventListener('click', debounce(e => {\r\n+dropdown.addEventListener('click', debounce(e => {\r\n   console.log(\"debounce delay\")\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n"
                },
                {
                    "date": 1755756579538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,33 @@\n-\r\n-let editor;\r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n+    monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+        value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n     \"is_sl\": false,\r\n     \"is_trail_set\": false,\r\n     \"position_size\": \"{{strategy.position_size}}\",\r\n     \"transaction_type\": \"{{strategy.order.action}}\"\r\n-    }`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n+}`,\r\n+        language: \"json\",\r\n+        theme: \"vs-dark\",\r\n+        automaticLayout: true,\r\n+        suggestOnTriggerCharacters: false,\r\n+        quickSuggestions: false,\r\n+        wordBasedSuggestions: false,\r\n+        parameterHints: { enabled: false },\r\n+        inlineSuggest: { enabled: false },\r\n+        fontSize: 18,\r\n+        minimap: { enabled: false },\r\n+        wordWrap: \"on\",\r\n+        scrollbar: {\r\n+            vertical: \"hidden\",\r\n+            horizontal: \"hidden\",\r\n+            handleMouseWheel: false\r\n+        },\r\n+    });\r\n });\r\n \r\n \r\n \r\n@@ -39,170 +37,101 @@\n let sqaureOf = document.getElementById(\"sqaureOf\");\r\n let cancelOrder = document.getElementById(\"cancelOrder\");\r\n \r\n function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n+    console.log(\"enter\");\r\n+    document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+    obj.classList.add('active');\r\n }\r\n \r\n function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+    document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n+    if (dropdown1.value == \"EQ\") {\r\n+        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+        //                     <div id=\"dropdown2\"></div>`;\r\n \r\n-  }\r\n+    }\r\n \r\n })\r\n \r\n-\r\n-//adding to code snippet\r\n-dropdown1.addEventListener(\"change\", function() {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n-\r\n-  editor.setValue(newValue);\r\n-\r\n-  this.selectedIndex = 0; // reset dropdown\r\n-});\r\n-\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+ const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n-\r\n-\r\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n-    searchInput.value = \"\";\r\n+     searchInput.value=\"\";\r\n   }\r\n-\r\n+ \r\n });\r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n-  console.log(\"enter function debounce\")\r\n   let timer;\r\n-  return function (...args) {\r\n+  return function(...args) {\r\n     clearTimeout(timer);\r\n     timer = setTimeout(() => func.apply(this, args), delay);\r\n   };\r\n }\r\n \r\n // Fetch API suggestions\r\n async function fetchSuggestions(query) {\r\n-  console.log(\"fetch\")\r\n-  if (!query) {\r\n-    console.log(\"not found\")\r\n+  if(!query) {\r\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+     let scriptType=document.getElementById(\"dropdown1\")?.value;\r\n   try {\r\n-    console.log(\"try block\")\r\n     console.log(scriptType)\r\n     const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n+            method: \"POST\",\r\n+            headers: {\r\n+                \"Content-Type\": \"application/json\",\r\n+                \"Authorization\": token\r\n+            },\r\n+             body: JSON.stringify({\r\n+                script: query,\r\n+                type: scriptType\r\n+            })\r\n+        });\r\n \r\n     const data = await res.json();\r\n     const suggestions = data.data;\r\n     console.log(suggestions)\r\n     console.log(data)\r\n-\r\n+    \r\n     dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-  } catch (err) {\r\n+  } catch(err) {\r\n     console.error(err);\r\n   }\r\n }\r\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n+  if(e.target.tagName === 'LI') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-dropdown.addEventListener('click', debounce(e => {\r\n-  console.log(\"debounce delay\")\r\n+searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n \r\n \r\n-\r\n-\r\n-\r\n-// dropdown1.addEventListener('change', function () {\r\n-//     const selectedValue = this.value;\r\n-//     if (!selectedValue || !editor) return;\r\n-\r\n-//     const position = editor.getPosition(); \r\n-//     editor.executeEdits(\"dropdown-insert\", [\r\n-//       {\r\n-//         range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n-//         text: selectedValue,\r\n-//         forceMoveMarkers: true\r\n-//       }\r\n-//     ]);\r\n-\r\n-//     editor.setPosition({\r\n-//       lineNumber: position.lineNumber,\r\n-//       column: position.column + selectedValue.length\r\n-//     });\r\n-\r\n-//     this.selectedIndex = 0;\r\n-//     // const selectedValue = this.value;\r\n-//     // if (selectedValue) {\r\n-//     //   const currentValue = editor.getValue();\r\n-//     //   // Append new value with newline\r\n-//     //   editor.setValue(currentValue + '\\n' + selectedValue);\r\n-//     // }\r\n-//   });\r\n-\r\n-  // dropdown1.addEventListener('change', function () {\r\n-  //   const selectedValue = this.value;\r\n-  //   if (selectedValue) {\r\n-  //     const currentValue = editor.getValue();\r\n-  //     // Append new value with newline\r\n-  //     editor.setValue(currentValue + '\\n' + selectedValue);\r\n-  //   }\r\n-  // });\r\n-\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755756619459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,9 @@\n+let editor;\r\n+\r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-    monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    editor=monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n         value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n"
                },
                {
                    "date": 1755756645227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,8 +75,31 @@\n   }\r\n  \r\n });\r\n \r\n+//adding to code snippet\r\n+dropdown1.addEventListener(\"change\", function() {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+\r\n+  editor.setValue(newValue);\r\n+\r\n+  this.selectedIndex = 0; // reset dropdown\r\n+});\r\n+\r\n+\r\n+\r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n   return function(...args) {\r\n"
                },
                {
                    "date": 1755756696858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,9 @@\n     }\r\n \r\n })\r\n \r\n- const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n"
                },
                {
                    "date": 1755756744069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,20 +63,8 @@\n     }\r\n \r\n })\r\n \r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-     searchInput.value=\"\";\r\n-  }\r\n- \r\n-});\r\n-\r\n //adding to code snippet\r\n dropdown1.addEventListener(\"change\", function() {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n@@ -96,10 +84,22 @@\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n });\r\n \r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+     searchInput.value=\"\";\r\n+  }\r\n+ \r\n+});\r\n \r\n \r\n+\r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n   return function(...args) {\r\n"
                },
                {
                    "date": 1755756777785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,12 +130,13 @@\n             })\r\n         });\r\n \r\n     const data = await res.json();\r\n+    console.log(data)\r\n     const suggestions = data.data;\r\n     console.log(suggestions)\r\n-    console.log(data)\r\n     \r\n+    \r\n     dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n   } catch(err) {\r\n     console.error(err);\r\n"
                },
                {
                    "date": 1755756980546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,11 @@\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n dropdown1.addEventListener(\"change\", () => {\r\n+  console.log(dropdown1.value)\r\n     //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n     if (dropdown1.value == \"EQ\") {\r\n         document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n"
                },
                {
                    "date": 1755757001019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,8 +50,9 @@\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n+console.log(dropdown1.value)\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n   console.log(dropdown1.value)\r\n     //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n"
                },
                {
                    "date": 1755757015009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,8 @@\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n-console.log(dropdown1.value)\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n   console.log(dropdown1.value)\r\n     //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n"
                },
                {
                    "date": 1755757153121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,35 @@\n let editor;\r\n \r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n-    editor=monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-        value: `{\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n     \"type\": \"strategy_order\",\r\n     \"exit_on_opposite\": false,\r\n     \"is_tgt\": false,\r\n     \"is_sl\": false,\r\n     \"is_trail_set\": false,\r\n     \"position_size\": \"{{strategy.position_size}}\",\r\n     \"transaction_type\": \"{{strategy.order.action}}\"\r\n }`,\r\n-        language: \"json\",\r\n-        theme: \"vs-dark\",\r\n-        automaticLayout: true,\r\n-        suggestOnTriggerCharacters: false,\r\n-        quickSuggestions: false,\r\n-        wordBasedSuggestions: false,\r\n-        parameterHints: { enabled: false },\r\n-        inlineSuggest: { enabled: false },\r\n-        fontSize: 18,\r\n-        minimap: { enabled: false },\r\n-        wordWrap: \"on\",\r\n-        scrollbar: {\r\n-            vertical: \"hidden\",\r\n-            horizontal: \"hidden\",\r\n-            handleMouseWheel: false\r\n-        },\r\n-    });\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n });\r\n \r\n \r\n \r\n@@ -39,36 +39,36 @@\n let sqaureOf = document.getElementById(\"sqaureOf\");\r\n let cancelOrder = document.getElementById(\"cancelOrder\");\r\n \r\n function setActive(obj) {\r\n-    console.log(\"enter\");\r\n-    document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-    obj.classList.add('active');\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n }\r\n \r\n function showStrategyOrder() {\r\n-    document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n \r\n }\r\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n   console.log(dropdown1.value)\r\n-    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n-    if (dropdown1.value == \"EQ\") {\r\n-        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-        //                     <div id=\"dropdown2\"></div>`;\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n \r\n-    }\r\n+  }\r\n \r\n })\r\n \r\n //adding to code snippet\r\n-dropdown1.addEventListener(\"change\", function() {\r\n+dropdown1.addEventListener(\"change\", function () {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n@@ -79,9 +79,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\"+ `\"is_rollover\":${true}`+ \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n   this.selectedIndex = 0; // reset dropdown\r\n@@ -93,62 +93,63 @@\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n-     searchInput.value=\"\";\r\n+    searchInput.value = \"\";\r\n   }\r\n- \r\n+\r\n });\r\n \r\n \r\n \r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n-  return function(...args) {\r\n+  return function (...args) {\r\n     clearTimeout(timer);\r\n     timer = setTimeout(() => func.apply(this, args), delay);\r\n   };\r\n }\r\n \r\n // Fetch API suggestions\r\n async function fetchSuggestions(query) {\r\n-  if(!query) {\r\n+  if (!query) {\r\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n-     let scriptType=document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    console.log(scriptType)\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-            method: \"POST\",\r\n-            headers: {\r\n-                \"Content-Type\": \"application/json\",\r\n-                \"Authorization\": token\r\n-            },\r\n-             body: JSON.stringify({\r\n-                script: query,\r\n-                type: scriptType\r\n-            })\r\n-        });\r\n+  dropdown1.addEventListener(\"change\", () => {\r\n+    let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+    try {\r\n+      console.log(scriptType)\r\n+      const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+        method: \"POST\",\r\n+        headers: {\r\n+          \"Content-Type\": \"application/json\",\r\n+          \"Authorization\": token\r\n+        },\r\n+        body: JSON.stringify({\r\n+          script: query,\r\n+          type: scriptType\r\n+        })\r\n+      });\r\n+    });\r\n+  const data = await res.json();\r\n+  console.log(data)\r\n+  const suggestions = data.data;\r\n+  console.log(suggestions)\r\n \r\n-    const data = await res.json();\r\n-    console.log(data)\r\n-    const suggestions = data.data;\r\n-    console.log(suggestions)\r\n-    \r\n-    \r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-  } catch(err) {\r\n-    console.error(err);\r\n-  }\r\n+\r\n+  dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+  dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+} catch (err) {\r\n+  console.error(err);\r\n }\r\n+}\r\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n-  if(e.target.tagName === 'LI') {\r\n+  if (e.target.tagName === 'LI') {\r\n     searchInput.value = e.target.textContent;\r\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755757164013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n           script: query,\r\n           type: scriptType\r\n         })\r\n       });\r\n-    });\r\n+  \r\n   const data = await res.json();\r\n   console.log(data)\r\n   const suggestions = data.data;\r\n   console.log(suggestions)\r\n"
                },
                {
                    "date": 1755757185447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,12 @@\n \r\n \r\n   dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n   dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-} catch (err) {\r\n+\r\n+} \r\n+});\r\n+catch (err) {\r\n   console.error(err);\r\n }\r\n }\r\n \r\n"
                },
                {
                    "date": 1755757239320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,11 +116,12 @@\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n-  dropdown1.addEventListener(\"change\", () => {\r\n+  \r\n+    try {\r\n+      dropdown1.addEventListener(\"change\", () => {\r\n     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-    try {\r\n       console.log(scriptType)\r\n       const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n         method: \"POST\",\r\n         headers: {\r\n@@ -131,36 +132,35 @@\n           script: query,\r\n           type: scriptType\r\n         })\r\n       });\r\n-  \r\n-  const data = await res.json();\r\n-  console.log(data)\r\n-  const suggestions = data.data;\r\n-  console.log(suggestions)\r\n \r\n+      const data = await res.json();\r\n+      console.log(data)\r\n+      const suggestions = data.data;\r\n+      console.log(suggestions)\r\n \r\n-  dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-  dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n \r\n-} \r\n-});\r\n-catch (err) {\r\n-  console.error(err);\r\n-}\r\n-}\r\n+      dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+      dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n \r\n+    }  \r\n+    catch (err) {\r\n+      console.error(err);\r\n+    }\r\n+  }\r\n+\r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    searchInput.value = e.target.textContent;\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n+    if (e.target.tagName === 'LI') {\r\n+      searchInput.value = e.target.textContent;\r\n+      dropdown.style.display = 'none';\r\n+    }\r\n+  });\r\n \r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n+  searchInput.addEventListener('input', debounce(e => {\r\n+    fetchSuggestions(e.target.value);\r\n+  }, 300));\r\n \r\n \r\n \r\n // const searchBox = document.getElementById(\"searchBox\");\r\n"
                },
                {
                    "date": 1755757246440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n \r\n \r\n       dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n       dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n+    });\r\n     }  \r\n     catch (err) {\r\n       console.error(err);\r\n     }\r\n"
                },
                {
                    "date": 1755757273602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,12 +116,11 @@\n     dropdown.style.display = 'none';\r\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n-  \r\n+\r\n+    let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n     try {\r\n-      dropdown1.addEventListener(\"change\", () => {\r\n-    let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n       console.log(scriptType)\r\n       const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n         method: \"POST\",\r\n         headers: {\r\n@@ -141,9 +140,9 @@\n \r\n \r\n       dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n       dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-    });\r\n+\r\n     }  \r\n     catch (err) {\r\n       console.error(err);\r\n     }\r\n"
                },
                {
                    "date": 1755757385346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,10 +82,8 @@\n   // Add new line with snippet and closing brace\r\n   const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n-\r\n-  this.selectedIndex = 0; // reset dropdown\r\n });\r\n \r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n"
                },
                {
                    "date": 1755757445808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,12 +63,10 @@\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n-})\r\n \r\n //adding to code snippet\r\n-dropdown1.addEventListener(\"change\", function () {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n"
                },
                {
                    "date": 1755757462326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,10 +63,12 @@\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n+})\r\n \r\n //adding to code snippet\r\n+dropdown1.addEventListener(\"change\", function () {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n@@ -80,8 +82,9 @@\n   // Add new line with snippet and closing brace\r\n   const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n+\r\n });\r\n \r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n"
                },
                {
                    "date": 1755757560909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,8 @@\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n-    searchInput.value = \"\";\r\n   }\r\n \r\n });\r\n \r\n"
                },
                {
                    "date": 1755757668033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,8 @@\n   // Check if click is outside the input and dropdown\r\n   if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n     dropdown.style.display = 'none';\r\n   }\r\n-\r\n });\r\n \r\n \r\n \r\n@@ -157,10 +156,12 @@\n   searchInput.addEventListener('input', debounce(e => {\r\n     fetchSuggestions(e.target.value);\r\n   }, 300));\r\n \r\n+  console.log(searchInput.value)\r\n \r\n \r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755757692388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,8 @@\n   searchInput.addEventListener('input', debounce(e => {\r\n     fetchSuggestions(e.target.value);\r\n   }, 300));\r\n \r\n-  console.log(searchInput.value)\r\n \r\n \r\n \r\n // const searchBox = document.getElementById(\"searchBox\");\r\n"
                },
                {
                    "date": 1755757795482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = currentValue + \",\" + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n"
                },
                {
                    "date": 1755757846286,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\" + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = `${currentValue},`  + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n"
                },
                {
                    "date": 1755757872147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = `${currentValue},`  + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = currentValue  + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n"
                },
                {
                    "date": 1755757896843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue  + \"\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = currentValue  + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n"
                },
                {
                    "date": 1755758030444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,8 +148,10 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n     if (e.target.tagName === 'LI') {\r\n       searchInput.value = e.target.textContent;\r\n+       const selectedValue = e.target.getAttribute(\"data-value\"); \r\n+      console.log(\"Selected:\", selectedValue);\r\n       dropdown.style.display = 'none';\r\n     }\r\n   });\r\n \r\n"
                },
                {
                    "date": 1755758076971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,10 +148,8 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n     if (e.target.tagName === 'LI') {\r\n       searchInput.value = e.target.textContent;\r\n-       const selectedValue = e.target.getAttribute(\"data-value\"); \r\n-      console.log(\"Selected:\", selectedValue);\r\n       dropdown.style.display = 'none';\r\n     }\r\n   });\r\n \r\n"
                },
                {
                    "date": 1755758214544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,17 @@\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n     if (e.target.tagName === 'LI') {\r\n-      searchInput.value = e.target.textContent;\r\n+       const selectedText = e.target.textContent;   // full text inside <li>\r\n+    const selectedValue = e.target.dataset.value || selectedText; // safe key/value\r\n+\r\n+    // set in textbox\r\n+    searchInput.value = selectedText;\r\n+\r\n+    console.log(\"Selected item:\", selectedText);\r\n+    console.log(\"Selected raw value:\", selectedValue);\r\n+      //searchInput.value = e.target.textContent;\r\n       dropdown.style.display = 'none';\r\n     }\r\n   });\r\n \r\n"
                },
                {
                    "date": 1755758256363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,8 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n-  console.log(dropdown1.value)\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n"
                },
                {
                    "date": 1755758296207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -146,9 +146,9 @@\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n     if (e.target.tagName === 'LI') {\r\n-       const selectedText = e.target.textContent;   // full text inside <li>\r\n+       const selectedText = e.target.textContent;\r\n     const selectedValue = e.target.dataset.value || selectedText; // safe key/value\r\n \r\n     // set in textbox\r\n     searchInput.value = selectedText;\r\n"
                },
                {
                    "date": 1755758430407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue  + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n@@ -113,61 +113,61 @@\n     dropdown.innerHTML = '';\r\n     return;\r\n   }\r\n \r\n-    let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-    try {\r\n-      console.log(scriptType)\r\n-      const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-        method: \"POST\",\r\n-        headers: {\r\n-          \"Content-Type\": \"application/json\",\r\n-          \"Authorization\": token\r\n-        },\r\n-        body: JSON.stringify({\r\n-          script: query,\r\n-          type: scriptType\r\n-        })\r\n-      });\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    console.log(scriptType)\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n \r\n-      const data = await res.json();\r\n-      console.log(data)\r\n-      const suggestions = data.data;\r\n-      console.log(suggestions)\r\n+    const data = await res.json();\r\n+    console.log(data)\r\n+    const suggestions = data.data;\r\n+    console.log(suggestions)\r\n \r\n \r\n-      dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-      dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n \r\n-    }  \r\n-    catch (err) {\r\n-      console.error(err);\r\n-    }\r\n   }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n \r\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n-    if (e.target.tagName === 'LI') {\r\n-       const selectedText = e.target.textContent;\r\n-    const selectedValue = e.target.dataset.value || selectedText; // safe key/value\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n \r\n-    // set in textbox\r\n-    searchInput.value = selectedText;\r\n-\r\n-    console.log(\"Selected item:\", selectedText);\r\n-    console.log(\"Selected raw value:\", selectedValue);\r\n-      //searchInput.value = e.target.textContent;\r\n-      dropdown.style.display = 'none';\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\");\r\n     }\r\n-  });\r\n \r\n-  searchInput.addEventListener('input', debounce(e => {\r\n-    fetchSuggestions(e.target.value);\r\n-  }, 300));\r\n+    searchInput.value = selectedText; // set textbox value\r\n+    console.log(\"Final Selected:\", selectedText);\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n \r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n \r\n \r\n \r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755758475599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n     let selectedText = e.target.textContent;\r\n \r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\");\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n"
                },
                {
                    "date": 1755758535697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,19 @@\n \r\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n+\r\n+     if (editor) {\r\n+      let currentValue = editor.getValue().trim();\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1);\r\n+      }\r\n+      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedValue + \"\\\"\\n}\";\r\n+      editor.setValue(newValue);\r\n+    }\r\n   }\r\n+  }\r\n });\r\n \r\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n"
                },
                {
                    "date": 1755758541457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -166,9 +166,8 @@\n       const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedValue + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n-  }\r\n });\r\n \r\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n"
                },
                {
                    "date": 1755758601714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,9 +162,9 @@\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n       }\r\n-      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedValue + \"\\\"\\n}\";\r\n+      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758667945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,8 +161,9 @@\n      if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n+        console.log(currentValue)\r\n       }\r\n       const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n"
                },
                {
                    "date": 1755758714246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n+      const newValue = currentValue + \",\\t \\n  \\\"selected\\\": \\\"\" + selectedText + \"\\t \\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758752754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \",\\t \\n  \\\"selected\\\": \\\"\" + selectedText + \"\\t \\n}\";\r\n+      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758765762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \",\\n  \\\"selected\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n+      const newValue = currentValue + \",\\n  \\\"script\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758841906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,8 +162,9 @@\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n+        editor.setValue(currentValue + \",\")\r\n       }\r\n       const newValue = currentValue + \",\\n  \\\"script\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n"
                },
                {
                    "date": 1755758867923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,9 +162,8 @@\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n-        editor.setValue(currentValue + \",\")\r\n       }\r\n       const newValue = currentValue + \",\\n  \\\"script\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n"
                },
                {
                    "date": 1755758929572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \",\\n  \\\"script\\\": \\\"\" + selectedText + \"\\\"\\n}\";\r\n+      const newValue = currentValue + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758941366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n+      const newValue = currentValue + \"\\n\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758946930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \"\\n\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n+      const newValue = currentValue + \"\\n \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758960514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \"\\n \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\";\r\n+      const newValue = currentValue + \"\\n \\t\" + `\"script\":\"${selectedText}\"` + \",\\n \\t\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755758982895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \"\\n \\t\" + `\"script\":\"${selectedText}\"` + \",\\n \\t\";\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n \\t\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755759011709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n       }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n \\t\";\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755759259488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n-\r\n+    console.log(e.target.getAttribute(\"data-key\"))\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n"
                },
                {
                    "date": 1755759302024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,8 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n-    console.log(e.target.getAttribute(\"data-key\"))\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n"
                },
                {
                    "date": 1755759595090,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,8 +62,12 @@\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n+  else if(dropdown1.value == \"FUT\"){\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n })\r\n \r\n //adding to code snippet\r\n dropdown1.addEventListener(\"change\", function () {\r\n"
                },
                {
                    "date": 1755759642905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,8 +66,15 @@\n   else if(dropdown1.value == \"FUT\"){\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n+    else if(dropdown1.value == \"CE\"){\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+    else if(dropdown1.value == \"PE\"){\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n })\r\n \r\n //adding to code snippet\r\n dropdown1.addEventListener(\"change\", function () {\r\n"
                },
                {
                    "date": 1755759712139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,26 +52,29 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+  document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n+    //document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+                            <div style=\"display: flex;flex-direction:row;margin-top: 0.5em;\">\r\n+                                <input type=\"text\" id=\"search\" class=\"textbox\" placeholder=\"Select Symbol\">\r\n+                                <ul id=\"dropdown\" class=\"dropdownList\"></ul>\r\n+                                <button class=\"arrow\"><img src=\"C:\\Users\\admin\\Downloads\\chevron-down.svg\"></button>\r\n+                            </div>`\r\n \r\n   }\r\n \r\n-  else if(dropdown1.value == \"FUT\"){\r\n+  else if (dropdown1.value == \"FUT\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n-    else if(dropdown1.value == \"CE\"){\r\n+  else if (dropdown1.value == \"CE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n-    else if(dropdown1.value == \"PE\"){\r\n+  else if (dropdown1.value == \"PE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n@@ -167,9 +170,9 @@\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n \r\n-     if (editor) {\r\n+    if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n"
                },
                {
                    "date": 1755759779696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,26 +55,23 @@\n dropdown1.addEventListener(\"change\", () => {\r\n   document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n-    //document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-                            <div style=\"display: flex;flex-direction:row;margin-top: 0.5em;\">\r\n-                                <input type=\"text\" id=\"search\" class=\"textbox\" placeholder=\"Select Symbol\">\r\n-                                <ul id=\"dropdown\" class=\"dropdownList\"></ul>\r\n-                                <button class=\"arrow\"><img src=\"C:\\Users\\admin\\Downloads\\chevron-down.svg\"></button>\r\n-                            </div>`\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n-  else if (dropdown1.value == \"FUT\") {\r\n+  else if(dropdown1.value == \"FUT\"){\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n-  else if (dropdown1.value == \"CE\") {\r\n+    else if(dropdown1.value == \"CE\"){\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n-  else if (dropdown1.value == \"PE\") {\r\n+    else if(dropdown1.value == \"PE\"){\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n@@ -170,9 +167,9 @@\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n \r\n-    if (editor) {\r\n+     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n"
                },
                {
                    "date": 1755759825282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n-  document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n     // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n@@ -67,12 +67,12 @@\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n     else if(dropdown1.value == \"CE\"){\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n     else if(dropdown1.value == \"PE\"){\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n \r\n"
                },
                {
                    "date": 1755760128549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,11 +67,13 @@\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n     else if(dropdown1.value == \"CE\"){\r\n+          document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n     else if(dropdown1.value == \"PE\"){\r\n+          document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n"
                },
                {
                    "date": 1755760223100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,16 +55,18 @@\n dropdown1.addEventListener(\"change\", () => {\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n+        document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n     // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n     //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n   else if(dropdown1.value == \"FUT\"){\r\n+        document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n     else if(dropdown1.value == \"CE\"){\r\n"
                },
                {
                    "date": 1755763189373,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,27 +55,27 @@\n dropdown1.addEventListener(\"change\", () => {\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n-        document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n     // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n     //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n   }\r\n \r\n-  else if(dropdown1.value == \"FUT\"){\r\n-        document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n-    else if(dropdown1.value == \"CE\"){\r\n-          document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n-    else if(dropdown1.value == \"PE\"){\r\n-          document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n@@ -93,9 +93,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${true}` + \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n \r\n });\r\n@@ -171,9 +171,9 @@\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n \r\n-     if (editor) {\r\n+    if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n         console.log(currentValue)\r\n"
                },
                {
                    "date": 1755763515919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,8 +99,26 @@\n   editor.setValue(newValue);\r\n \r\n });\r\n \r\n+document.getElementById(\"atmdropdown\").addEventListener(\"change\",()=>{\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+\r\n+  editor.setValue(newValue);\r\n+})\r\n+\r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n"
                },
                {
                    "date": 1755763543885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,9 +112,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_selection\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n \r\n   editor.setValue(newValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755763615106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,9 +112,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_selection\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n \\t\" }\";\r\n \r\n   editor.setValue(newValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755763644628,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,9 +112,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n \\t\" }\";\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n }\" ;\r\n \r\n   editor.setValue(newValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755763695723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,8 +100,9 @@\n \r\n });\r\n \r\n document.getElementById(\"atmdropdown\").addEventListener(\"change\",()=>{\r\n+  console.log(\"enter\")\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n"
                },
                {
                    "date": 1755763748258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,349 @@\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n+\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to code snippet\r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+\r\n+  editor.setValue(newValue);\r\n+\r\n+});\r\n+\r\n+\r\n+document.getElementById(\"atmdropdown\").addEventListener(\"change\",()=>{\r\n+  console.log(\"enter\")\r\n+  const selectedValue = this.value;\r\n+  console.log(selectedValue)\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n }\" ;\r\n+\r\n+  editor.setValue(newValue);\r\n+})\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    console.log(scriptType)\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    console.log(data)\r\n+    const suggestions = data.data;\r\n+    console.log(suggestions)\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    searchInput.value = selectedText; // set textbox value\r\n+    console.log(\"Final Selected:\", selectedText);\r\n+    dropdown.style.display = 'none';\r\n+\r\n+    if (editor) {\r\n+      let currentValue = editor.getValue().trim();\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1);\r\n+        console.log(currentValue)\r\n+      }\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n+      editor.setValue(newValue);\r\n+    }\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\r\n+\r\n"
                },
                {
                    "date": 1755763922585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -346,351 +346,4 @@\n //   .then(res => res.json())\r\n //   .then(data => console.log(data))\r\n //   .catch(err => console.error(err));\r\n \r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n-});\r\n-\r\n-\r\n-\r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n-\r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to code snippet\r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n-\r\n-  editor.setValue(newValue);\r\n-\r\n-});\r\n-\r\n-document.getElementById(\"atmdropdown\").addEventListener(\"change\",()=>{\r\n-  console.log(\"enter\")\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n }\" ;\r\n-\r\n-  editor.setValue(newValue);\r\n-})\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n-\r\n-\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    console.log(scriptType)\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    console.log(data)\r\n-    const suggestions = data.data;\r\n-    console.log(suggestions)\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    searchInput.value = selectedText; // set textbox value\r\n-    console.log(\"Final Selected:\", selectedText);\r\n-    dropdown.style.display = 'none';\r\n-\r\n-    if (editor) {\r\n-      let currentValue = editor.getValue().trim();\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1);\r\n-        console.log(currentValue)\r\n-      }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n-      editor.setValue(newValue);\r\n-    }\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\r\n-\r\n"
                },
                {
                    "date": 1755763990836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,10 +99,10 @@\n   editor.setValue(newValue);\r\n \r\n });\r\n \r\n-\r\n-document.getElementById(\"atmdropdown\").addEventListener(\"change\",()=>{\r\n+let dropdown2=document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\",()=>{\r\n   console.log(\"enter\")\r\n   const selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n"
                },
                {
                    "date": 1755764047414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,9 +102,9 @@\n \r\n let dropdown2=document.getElementById(\"atmdropdown\");\r\n dropdown2.addEventListener(\"change\",()=>{\r\n   console.log(\"enter\")\r\n-  const selectedValue = this.value;\r\n+  let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n"
                },
                {
                    "date": 1755764107757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,9 @@\n \r\n });\r\n \r\n let dropdown2=document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\",()=>{\r\n+dropdown2.addEventListener(\"change\",function(){\r\n   console.log(\"enter\")\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n"
                },
                {
                    "date": 1755764124748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \",\\n }\" ;\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\" ;\r\n \r\n   editor.setValue(newValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755764145084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,347 @@\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n+\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to code snippet\r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+\r\n+  editor.setValue(newValue);\r\n+\r\n+});\r\n+\r\n+let dropdown2=document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\",function(){\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\" ;\r\n+\r\n+  editor.setValue(newValue);\r\n+})\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    console.log(scriptType)\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    console.log(data)\r\n+    const suggestions = data.data;\r\n+    console.log(suggestions)\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    searchInput.value = selectedText; // set textbox value\r\n+    console.log(\"Final Selected:\", selectedText);\r\n+    dropdown.style.display = 'none';\r\n+\r\n+    if (editor) {\r\n+      let currentValue = editor.getValue().trim();\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1);\r\n+        console.log(currentValue)\r\n+      }\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n+      editor.setValue(newValue);\r\n+    }\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\r\n+\r\n"
                },
                {
                    "date": 1755764273903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,370 +105,26 @@\n   let selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n-\r\n+if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n   // Remove the last closing brace\r\n   currentValue = currentValue.trim();\r\n   if (currentValue.endsWith(\"}\")) {\r\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n   const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\" ;\r\n-\r\n-  editor.setValue(newValue);\r\n-})\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n   }\r\n-});\r\n-\r\n-\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    console.log(scriptType)\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    console.log(data)\r\n-    const suggestions = data.data;\r\n-    console.log(suggestions)\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    searchInput.value = selectedText; // set textbox value\r\n-    console.log(\"Final Selected:\", selectedText);\r\n-    dropdown.style.display = 'none';\r\n-\r\n-    if (editor) {\r\n-      let currentValue = editor.getValue().trim();\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1);\r\n-        console.log(currentValue)\r\n-      }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n-      editor.setValue(newValue);\r\n-    }\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\r\n-\r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n-});\r\n-\r\n-\r\n-\r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n-\r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to code snippet\r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n-\r\n   editor.setValue(newValue);\r\n-\r\n });\r\n \r\n-let dropdown2=document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\",function(){\r\n-  console.log(\"enter\")\r\n-  let selectedValue = this.value;\r\n-  console.log(selectedValue)\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\" ;\r\n-\r\n-  editor.setValue(newValue);\r\n-})\r\n-\r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n"
                },
                {
                    "date": 1755764351624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,30 +99,30 @@\n   editor.setValue(newValue);\r\n \r\n });\r\n \r\n-let dropdown2=document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\",function(){\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n   let selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n-if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n   } else {\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n \r\n-  // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\" ;\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n   }\r\n-  editor.setValue(newValue);\r\n+  editor.setValue(currentValue);\r\n });\r\n \r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n const searchInput = document.getElementById('search');\r\n"
                },
                {
                    "date": 1755764406822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,20 +85,25 @@\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n-\r\n+ if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n   // Remove the last closing brace\r\n   currentValue = currentValue.trim();\r\n   if (currentValue.endsWith(\"}\")) {\r\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-  const newValue = currentValue + \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n \r\n-  editor.setValue(newValue);\r\n-\r\n });\r\n \r\n let dropdown2 = document.getElementById(\"atmdropdown\");\r\n dropdown2.addEventListener(\"change\", function () {\r\n"
                },
                {
                    "date": 1755764418227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,11 +85,11 @@\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n- if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+ if (/\"selectedValue\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      /(\"selectedValue\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n   } else {\r\n   // Remove the last closing brace\r\n"
                },
                {
                    "date": 1755764443395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,11 +85,11 @@\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n- if (/\"selectedValue\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n-      /(\"selectedValue\"\\s*:\\s*\").*?(\")/,\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n   } else {\r\n   // Remove the last closing brace\r\n"
                },
                {
                    "date": 1755764729609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,8 +90,10 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n+     currentValue = currentValue.trim().replace(/}$/, '') + \"\\n}\";\r\n+\r\n   } else {\r\n   // Remove the last closing brace\r\n   currentValue = currentValue.trim();\r\n   if (currentValue.endsWith(\"}\")) {\r\n"
                },
                {
                    "date": 1755764858270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,10 +90,11 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-     currentValue = currentValue.trim().replace(/}$/, '') + \"\\n}\";\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n+\r\n   } else {\r\n   // Remove the last closing brace\r\n   currentValue = currentValue.trim();\r\n   if (currentValue.endsWith(\"}\")) {\r\n"
                },
                {
                    "date": 1755765875475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,9 +196,9 @@\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n+      selectedText = selectedText.split(\"(\");\r\n     }\r\n \r\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n"
                },
                {
                    "date": 1755765897087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,9 +196,9 @@\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\");\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n     searchInput.value = selectedText; // set textbox value\r\n     console.log(\"Final Selected:\", selectedText);\r\n"
                },
                {
                    "date": 1755765943155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,14 +194,15 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n+     searchInput.value = selectedText;\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n-    searchInput.value = selectedText; // set textbox value\r\n+   \r\n     console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n \r\n     if (editor) {\r\n"
                },
                {
                    "date": 1755767202639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,8 +223,10 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755771216234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   }\r\n \r\n })\r\n \r\n-//adding to code snippet\r\n+//adding to script type code snippet \r\n dropdown1.addEventListener(\"change\", function () {\r\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755771428118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,8 +107,10 @@\n   editor.setValue(currentValue);\r\n \r\n });\r\n \r\n+\r\n+//adding code like \r\n let dropdown2 = document.getElementById(\"atmdropdown\");\r\n dropdown2.addEventListener(\"change\", function () {\r\n   let selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n"
                },
                {
                    "date": 1755771459071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,9 @@\n \r\n });\r\n \r\n \r\n-//adding code like \r\n+//adding code to snipper when script type is CE or PE\r\n let dropdown2 = document.getElementById(\"atmdropdown\");\r\n dropdown2.addEventListener(\"change\", function () {\r\n   let selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n"
                },
                {
                    "date": 1755771506248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,9 +196,9 @@\n // Add click selection\r\n dropdown?.addEventListener('click', e => {\r\n   if (e.target.tagName === 'LI') {\r\n     let selectedText = e.target.textContent;\r\n-     searchInput.value = selectedText;\r\n+    searchInput.value = selectedText;\r\n     // remove everything after \"(\"\r\n     if (selectedText.includes(\"(\")) {\r\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n"
                },
                {
                    "date": 1755771732925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,19 @@\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<select>\r\n+    <option>INTRADAY</option>\r\n+    <Option>CARRYFORWARD</Option>\r\n+    <Option>DELIVERY</Option>\r\n+    <Option>MARGIN</Option>\r\n+  </select>`\r\n \r\n+})\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755772774237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<select>\r\n+  `<select class='mt-3'>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n     <Option>MARGIN</Option>\r\n"
                },
                {
                    "date": 1755772819437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,8 +226,9 @@\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n   `<select class='mt-3'>\r\n+  <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n     <Option>MARGIN</Option>\r\n"
                },
                {
                    "date": 1755772839409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<select class='mt-3'>\r\n+  `<select class='mt-3 ml-2'>\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n"
                },
                {
                    "date": 1755772876575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,9 +232,8 @@\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n     <Option>MARGIN</Option>\r\n   </select>`\r\n-\r\n })\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755772997463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,11 +234,16 @@\n     <Option>MARGIN</Option>\r\n   </select>`\r\n })\r\n \r\n+let showDropdown=document.getElementById(\"EQOption2\");\r\n+showNumberBox.addEventListener(\"change\",function(){\r\n \r\n+})\r\n \r\n \r\n+\r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755773018551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,10 +235,11 @@\n   </select>`\r\n })\r\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n-showNumberBox.addEventListener(\"change\",function(){\r\n+showDropdown.addEventListener(\"change\",function(){\r\n \r\n+\r\n })\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755773269564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,10 +236,11 @@\n })\r\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n+  let numberbox=document.getElementById(\"showNumberBox\");\r\n+  numberbox.innerHTML = `<input type='number' id=\"quantityBox\">`\r\n \r\n-\r\n })\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755773319411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,10 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<select class='mt-3 ml-2'>\r\n+  `<b>Script <span class=\"text-muted\">*</span></b>\r\n+  <select class='mt-3 ml-2'>\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n"
                },
                {
                    "date": 1755773349012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,15 +226,18 @@\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n   `<b>Script <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n   <select class='mt-3 ml-2'>\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n     <Option>MARGIN</Option>\r\n-  </select>`\r\n+  </select>\r\n+  </div>`\r\n+  \r\n })\r\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n"
                },
                {
                    "date": 1755773384137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,11 +225,11 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b>Script <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"mt-3 ml-2\">Script <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n-  <select class='mt-3 ml-2'>\r\n+  <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n     <Option>CARRYFORWARD</Option>\r\n     <Option>DELIVERY</Option>\r\n"
                },
                {
                    "date": 1755773401370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"mt-3 ml-2\">Script <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-2\">Script <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n"
                },
                {
                    "date": 1755773412391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"m-2\">Script <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-3\">Script <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n"
                },
                {
                    "date": 1755773438667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"m-3\">Script <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-3\">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n"
                },
                {
                    "date": 1755773459130,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,9 +241,10 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<input type='number' id=\"quantityBox\">`\r\n+  numberbox.innerHTML = `<b>Quantiy <span class=\"text-muted\">*</span></b>\r\n+  <input type='number' id=\"quantityBox\">`\r\n \r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755773512156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -242,9 +242,9 @@\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b>Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <input type='number' id=\"quantityBox\">`\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\">`\r\n \r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755773535299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,9 +241,9 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b>Quantiy <span class=\"text-muted\">*</span></b>\r\n+  numberbox.innerHTML = `<b class=\"m-2\">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\">`\r\n \r\n })\r\n \r\n"
                },
                {
                    "date": 1755773583754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,10 +241,11 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2\">Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\">`\r\n+  numberbox.innerHTML = `<b class=\"m-3\">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\"></div>`\r\n \r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755773610237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,9 +241,9 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-3\">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  numberbox.innerHTML = `<b class=\"m-5\">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\"></div>`\r\n \r\n })\r\n"
                },
                {
                    "date": 1755773661530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,11 +241,11 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-5\">Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\"></div>`\r\n+  numberbox.innerHTML = `<b class=\"m-2\">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  <div class=>\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"textbox\"></div>`\r\n \r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755773697835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2\">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"textbox\"></div>`\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n \r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755773991750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"m-3\">Product <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-3 mt-3\">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n"
                },
                {
                    "date": 1755774007879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"m-3 mt-3\">Product <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-3 mt-5\">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n@@ -241,9 +241,9 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2\">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  numberbox.innerHTML = `<b class=\"m-2 mt-5\">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n \r\n })\r\n"
                },
                {
                    "date": 1755774029168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n \r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n-  `<b class=\"m-3 mt-5\">Product <span class=\"text-muted\">*</span></b>\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option>INTRADAY</option>\r\n@@ -241,9 +241,9 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2 mt-5\">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n \r\n })\r\n"
                },
                {
                    "date": 1755774269595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,11 @@\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n-\r\n+  if(numberbox.value<0){\r\n+    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  }\r\n })\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755774324186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n-  if(numberbox.value<0){\r\n+  if(quantityBox.value<0){\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n \r\n"
                },
                {
                    "date": 1755774349203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n-  if(quantityBox.value<0){\r\n+  if(document.getElementById(\"quantityBox\").value < 0){\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n \r\n"
                },
                {
                    "date": 1755774547085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,10 +244,17 @@\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n   <div class=>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n-  if(document.getElementById(\"quantityBox\").value < 0){\r\n-    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  // if(document.getElementById(\"quantityBox\").value < 0){\r\n+\r\n+  //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  // }\r\n+})\r\n+\r\n+document.getElementById(\"quantityBox\").addEventListener(\"input\",function(){\r\n+  if(document.getElementById(\"quantityBox\")?.value < 0){\r\n+    \r\n   }\r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755774557362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,9 @@\n })\r\n \r\n document.getElementById(\"quantityBox\").addEventListener(\"input\",function(){\r\n   if(document.getElementById(\"quantityBox\")?.value < 0){\r\n-    \r\n+    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755774587335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n   //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   // }\r\n })\r\n \r\n-document.getElementById(\"quantityBox\").addEventListener(\"input\",function(){\r\n+document.getElementById(\"quantityBox\")?.addEventListener(\"input\",function(){\r\n   if(document.getElementById(\"quantityBox\")?.value < 0){\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n"
                },
                {
                    "date": 1755774617509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,9 @@\n })\r\n \r\n document.getElementById(\"quantityBox\")?.addEventListener(\"input\",function(){\r\n   if(document.getElementById(\"quantityBox\")?.value < 0){\r\n-    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+    numberbox.innerHTML=`<p>Quantity must be greater than 0.</p>`\r\n   }\r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755774634251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,10 @@\n })\r\n \r\n document.getElementById(\"quantityBox\")?.addEventListener(\"input\",function(){\r\n   if(document.getElementById(\"quantityBox\")?.value < 0){\r\n-    numberbox.innerHTML=`<p>Quantity must be greater than 0.</p>`\r\n+    let numberbox=document.getElementById(\"showNumberBox\");\r\n+    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n \r\n \r\n"
                },
                {
                    "date": 1755774683808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,17 +202,14 @@\n     if (selectedText.includes(\"(\")) {\r\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n-   \r\n-    console.log(\"Final Selected:\", selectedText);\r\n     dropdown.style.display = 'none';\r\n \r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n-        console.log(currentValue)\r\n       }\r\n       const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n       editor.setValue(newValue);\r\n     }\r\n"
                },
                {
                    "date": 1755774733568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,9 +239,9 @@\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <div class=>\r\n+  <div >\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n   // if(document.getElementById(\"quantityBox\").value < 0){\r\n \r\n   //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n"
                },
                {
                    "date": 1755774788299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,18 +239,19 @@\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <div >\r\n+  <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n   // if(document.getElementById(\"quantityBox\").value < 0){\r\n \r\n   //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   // }\r\n })\r\n \r\n document.getElementById(\"quantityBox\")?.addEventListener(\"input\",function(){\r\n-  if(document.getElementById(\"quantityBox\")?.value < 0){\r\n+  if(document.getElementById(\"quantityBox\")?.value <= 0){\r\n+    console.log(\"checked\")\r\n     let numberbox=document.getElementById(\"showNumberBox\");\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n })\r\n"
                },
                {
                    "date": 1755774866250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,397 @@\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n+\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    console.log(scriptType)\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    console.log(data)\r\n+    const suggestions = data.data;\r\n+    console.log(suggestions)\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+    if (editor) {\r\n+      let currentValue = editor.getValue().trim();\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1);\r\n+      }\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n+      editor.setValue(newValue);\r\n+    }\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select >\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option>INTRADAY</option>\r\n+    <Option>CARRYFORWARD</Option>\r\n+    <Option>DELIVERY</Option>\r\n+    <Option>MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+})\r\n+\r\n+let showDropdown=document.getElementById(\"EQOption2\");\r\n+showDropdown.addEventListener(\"change\",function(){\r\n+  let numberbox=document.getElementById(\"showNumberBox\");\r\n+  numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n+  // if(document.getElementById(\"quantityBox\").value < 0){\r\n+\r\n+  //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  // }\r\n+})\r\n+\r\n+let quantityNumber=document.getElementById(\"quantityBox\");\r\n+quantityNumber?.addEventListener(\"input\",function(){\r\n+  if(quantityNumber.value <= 0){\r\n+    console.log(\"checked\")\r\n+    let numberbox=document.getElementById(\"showNumberBox\");\r\n+    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  }\r\n+})\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\r\n+\r\n"
                },
                {
                    "date": 1755774897094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,409 +254,13 @@\n     console.log(\"checked\")\r\n     let numberbox=document.getElementById(\"showNumberBox\");\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n-})\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\r\n-\r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n });\r\n \r\n \r\n \r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n \r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to script type code snippet \r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n- if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n-\r\n-\r\n-  } else {\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-\r\n-});\r\n-\r\n-\r\n-//adding code to snipper when script type is CE or PE\r\n-let dropdown2 = document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\", function () {\r\n-  let selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n-\r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-});\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n-\r\n-\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    console.log(scriptType)\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    console.log(data)\r\n-    const suggestions = data.data;\r\n-    console.log(suggestions)\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    searchInput.value = selectedText;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    dropdown.style.display = 'none';\r\n-\r\n-    if (editor) {\r\n-      let currentValue = editor.getValue().trim();\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1);\r\n-      }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n-      editor.setValue(newValue);\r\n-    }\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-searchInput.addEventListener(\"change\",function(){\r\n-  let showDropdown=document.getElementById(\"EQOption2\");\r\n-  showDropdown.innerHTML =\r\n-  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <select >\r\n-  <option selected hidden disabled>Select Product</option>\r\n-    <option>INTRADAY</option>\r\n-    <Option>CARRYFORWARD</Option>\r\n-    <Option>DELIVERY</Option>\r\n-    <Option>MARGIN</Option>\r\n-  </select>\r\n-  </div>`\r\n-  \r\n-})\r\n-\r\n-let showDropdown=document.getElementById(\"EQOption2\");\r\n-showDropdown.addEventListener(\"change\",function(){\r\n-  let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n-  // if(document.getElementById(\"quantityBox\").value < 0){\r\n-\r\n-  //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-  // }\r\n-})\r\n-\r\n-document.getElementById(\"quantityBox\")?.addEventListener(\"input\",function(){\r\n-  if(document.getElementById(\"quantityBox\")?.value <= 0){\r\n-    console.log(\"checked\")\r\n-    let numberbox=document.getElementById(\"showNumberBox\");\r\n-    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-  }\r\n-})\r\n-\r\n-\r\n-\r\n-\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755774917066,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,9 +238,9 @@\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2 \">Quantiy <span class=\"text-muted\">*</span></b>\r\n+  numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n   // if(document.getElementById(\"quantityBox\").value < 0){\r\n \r\n"
                },
                {
                    "date": 1755774927366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -240,9 +240,9 @@\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" class=\"numberbox\"></div>`\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n   // if(document.getElementById(\"quantityBox\").value < 0){\r\n \r\n   //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   // }\r\n"
                },
                {
                    "date": 1755775053707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,14 +241,35 @@\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-  // if(document.getElementById(\"quantityBox\").value < 0){\r\n \r\n-  //   numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-  // }\r\n-})\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n \r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+  \r\n+\r\n+\r\n+\r\n+\r\n let quantityNumber=document.getElementById(\"quantityBox\");\r\n quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n"
                },
                {
                    "date": 1755775077308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"` + \"\\n }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n   \r\n"
                },
                {
                    "date": 1755775118990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"` + \"\\n }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n   \r\n"
                },
                {
                    "date": 1755775172924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -209,9 +209,9 @@\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n       }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"\\n}\";\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n });\r\n"
                },
                {
                    "date": 1755775181035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,9 +128,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \"\\n }\";\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \" }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n \r\n"
                },
                {
                    "date": 1755775186098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \"\\n }\";\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \" }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n \r\n });\r\n"
                },
                {
                    "date": 1755775237615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n   \r\n"
                },
                {
                    "date": 1755775361635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,8 +243,9 @@\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n   let selectedValue = this.value;\r\n+  console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n"
                },
                {
                    "date": 1755775403591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,419 @@\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n+    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n+    //                     <div id=\"dropdown2\"></div>`;\r\n+\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \" }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \" }\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    console.log(scriptType)\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    console.log(data)\r\n+    const suggestions = data.data;\r\n+    console.log(suggestions)\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+    if (editor) {\r\n+      let currentValue = editor.getValue().trim();\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1);\r\n+      }\r\n+      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n+      editor.setValue(newValue);\r\n+    }\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select >\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option>INTRADAY</option>\r\n+    <Option>CARRYFORWARD</Option>\r\n+    <Option>DELIVERY</Option>\r\n+    <Option>MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+  let selectedValue = this.value;\r\n+  console.log(selectedValue)\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+})\r\n+\r\n+let showDropdown=document.getElementById(\"EQOption2\");\r\n+showDropdown.addEventListener(\"change\",function(){\r\n+  let numberbox=document.getElementById(\"showNumberBox\");\r\n+  numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+});\r\n+  \r\n+\r\n+\r\n+\r\n+\r\n+let quantityNumber=document.getElementById(\"quantityBox\");\r\n+quantityNumber?.addEventListener(\"input\",function(){\r\n+  if(quantityNumber.value <= 0){\r\n+    console.log(\"checked\")\r\n+    let numberbox=document.getElementById(\"showNumberBox\");\r\n+    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+  }\r\n+});\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\r\n+\r\n"
                },
                {
                    "date": 1755775479435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,306 +233,13 @@\n     <Option>MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n-  let selectedValue = this.value;\r\n-  console.log(selectedValue)\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n-\r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n })\r\n \r\n-let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n-  let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-\r\n-});\r\n-  \r\n-\r\n-\r\n-\r\n-\r\n-let quantityNumber=document.getElementById(\"quantityBox\");\r\n-quantityNumber?.addEventListener(\"input\",function(){\r\n-  if(quantityNumber.value <= 0){\r\n-    console.log(\"checked\")\r\n-    let numberbox=document.getElementById(\"showNumberBox\");\r\n-    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-  }\r\n-});\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\r\n-\r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n-});\r\n-\r\n-\r\n-\r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n-\r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to script type code snippet \r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n- if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n-\r\n-\r\n-  } else {\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \" }\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-\r\n-});\r\n-\r\n-\r\n-//adding code to snipper when script type is CE or PE\r\n-let dropdown2 = document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\", function () {\r\n   let selectedValue = this.value;\r\n+  console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n@@ -547,113 +254,11 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \" }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n   }\r\n   editor.setValue(currentValue);\r\n-});\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n-\r\n-\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    console.log(scriptType)\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    console.log(data)\r\n-    const suggestions = data.data;\r\n-    console.log(suggestions)\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    searchInput.value = selectedText;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    dropdown.style.display = 'none';\r\n-\r\n-    if (editor) {\r\n-      let currentValue = editor.getValue().trim();\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1);\r\n-      }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n-      editor.setValue(newValue);\r\n-    }\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-searchInput.addEventListener(\"change\",function(){\r\n-  let showDropdown=document.getElementById(\"EQOption2\");\r\n-  showDropdown.innerHTML =\r\n-  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <select >\r\n-  <option selected hidden disabled>Select Product</option>\r\n-    <option>INTRADAY</option>\r\n-    <Option>CARRYFORWARD</Option>\r\n-    <Option>DELIVERY</Option>\r\n-    <Option>MARGIN</Option>\r\n-  </select>\r\n-  </div>`\r\n-  \r\n })\r\n \r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n@@ -661,29 +266,8 @@\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n-  let selectedValue = this.value;\r\n-  console.log(selectedValue)\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n-\r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n });\r\n   \r\n \r\n \r\n"
                },
                {
                    "date": 1755775564578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,12 +226,12 @@\n   `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <select >\r\n   <option selected hidden disabled>Select Product</option>\r\n-    <option>INTRADAY</option>\r\n-    <Option>CARRYFORWARD</Option>\r\n-    <Option>DELIVERY</Option>\r\n-    <Option>MARGIN</Option>\r\n+    <option value=\"INTRADAY\">INTRADAY</option>\r\n+    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n+    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n+    <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n })\r\n"
                },
                {
                    "date": 1755775720015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,8 +235,12 @@\n   </div>`\r\n   \r\n })\r\n \r\n+\r\n+document.addEventListener(\"DOMContentLoaded\",()=>{\r\n+\r\n+\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n@@ -268,12 +272,12 @@\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n });\r\n   \r\n+});\r\n \r\n \r\n \r\n-\r\n let quantityNumber=document.getElementById(\"quantityBox\");\r\n quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n"
                },
                {
                    "date": 1755775738972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,11 +236,8 @@\n   \r\n })\r\n \r\n \r\n-document.addEventListener(\"DOMContentLoaded\",()=>{\r\n-\r\n-\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n@@ -272,12 +269,12 @@\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n });\r\n   \r\n-});\r\n \r\n \r\n \r\n+\r\n let quantityNumber=document.getElementById(\"quantityBox\");\r\n quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n"
                },
                {
                    "date": 1755775748335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n     <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n-})\r\n+});\r\n \r\n \r\n showDropdown.addEventListener(\"change\",function(){\r\n   let selectedValue = this.value;\r\n@@ -260,8 +260,9 @@\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n \r\n+\r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755775759212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,9 +235,9 @@\n   </div>`\r\n   \r\n });\r\n \r\n-\r\n+let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n"
                },
                {
                    "date": 1755775764712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,8 @@\n   editor.setValue(currentValue);\r\n })\r\n \r\n \r\n-let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n"
                },
                {
                    "date": 1755775905111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,8 +235,10 @@\n   </div>`\r\n   \r\n });\r\n \r\n+\r\n+document.addEventListener(\"DOMContentLoaded\",function(){\r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n@@ -259,10 +261,10 @@\n      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n+})\r\n \r\n-\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n"
                },
                {
                    "date": 1755775913606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,22 +261,22 @@\n      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n-})\r\n \r\n+\r\n showDropdown.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n });\r\n   \r\n+});\r\n \r\n \r\n \r\n-\r\n let quantityNumber=document.getElementById(\"quantityBox\");\r\n quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n"
                },
                {
                    "date": 1755776010749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,8 +239,10 @@\n \r\n document.addEventListener(\"DOMContentLoaded\",function(){\r\n let showDropdown=document.getElementById(\"EQOption2\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n+   console.log(\"Raw value:\", this.value);\r\n+  console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n   if (!selectedValue || !editor) return;\r\n \r\n"
                },
                {
                    "date": 1755776078547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,9 +224,9 @@\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n   `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n-  <select >\r\n+  <select id=\"productDropdown\">\r\n   <option selected hidden disabled>Select Product</option>\r\n     <option value=\"INTRADAY\">INTRADAY</option>\r\n     <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n     <Option value=\"DELIVERY\">DELIVERY</Option>\r\n@@ -237,9 +237,9 @@\n });\r\n \r\n \r\n document.addEventListener(\"DOMContentLoaded\",function(){\r\n-let showDropdown=document.getElementById(\"EQOption2\");\r\n+let showDropdown=document.getElementById(\"productDropdown\");\r\n showDropdown.addEventListener(\"change\",function(){\r\n    console.log(\"Raw value:\", this.value);\r\n   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n   let selectedValue = this.value;\r\n"
                },
                {
                    "date": 1755776106866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,9 +238,9 @@\n \r\n \r\n document.addEventListener(\"DOMContentLoaded\",function(){\r\n let showDropdown=document.getElementById(\"productDropdown\");\r\n-showDropdown.addEventListener(\"change\",function(){\r\n+showDropdown?.addEventListener(\"change\",function(){\r\n    console.log(\"Raw value:\", this.value);\r\n   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n"
                },
                {
                    "date": 1755776170164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,9 +265,9 @@\n   editor.setValue(currentValue);\r\n })\r\n \r\n \r\n-showDropdown.addEventListener(\"change\",function(){\r\n+showDropdown?.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n"
                },
                {
                    "date": 1755776370564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,12 +233,9 @@\n     <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n-});\r\n-\r\n-\r\n-document.addEventListener(\"DOMContentLoaded\",function(){\r\n+  document.addEventListener(\"DOMContentLoaded\",function(){\r\n let showDropdown=document.getElementById(\"productDropdown\");\r\n showDropdown?.addEventListener(\"change\",function(){\r\n    console.log(\"Raw value:\", this.value);\r\n   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n@@ -286,11 +283,64 @@\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n });\r\n \r\n+});\r\n \r\n \r\n+// document.addEventListener(\"DOMContentLoaded\",function(){\r\n+// let showDropdown=document.getElementById(\"productDropdown\");\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//    console.log(\"Raw value:\", this.value);\r\n+//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+//   let selectedValue = this.value;\r\n+//   console.log(selectedValue)\r\n+//   if (!selectedValue || !editor) return;\r\n \r\n+//   let currentValue = editor.getValue();\r\n+//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+//     currentValue = currentValue.replace(\r\n+//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+//       `$1${selectedValue}$2`\r\n+//     );\r\n+//   } else {\r\n+//     // Remove the last closing brace\r\n+//     currentValue = currentValue.trim();\r\n+//     if (currentValue.endsWith(\"}\")) {\r\n+//       currentValue = currentValue.slice(0, -1);\r\n+//     }\r\n+\r\n+//     // Add new line with snippet and closing brace\r\n+//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+//   }\r\n+//   editor.setValue(currentValue);\r\n+// })\r\n+\r\n+\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+// let quantityNumber=document.getElementById(\"quantityBox\");\r\n+// quantityNumber?.addEventListener(\"input\",function(){\r\n+//   if(quantityNumber.value <= 0){\r\n+//     console.log(\"checked\")\r\n+//     let numberbox=document.getElementById(\"showNumberBox\");\r\n+//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+//   }\r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n // const searchBox = document.getElementById(\"searchBox\");\r\n // //const dropdown = document.getElementById(\"dropdown2\");\r\n // const dropdownEl = document.getElementById(\"dropdown2\");\r\n // let timeout;\r\n"
                },
                {
                    "date": 1755776428062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,11 +233,10 @@\n     <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n-  document.addEventListener(\"DOMContentLoaded\",function(){\r\n-let showDropdown=document.getElementById(\"productDropdown\");\r\n-showDropdown?.addEventListener(\"change\",function(){\r\n+let productDropdown=document.getElementById(\"productDropdown\");\r\n+productDropdown?.addEventListener(\"change\",function(){\r\n    console.log(\"Raw value:\", this.value);\r\n   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n   let selectedValue = this.value;\r\n   console.log(selectedValue)\r\n@@ -262,9 +261,9 @@\n   editor.setValue(currentValue);\r\n })\r\n \r\n \r\n-showDropdown?.addEventListener(\"change\",function(){\r\n+productDropdown?.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n@@ -283,9 +282,8 @@\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n });\r\n \r\n-});\r\n \r\n \r\n // document.addEventListener(\"DOMContentLoaded\",function(){\r\n // let showDropdown=document.getElementById(\"productDropdown\");\r\n"
                },
                {
                    "date": 1755776453190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"/n}\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755776473878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"/n}\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"/n }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755776486280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"/n }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"\\n }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755776908672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,9 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n+  document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n@@ -204,8 +205,10 @@\n     }\r\n \r\n     dropdown.style.display = 'none';\r\n \r\n+\r\n+\r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n@@ -255,9 +258,9 @@\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"\\n }\";\r\n+     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n \r\n"
                },
                {
                    "date": 1755776931894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n-  document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n+ \r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n"
                },
                {
                    "date": 1755776945357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,8 +58,9 @@\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+\r\n     // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n     //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n"
                },
                {
                    "date": 1755776967394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,17 +67,20 @@\n   }\r\n \r\n   else if (dropdown1.value == \"FUT\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n   else if (dropdown1.value == \"CE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n   else if (dropdown1.value == \"PE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n"
                },
                {
                    "date": 1755776985557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,20 +67,17 @@\n   }\r\n \r\n   else if (dropdown1.value == \"FUT\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n   }\r\n \r\n   else if (dropdown1.value == \"CE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n   else if (dropdown1.value == \"PE\") {\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n   }\r\n \r\n })\r\n"
                },
                {
                    "date": 1755777042529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,8 +91,9 @@\n  if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n+       document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     );\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n"
                },
                {
                    "date": 1755777058579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,10 +91,10 @@\n  if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n-       document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     );\r\n+     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n"
                },
                {
                    "date": 1755777103265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n+    document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n"
                },
                {
                    "date": 1755777109608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-    document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n+    \r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n"
                },
                {
                    "date": 1755777139709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,15 +52,13 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n- \r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-\r\n     // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n     //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n     //                     <div id=\"dropdown2\"></div>`;\r\n \r\n@@ -92,9 +90,9 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-    \r\n+     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n"
                },
                {
                    "date": 1755777222024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-     document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n+    document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n@@ -204,11 +204,11 @@\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n     dropdown.style.display = 'none';\r\n+ document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n \r\n \r\n-\r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n"
                },
                {
                    "date": 1755777229509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -204,9 +204,9 @@\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n     dropdown.style.display = 'none';\r\n- document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n+ document.getElementById(\"changeDropdown\").style.display=\"block\";\r\n \r\n \r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n"
                },
                {
                    "date": 1755777411716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,8 +206,15 @@\n \r\n     dropdown.style.display = 'none';\r\n  document.getElementById(\"changeDropdown\").style.display=\"block\";\r\n \r\n+let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n \r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n"
                },
                {
                    "date": 1755777434924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,15 +207,14 @@\n     dropdown.style.display = 'none';\r\n  document.getElementById(\"changeDropdown\").style.display=\"block\";\r\n \r\n let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+  if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      /(\"script\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n   } else {\r\n-\r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n"
                },
                {
                    "date": 1755777468516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,9 +206,9 @@\n \r\n     dropdown.style.display = 'none';\r\n  document.getElementById(\"changeDropdown\").style.display=\"block\";\r\n \r\n-let currentValue = editor.getValue();\r\n+  let currentValue = editor.getValue();\r\n   if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n"
                },
                {
                    "date": 1755777498684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,10 @@\n     currentValue = currentValue.replace(\r\n       /(\"script\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-  } else {\r\n+  } \r\n+  else {\r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n@@ -222,8 +223,9 @@\n       const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n+}\r\n });\r\n \r\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n"
                },
                {
                    "date": 1755777543362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n   let currentValue = editor.getValue();\r\n   if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n+      `$1${selectedText}$2`\r\n     );\r\n   } \r\n   else {\r\n     if (editor) {\r\n"
                },
                {
                    "date": 1755777640680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,8 @@\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n-    document.getElementById(\"changeDropdown\").style.display=\"none\";\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n@@ -204,10 +203,10 @@\n       selectedText = selectedText.split(\"(\")[0];\r\n     }\r\n \r\n     dropdown.style.display = 'none';\r\n- document.getElementById(\"changeDropdown\").style.display=\"block\";\r\n \r\n+\r\n   let currentValue = editor.getValue();\r\n   if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script\"\\s*:\\s*\").*?(\")/,\r\n"
                },
                {
                    "date": 1755777681056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,8 +206,9 @@\n     dropdown.style.display = 'none';\r\n \r\n \r\n   let currentValue = editor.getValue();\r\n+  console.log(currentValue)\r\n   if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedText}$2`\r\n"
                },
                {
                    "date": 1755777734882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,16 +206,10 @@\n     dropdown.style.display = 'none';\r\n \r\n \r\n   let currentValue = editor.getValue();\r\n-  console.log(currentValue)\r\n-  if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"script\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedText}$2`\r\n-    );\r\n-  } \r\n-  else {\r\n+  console.log()\r\n+  \r\n     if (editor) {\r\n       let currentValue = editor.getValue().trim();\r\n       if (currentValue.endsWith(\"}\")) {\r\n         currentValue = currentValue.slice(0, -1);\r\n@@ -223,9 +217,9 @@\n       const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n       editor.setValue(newValue);\r\n     }\r\n   }\r\n-}\r\n+\r\n });\r\n \r\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n"
                },
                {
                    "date": 1755777809822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -272,25 +272,27 @@\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n-});\r\n-  \r\n-});\r\n-\r\n-\r\n-\r\n-let quantityNumber=document.getElementById(\"quantityBox\");\r\n-quantityNumber?.addEventListener(\"input\",function(){\r\n+  let quantityNumber=document.getElementById(\"quantityBox\");\r\n+  quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n     let numberbox=document.getElementById(\"showNumberBox\");\r\n     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n   }\r\n });\r\n \r\n+});\r\n+  \r\n+});\r\n \r\n \r\n+\r\n+\r\n+\r\n+\r\n+\r\n // document.addEventListener(\"DOMContentLoaded\",function(){\r\n // let showDropdown=document.getElementById(\"productDropdown\");\r\n // showDropdown?.addEventListener(\"change\",function(){\r\n //    console.log(\"Raw value:\", this.value);\r\n"
                },
                {
                    "date": 1755777923880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,9 +277,11 @@\n   quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n     let numberbox=document.getElementById(\"showNumberBox\");\r\n-    numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+    numberbox.innerHTML +=\r\n+    \r\n+    `<small>Quantity must be greater than 0.</small>`\r\n   }\r\n });\r\n \r\n });\r\n"
                },
                {
                    "date": 1755777935080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,11 +277,9 @@\n   quantityNumber?.addEventListener(\"input\",function(){\r\n   if(quantityNumber.value <= 0){\r\n     console.log(\"checked\")\r\n     let numberbox=document.getElementById(\"showNumberBox\");\r\n-    numberbox.innerHTML +=\r\n-    \r\n-    `<small>Quantity must be greater than 0.</small>`\r\n+    numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n   }\r\n });\r\n \r\n });\r\n"
                },
                {
                    "date": 1755778016909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,14 +274,14 @@\n   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n \r\n   let quantityNumber=document.getElementById(\"quantityBox\");\r\n   quantityNumber?.addEventListener(\"input\",function(){\r\n-  if(quantityNumber.value <= 0){\r\n-    console.log(\"checked\")\r\n-    let numberbox=document.getElementById(\"showNumberBox\");\r\n-    numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n-  }\r\n-});\r\n+      if(quantityNumber.value <= 0){\r\n+        console.log(\"checked\")\r\n+        let numberbox=document.getElementById(\"showNumberBox\");\r\n+        numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+      }\r\n+  });\r\n \r\n });\r\n   \r\n });\r\n"
                },
                {
                    "date": 1755778093162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,8 +279,13 @@\n         console.log(\"checked\")\r\n         let numberbox=document.getElementById(\"showNumberBox\");\r\n         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n       }\r\n+      else{\r\n+        numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+      }\r\n   });\r\n \r\n });\r\n   \r\n"
                },
                {
                    "date": 1755778154079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,11 +280,12 @@\n         let numberbox=document.getElementById(\"showNumberBox\");\r\n         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n       }\r\n       else{\r\n+      console.log(\"else block\")\r\n         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+         <div>\r\n+         <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n       }\r\n   });\r\n \r\n });\r\n"
                },
                {
                    "date": 1755778184599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,9 +270,9 @@\n productDropdown?.addEventListener(\"change\",function(){\r\n   let numberbox=document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n   <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n \r\n   let quantityNumber=document.getElementById(\"quantityBox\");\r\n   quantityNumber?.addEventListener(\"input\",function(){\r\n       if(quantityNumber.value <= 0){\r\n"
                },
                {
                    "date": 1755778494863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,11 @@\n \r\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n+\r\n+  document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\")?.innerHTML=\"\";\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n@@ -204,8 +207,10 @@\n     }\r\n \r\n     dropdown.style.display = 'none';\r\n \r\n+  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\")?.innerHTML=\"\";\r\n \r\n   let currentValue = editor.getValue();\r\n   console.log()\r\n   \r\n"
                },
                {
                    "date": 1755778526153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,10 +53,10 @@\n let dropdown1 = document.getElementById(\"dropdown1\");\r\n \r\n dropdown1.addEventListener(\"change\", () => {\r\n \r\n-  document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\")?.innerHTML=\"\";\r\n+  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n   //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n@@ -208,9 +208,9 @@\n \r\n     dropdown.style.display = 'none';\r\n \r\n   //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n \r\n   let currentValue = editor.getValue();\r\n   console.log()\r\n   \r\n"
                },
                {
                    "date": 1755778675067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,32 +271,54 @@\n   editor.setValue(currentValue);\r\n })\r\n \r\n \r\n-productDropdown?.addEventListener(\"change\",function(){\r\n-  let numberbox=document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+productDropdown?.addEventListener(\"change\", function () {\r\n+  let numberbox = document.getElementById(\"showNumberBox\");\r\n+  numberbox.innerHTML = `\r\n+    <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+    <div>\r\n+      <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+      <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+    </div>`;\r\n \r\n-  let quantityNumber=document.getElementById(\"quantityBox\");\r\n-  quantityNumber?.addEventListener(\"input\",function(){\r\n-      if(quantityNumber.value <= 0){\r\n-        console.log(\"checked\")\r\n-        let numberbox=document.getElementById(\"showNumberBox\");\r\n-        numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n-      }\r\n-      else{\r\n-      console.log(\"else block\")\r\n-        numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-         <div>\r\n-         <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-      }\r\n+  let quantityNumber = document.getElementById(\"quantityBox\");\r\n+  let quantityError = document.getElementById(\"quantityError\");\r\n+\r\n+  quantityNumber?.addEventListener(\"input\", function () {\r\n+    if (quantityNumber.value <= 0) {\r\n+      quantityError.style.display = \"block\"; // just show error\r\n+    } else {\r\n+      quantityError.style.display = \"none\";  // hide error\r\n+    }\r\n   });\r\n+});\r\n \r\n-});\r\n+\r\n+// productDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+\r\n+//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n+//   quantityNumber?.addEventListener(\"input\",function(){\r\n+//       if(quantityNumber.value <= 0){\r\n+//         console.log(\"checked\")\r\n+//         let numberbox=document.getElementById(\"showNumberBox\");\r\n+//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+//       }\r\n+//       else{\r\n+//       console.log(\"else block\")\r\n+//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//          <div>\r\n+//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+//       }\r\n+//   });\r\n+\r\n+// });\r\n   \r\n-});\r\n+// });\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755778759967,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -510,6 +510,5 @@\n \r\n // fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n //   .then(res => res.json())\r\n //   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\r\n-\r\n+//   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755778768924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,10 +269,10 @@\n      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n   }\r\n   editor.setValue(currentValue);\r\n })\r\n+}\r\n \r\n-\r\n productDropdown?.addEventListener(\"change\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `\r\n     <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n@@ -290,11 +290,11 @@\n     } else {\r\n       quantityError.style.display = \"none\";  // hide error\r\n     }\r\n   });\r\n-});\r\n \r\n \r\n+\r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755778837592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,33 +244,34 @@\n   </select>\r\n   </div>`\r\n   \r\n let productDropdown=document.getElementById(\"productDropdown\");\r\n-productDropdown?.addEventListener(\"change\",function(){\r\n-   console.log(\"Raw value:\", this.value);\r\n-  console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n-  let selectedValue = this.value;\r\n-  console.log(selectedValue)\r\n-  if (!selectedValue || !editor) return;\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n+      console.log(\"Raw value:\", this.value);\r\n+      console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+      let selectedValue = this.value;\r\n+      console.log(selectedValue)\r\n+      if (!selectedValue || !editor) return;\r\n \r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n+      let currentValue = editor.getValue();\r\n+      if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+        currentValue = currentValue.replace(\r\n+          /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+          `$1${selectedValue}$2`\r\n+        );\r\n+      } \r\n+        else {\r\n+        // Remove the last closing brace\r\n+        currentValue = currentValue.trim();\r\n+        if (currentValue.endsWith(\"}\")) {\r\n+          currentValue = currentValue.slice(0, -1);\r\n+        }\r\n \r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-})\r\n+        // Add new line with snippet and closing brace\r\n+        currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n+      }\r\n+     editor.setValue(currentValue);\r\n+    })\r\n }\r\n \r\n productDropdown?.addEventListener(\"change\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n@@ -290,11 +291,11 @@\n     } else {\r\n       quantityError.style.display = \"none\";  // hide error\r\n     }\r\n   });\r\n+});\r\n \r\n \r\n-\r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755778867254,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,36 +243,36 @@\n     <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n-let productDropdown=document.getElementById(\"productDropdown\");\r\n-    productDropdown?.addEventListener(\"change\",function(){\r\n-      console.log(\"Raw value:\", this.value);\r\n-      console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n-      let selectedValue = this.value;\r\n-      console.log(selectedValue)\r\n-      if (!selectedValue || !editor) return;\r\n+    let productDropdown=document.getElementById(\"productDropdown\");\r\n+        productDropdown?.addEventListener(\"change\",function(){\r\n+          console.log(\"Raw value:\", this.value);\r\n+          console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+          let selectedValue = this.value;\r\n+          console.log(selectedValue)\r\n+          if (!selectedValue || !editor) return;\r\n \r\n-      let currentValue = editor.getValue();\r\n-      if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-        currentValue = currentValue.replace(\r\n-          /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-          `$1${selectedValue}$2`\r\n-        );\r\n-      } \r\n-        else {\r\n-        // Remove the last closing brace\r\n-        currentValue = currentValue.trim();\r\n-        if (currentValue.endsWith(\"}\")) {\r\n-          currentValue = currentValue.slice(0, -1);\r\n-        }\r\n+          let currentValue = editor.getValue();\r\n+          if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+            currentValue = currentValue.replace(\r\n+              /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+              `$1${selectedValue}$2`\r\n+            );\r\n+          } \r\n+            else {\r\n+            // Remove the last closing brace\r\n+            currentValue = currentValue.trim();\r\n+            if (currentValue.endsWith(\"}\")) {\r\n+              currentValue = currentValue.slice(0, -1);\r\n+            }\r\n \r\n-        // Add new line with snippet and closing brace\r\n-        currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n-      }\r\n-     editor.setValue(currentValue);\r\n-    })\r\n-}\r\n+            // Add new line with snippet and closing brace\r\n+            currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n+          }\r\n+        editor.setValue(currentValue);\r\n+        })\r\n+      })\r\n \r\n productDropdown?.addEventListener(\"change\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `\r\n"
                },
                {
                    "date": 1755778896687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,10 +270,10 @@\n             currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n           }\r\n         editor.setValue(currentValue);\r\n         })\r\n-      })\r\n \r\n+\r\n productDropdown?.addEventListener(\"change\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `\r\n     <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n@@ -292,10 +292,10 @@\n       quantityError.style.display = \"none\";  // hide error\r\n     }\r\n   });\r\n });\r\n+});\r\n \r\n-\r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755778963662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -272,9 +272,9 @@\n         editor.setValue(currentValue);\r\n         })\r\n \r\n \r\n-productDropdown?.addEventListener(\"change\", function () {\r\n+productDropdown?.addEventListener(\"input\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `\r\n     <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n     <div>\r\n"
                },
                {
                    "date": 1755779013039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -272,9 +272,9 @@\n         editor.setValue(currentValue);\r\n         })\r\n \r\n \r\n-productDropdown?.addEventListener(\"input\", function () {\r\n+productDropdown?.addEventListener(\"change\", function () {\r\n   let numberbox = document.getElementById(\"showNumberBox\");\r\n   numberbox.innerHTML = `\r\n     <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n     <div>\r\n"
                },
                {
                    "date": 1755779036419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -292,10 +292,10 @@\n       quantityError.style.display = \"none\";  // hide error\r\n     }\r\n   });\r\n });\r\n-});\r\n \r\n+\r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755779057734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -272,30 +272,30 @@\n         editor.setValue(currentValue);\r\n         })\r\n \r\n \r\n-productDropdown?.addEventListener(\"change\", function () {\r\n-  let numberbox = document.getElementById(\"showNumberBox\");\r\n-  numberbox.innerHTML = `\r\n-    <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n-    <div>\r\n-      <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n-      <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n-    </div>`;\r\n+    productDropdown?.addEventListener(\"change\", function () {\r\n+      let numberbox = document.getElementById(\"showNumberBox\");\r\n+      numberbox.innerHTML = `\r\n+        <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+        <div>\r\n+          <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+          <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+        </div>`;\r\n \r\n-  let quantityNumber = document.getElementById(\"quantityBox\");\r\n-  let quantityError = document.getElementById(\"quantityError\");\r\n+      let quantityNumber = document.getElementById(\"quantityBox\");\r\n+      let quantityError = document.getElementById(\"quantityError\");\r\n \r\n-  quantityNumber?.addEventListener(\"input\", function () {\r\n-    if (quantityNumber.value <= 0) {\r\n-      quantityError.style.display = \"block\"; // just show error\r\n-    } else {\r\n-      quantityError.style.display = \"none\";  // hide error\r\n-    }\r\n-  });\r\n+      quantityNumber?.addEventListener(\"input\", function () {\r\n+        if (quantityNumber.value <= 0) {\r\n+          quantityError.style.display = \"block\"; // just show error\r\n+        } else {\r\n+          quantityError.style.display = \"none\";  // hide error\r\n+        }\r\n+      });\r\n+    });\r\n });\r\n \r\n-\r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755779063838,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -292,9 +292,9 @@\n           quantityError.style.display = \"none\";  // hide error\r\n         }\r\n       });\r\n     });\r\n-});\r\n+  });\r\n \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755779073129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -292,9 +292,9 @@\n           quantityError.style.display = \"none\";  // hide error\r\n         }\r\n       });\r\n     });\r\n-  });\r\n+});\r\n \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755836083339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,17 +55,12 @@\n dropdown1.addEventListener(\"change\", () => {\r\n \r\n   document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n   document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n-  //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n \r\n   if (dropdown1.value == \"EQ\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n     document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-    // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n-    //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n-    //                     <div id=\"dropdown2\"></div>`;\r\n-\r\n   }\r\n \r\n   else if (dropdown1.value == \"FUT\") {\r\n     document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n@@ -88,13 +83,15 @@\n   const selectedValue = this.value;\r\n   if (!selectedValue || !editor) return;\r\n \r\n   let currentValue = editor.getValue();\r\n+  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n  if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n     currentValue = currentValue.replace(\r\n       /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n+    //makes isrollover false\r\n     currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n \r\n \r\n   } else {\r\n@@ -104,9 +101,9 @@\n     currentValue = currentValue.slice(0, -1);\r\n   }\r\n \r\n   // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}` + \" }\";\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n   }\r\n   editor.setValue(currentValue);\r\n \r\n });\r\n@@ -124,16 +121,17 @@\n       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n       `$1${selectedValue}$2`\r\n     );\r\n   } else {\r\n+\r\n     // Remove the last closing brace\r\n     currentValue = currentValue.trim();\r\n     if (currentValue.endsWith(\"}\")) {\r\n       currentValue = currentValue.slice(0, -1);\r\n     }\r\n \r\n     // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"` + \" }\";\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n \r\n@@ -146,10 +144,8 @@\n     dropdown.style.display = 'none';\r\n   }\r\n });\r\n \r\n-\r\n-\r\n // Simple debounce function\r\n function debounce(func, delay) {\r\n   let timer;\r\n   return function (...args) {\r\n@@ -167,9 +163,8 @@\n   }\r\n \r\n   let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n   try {\r\n-    console.log(scriptType)\r\n     const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n       method: \"POST\",\r\n       headers: {\r\n         \"Content-Type\": \"application/json\",\r\n@@ -181,11 +176,9 @@\n       })\r\n     });\r\n \r\n     const data = await res.json();\r\n-    console.log(data)\r\n     const suggestions = data.data;\r\n-    console.log(suggestions)\r\n \r\n \r\n     dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n     dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n@@ -209,28 +202,43 @@\n     dropdown.style.display = 'none';\r\n \r\n   //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n   document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+  let currentValue = editor.getValue().trim();\r\n \r\n-  let currentValue = editor.getValue();\r\n-  console.log()\r\n-  \r\n-    if (editor) {\r\n-      let currentValue = editor.getValue().trim();\r\n+// If \"script\" already exists  replace only\r\n+    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+      currentValue = currentValue.replace(\r\n+        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n+        `$1${selectedText}$2\\n}`\r\n+      );\r\n+\r\n+\r\n+    } \r\n+\r\n+    else {\r\n+      // Remove last } if present\r\n       if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1);\r\n+        currentValue = currentValue.slice(0, -1).trim();\r\n       }\r\n-      const newValue = currentValue + \",\\n \\t\" + `\"script\":\"${selectedText}\"` + \"}\";\r\n-      editor.setValue(newValue);\r\n+\r\n+      // Remove trailing comma if any\r\n+      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+      // Append cleanly\r\n+      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n     }\r\n+\r\n+    editor.setValue(currentValue);\r\n   }\r\n-\r\n });\r\n \r\n searchInput.addEventListener('input', debounce(e => {\r\n   fetchSuggestions(e.target.value);\r\n }, 300));\r\n \r\n+\r\n+//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n searchInput.addEventListener(\"change\",function(){\r\n   let showDropdown=document.getElementById(\"EQOption2\");\r\n   showDropdown.innerHTML =\r\n   `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n@@ -243,20 +251,21 @@\n     <Option value=\"MARGIN\">MARGIN</Option>\r\n   </select>\r\n   </div>`\r\n   \r\n+  //if productdropdown changes value this will run\r\n     let productDropdown=document.getElementById(\"productDropdown\");\r\n         productDropdown?.addEventListener(\"change\",function(){\r\n-          console.log(\"Raw value:\", this.value);\r\n-          console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+          \r\n           let selectedValue = this.value;\r\n           console.log(selectedValue)\r\n           if (!selectedValue || !editor) return;\r\n \r\n+          //this will add or replace in code snippet\r\n           let currentValue = editor.getValue();\r\n-          if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n             currentValue = currentValue.replace(\r\n-              /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n               `$1${selectedValue}$2`\r\n             );\r\n           } \r\n             else {\r\n@@ -264,38 +273,107 @@\n             currentValue = currentValue.trim();\r\n             if (currentValue.endsWith(\"}\")) {\r\n               currentValue = currentValue.slice(0, -1);\r\n             }\r\n+            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n \r\n-            // Add new line with snippet and closing brace\r\n-            currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\" }\";\r\n-          }\r\n+      // Append new script value\r\n+      currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+             }\r\n+           \r\n         editor.setValue(currentValue);\r\n-        })\r\n-\r\n-\r\n-    productDropdown?.addEventListener(\"change\", function () {\r\n+       \r\n       let numberbox = document.getElementById(\"showNumberBox\");\r\n       numberbox.innerHTML = `\r\n         <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n         <div>\r\n           <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n           <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n         </div>`;\r\n \r\n-      let quantityNumber = document.getElementById(\"quantityBox\");\r\n+          let quantityNumber = document.getElementById(\"quantityBox\");\r\n       let quantityError = document.getElementById(\"quantityError\");\r\n \r\n       quantityNumber?.addEventListener(\"input\", function () {\r\n-        if (quantityNumber.value <= 0) {\r\n+\r\n+      \r\n+       if (quantityNumber.value <= 0) {\r\n           quantityError.style.display = \"block\"; // just show error\r\n         } else {\r\n           quantityError.style.display = \"none\";  // hide error\r\n         }\r\n+\r\n+\r\n+\r\n+       let quantityValue = this.value.trim();\r\n+       let currentValue = editor.getValue().trim();\r\n+\r\n+      if (!quantityValue) {\r\n+        currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+        // Also clean up trailing commas before }\r\n+        currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+        editor.setValue(currentValue);\r\n+        return;\r\n+      }\r\n+\r\n+  if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+    // If already present  replace value only\r\n+    currentValue = currentValue.replace(\r\n+      /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+      `$1${quantityValue}`\r\n+    );\r\n+  } else {\r\n+    // If not present then add it at the end\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1).trim();\r\n+    }\r\n+    currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+    currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+  }\r\n+\r\n+  editor.setValue(currentValue);\r\n+});\r\n+        \r\n+       \r\n       });\r\n-    });\r\n-});\r\n+   });\r\n \r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+})\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+   \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n //   <div>\r\n"
                },
                {
                    "date": 1755836125973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,13 @@\n+\r\n+//for tooltip to look good\r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+})\r\n+\r\n+\r\n+\r\n let editor;\r\n \r\n require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n require([\"vs/editor/editor.main\"], function () {\r\n@@ -336,12 +345,8 @@\n        \r\n       });\r\n    });\r\n \r\n-var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n-var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n-  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n-})\r\n \r\n \r\n \r\n \r\n@@ -371,8 +376,9 @@\n \r\n \r\n \r\n \r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755836235443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,68 +284,66 @@\n               currentValue = currentValue.slice(0, -1);\r\n             }\r\n             currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n \r\n-      // Append new script value\r\n-      currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n-             }\r\n+          // Append new script value\r\n+          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+                }\r\n            \r\n-        editor.setValue(currentValue);\r\n+          editor.setValue(currentValue);\r\n        \r\n-      let numberbox = document.getElementById(\"showNumberBox\");\r\n-      numberbox.innerHTML = `\r\n-        <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n-        <div>\r\n-          <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n-          <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n-        </div>`;\r\n+            let numberbox = document.getElementById(\"showNumberBox\");\r\n+            numberbox.innerHTML = `\r\n+              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+              <div>\r\n+                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+              </div>`;\r\n \r\n-          let quantityNumber = document.getElementById(\"quantityBox\");\r\n-      let quantityError = document.getElementById(\"quantityError\");\r\n+                let quantityNumber = document.getElementById(\"quantityBox\");\r\n+            let quantityError = document.getElementById(\"quantityError\");\r\n \r\n-      quantityNumber?.addEventListener(\"input\", function () {\r\n+            quantityNumber?.addEventListener(\"input\", function () {\r\n+            if (quantityNumber.value <= 0) {\r\n+                quantityError.style.display = \"block\"; // just show error\r\n+              } else {\r\n+                quantityError.style.display = \"none\";  // hide error\r\n+              }\r\n \r\n-      \r\n-       if (quantityNumber.value <= 0) {\r\n-          quantityError.style.display = \"block\"; // just show error\r\n-        } else {\r\n-          quantityError.style.display = \"none\";  // hide error\r\n-        }\r\n \r\n \r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n \r\n-       let quantityValue = this.value.trim();\r\n-       let currentValue = editor.getValue().trim();\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n \r\n-      if (!quantityValue) {\r\n-        currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-        // Also clean up trailing commas before }\r\n-        currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+        if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+          // If already present  replace value only\r\n+          currentValue = currentValue.replace(\r\n+            /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+            `$1${quantityValue}`\r\n+          );\r\n+        } else {\r\n+          // If not present then add it at the end\r\n+          if (currentValue.endsWith(\"}\")) {\r\n+            currentValue = currentValue.slice(0, -1).trim();\r\n+          }\r\n+          currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+          currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+        }\r\n+\r\n         editor.setValue(currentValue);\r\n-        return;\r\n-      }\r\n-\r\n-  if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-    // If already present  replace value only\r\n-    currentValue = currentValue.replace(\r\n-      /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-      `$1${quantityValue}`\r\n-    );\r\n-  } else {\r\n-    // If not present then add it at the end\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1).trim();\r\n-    }\r\n-    currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n-    currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-  }\r\n-\r\n-  editor.setValue(currentValue);\r\n-});\r\n+      });\r\n         \r\n        \r\n-      });\r\n-   });\r\n+    });\r\n+});\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755836275362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -262,9 +262,9 @@\n   </div>`\r\n   \r\n   //if productdropdown changes value this will run\r\n     let productDropdown=document.getElementById(\"productDropdown\");\r\n-        productDropdown?.addEventListener(\"change\",function(){\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n           \r\n           let selectedValue = this.value;\r\n           console.log(selectedValue)\r\n           if (!selectedValue || !editor) return;\r\n@@ -301,9 +301,9 @@\n \r\n                 let quantityNumber = document.getElementById(\"quantityBox\");\r\n             let quantityError = document.getElementById(\"quantityError\");\r\n \r\n-            quantityNumber?.addEventListener(\"input\", function () {\r\n+          quantityNumber?.addEventListener(\"input\", function () {\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n@@ -321,25 +321,25 @@\n               editor.setValue(currentValue);\r\n               return;\r\n             }\r\n \r\n-        if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-          // If already present  replace value only\r\n-          currentValue = currentValue.replace(\r\n-            /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-            `$1${quantityValue}`\r\n-          );\r\n-        } else {\r\n-          // If not present then add it at the end\r\n-          if (currentValue.endsWith(\"}\")) {\r\n-            currentValue = currentValue.slice(0, -1).trim();\r\n-          }\r\n-          currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n-          currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-        }\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n \r\n-        editor.setValue(currentValue);\r\n-      });\r\n+            editor.setValue(currentValue);\r\n+          });\r\n         \r\n        \r\n     });\r\n });\r\n"
                },
                {
                    "date": 1755836287446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -338,10 +338,8 @@\n             }\r\n \r\n             editor.setValue(currentValue);\r\n           });\r\n-        \r\n-       \r\n     });\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755836513571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -341,9 +341,15 @@\n           });\r\n     });\r\n });\r\n \r\n+const switchEl = document.getElementById('flexSwitchCheck');\r\n \r\n+switchEl.addEventListener('change', () => {\r\n+    // Toggle exit_on_opposite\r\n+    strategyOrder.exit_on_opposite = !strategyOrder.exit_on_opposite;\r\n+    console.log('exit_on_opposite:', strategyOrder.exit_on_opposite);\r\n+});\r\n \r\n \r\n \r\n \r\n@@ -373,8 +379,10 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755836593176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -345,9 +345,9 @@\n const switchEl = document.getElementById('flexSwitchCheck');\r\n \r\n switchEl.addEventListener('change', () => {\r\n     // Toggle exit_on_opposite\r\n-    strategyOrder.exit_on_opposite = !strategyOrder.exit_on_opposite;\r\n+    editor.value.exit_on_opposite = !editor.value.exit_on_opposite;\r\n     console.log('exit_on_opposite:', strategyOrder.exit_on_opposite);\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755836661937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -342,12 +342,13 @@\n     });\r\n });\r\n \r\n const switchEl = document.getElementById('flexSwitchCheck');\r\n-\r\n+console.log()\r\n switchEl.addEventListener('change', () => {\r\n     // Toggle exit_on_opposite\r\n-    editor.value.exit_on_opposite = !editor.value.exit_on_opposite;\r\n+    let currentValue=editor.getValue();\r\n+    .exit_on_opposite = !editor.value.exit_on_opposite;\r\n     console.log('exit_on_opposite:', strategyOrder.exit_on_opposite);\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755836672612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -346,9 +346,9 @@\n console.log()\r\n switchEl.addEventListener('change', () => {\r\n     // Toggle exit_on_opposite\r\n     let currentValue=editor.getValue();\r\n-    .exit_on_opposite = !editor.value.exit_on_opposite;\r\n+    currentValue.exit_on_opposite = !currentValue.exit_on_opposite;\r\n     console.log('exit_on_opposite:', strategyOrder.exit_on_opposite);\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755836706367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -347,9 +347,9 @@\n switchEl.addEventListener('change', () => {\r\n     // Toggle exit_on_opposite\r\n     let currentValue=editor.getValue();\r\n     currentValue.exit_on_opposite = !currentValue.exit_on_opposite;\r\n-    console.log('exit_on_opposite:', strategyOrder.exit_on_opposite);\r\n+    console.log('exit_on_opposite:', currentValue.exit_on_opposite);\r\n });\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755836734881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -346,8 +346,9 @@\n console.log()\r\n switchEl.addEventListener('change', () => {\r\n     // Toggle exit_on_opposite\r\n     let currentValue=editor.getValue();\r\n+    console.log(currentValue)\r\n     currentValue.exit_on_opposite = !currentValue.exit_on_opposite;\r\n     console.log('exit_on_opposite:', currentValue.exit_on_opposite);\r\n });\r\n \r\n"
                },
                {
                    "date": 1755836921573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -342,19 +342,22 @@\n     });\r\n });\r\n \r\n const switchEl = document.getElementById('flexSwitchCheck');\r\n-console.log()\r\n-switchEl.addEventListener('change', () => {\r\n-    // Toggle exit_on_opposite\r\n-    let currentValue=editor.getValue();\r\n-    console.log(currentValue)\r\n-    currentValue.exit_on_opposite = !currentValue.exit_on_opposite;\r\n-    console.log('exit_on_opposite:', currentValue.exit_on_opposite);\r\n-});\r\n+function toggleExitOnOpposite() {\r\n+    let code = editor.getValue();\r\n \r\n+    // Toggle exit_on_opposite in the JSON string\r\n+    code = code.replace(\r\n+        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+    );\r\n \r\n+    editor.setValue(code);\r\n+}\r\n \r\n+// Event when switch is toggled\r\n+switchEl.addEventListener('change', toggleExitOnOpposite);\r\n \r\n \r\n \r\n \r\n@@ -383,8 +386,10 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755837747902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,8 +308,9 @@\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n               }\r\n \r\n+              document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n \r\n \r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n"
                },
                {
                    "date": 1755837933610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,9 +143,9 @@\n   }\r\n   editor.setValue(currentValue);\r\n });\r\n \r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU3NTEwMjksImV4cCI6MTc1NTgzNzQyOX0.uNIdLFTvWz1jwvstS5GKChfoHmSpa9dQXiom21UtYyw\";\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n const searchInput = document.getElementById('search');\r\n const dropdown = document.getElementById('dropdown');\r\n document.addEventListener('click', (e) => {\r\n   // Check if click is outside the input and dropdown\r\n"
                },
                {
                    "date": 1755838025640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,13 +304,16 @@\n \r\n           quantityNumber?.addEventListener(\"input\", function () {\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n+                document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n+\r\n               }\r\n \r\n-              document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n+              \r\n \r\n \r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n"
                },
                {
                    "date": 1755838044351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,9 +308,8 @@\n                 document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n                 document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n-\r\n               }\r\n \r\n               \r\n \r\n"
                },
                {
                    "date": 1755838149291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,11 +304,12 @@\n \r\n           quantityNumber?.addEventListener(\"input\", function () {\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n-                document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n+                //document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n+\r\n                 document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n               }\r\n \r\n               \r\n"
                },
                {
                    "date": 1755838166375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,9 +308,48 @@\n                 //document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n               } else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n-                document.getElementById(\"quantityEnterShow\").style.display=\"block\";\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n+                            <div>\r\n+                                <button class=\"buyBtn\">BUY</button>\r\n+                                <button class=\"sellBtn\">SELL</button>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n+                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n+                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n+                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n+                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+`\r\n               }\r\n \r\n               \r\n \r\n"
                },
                {
                    "date": 1755838307642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,9 @@\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n-                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n"
                },
                {
                    "date": 1755838351438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -326,25 +326,25 @@\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to set a profile target for automatically exiting the position \">\r\n-                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n-                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n-                                    <img src=\"C:\\Users\\admin\\Downloads\\info-circle.svg\" class=\"m-2\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                         </div>\r\n \r\n"
                },
                {
                    "date": 1755838406939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,10 +304,13 @@\n \r\n           quantityNumber?.addEventListener(\"input\", function () {\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n                 //document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n-              } else {\r\n+              } \r\n+              \r\n+              else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n                             <div>\r\n@@ -345,14 +348,11 @@\n                                     title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n-                        </div>\r\n-\r\n-`\r\n+                        </div>`\r\n               }\r\n \r\n-              \r\n \r\n \r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n"
                },
                {
                    "date": 1755838439677,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,9 +312,9 @@\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n-                            <div>\r\n+                            <div class=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n"
                },
                {
                    "date": 1755838492840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -316,8 +316,9 @@\n                             <div class=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n                             </div>\r\n+                            <div class=\"toggleSwitchGroup\">\r\n                             <div class=\"form-check form-switch\">\r\n                                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n"
                },
                {
                    "date": 1755839337603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -305,9 +305,8 @@\n           quantityNumber?.addEventListener(\"input\", function () {\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n-                //document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n               } \r\n               \r\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n@@ -350,8 +349,9 @@\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n+\r\n               }\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755839442578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,8 +350,12 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n+\r\n+                        document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n+                          let buyBtn=document.getElementsByClassName(\"buyBtn\");\r\n+                        })\r\n               }\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755839472863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,8 +353,9 @@\n \r\n \r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n                           let buyBtn=document.getElementsByClassName(\"buyBtn\");\r\n+                          buyBtn.style.background=\"green\";\r\n                         })\r\n               }\r\n \r\n \r\n"
                },
                {
                    "date": 1755839547243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -352,10 +352,10 @@\n                         </div>`\r\n \r\n \r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n-                          let buyBtn=document.getElementsByClassName(\"buyBtn\");\r\n-                          buyBtn.style.background=\"green\";\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\");\r\n+                          buy.style.background=\"green\";\r\n                         })\r\n               }\r\n \r\n \r\n"
                },
                {
                    "date": 1755839552612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -352,9 +352,9 @@\n                         </div>`\r\n \r\n \r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n-                          let buy=document.getElementsByClassName(\"buyBtn\");\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           buy.style.background=\"green\";\r\n                         })\r\n               }\r\n \r\n"
                },
                {
                    "date": 1755839592926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,8 +355,12 @@\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           buy.style.background=\"green\";\r\n                         })\r\n+                        document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n+                          let sell=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          sell.style.background=\"red\";\r\n+                        })\r\n               }\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755839621944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,9 +356,9 @@\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           buy.style.background=\"green\";\r\n                         })\r\n                         document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n-                          let sell=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n \r\n"
                },
                {
                    "date": 1755839795397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,33 +317,33 @@\n                                 <button class=\"sellBtn\">SELL</button>\r\n                             </div>\r\n                             <div class=\"toggleSwitchGroup\">\r\n                             <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to set a profile target for automatically exiting the position \">\r\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n                                 </span>\r\n                             </div>\r\n                             <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n                                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n                                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                                     title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n                                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n@@ -394,9 +394,9 @@\n           });\r\n     });\r\n });\r\n \r\n-const switchEl = document.getElementById('flexSwitchCheck');\r\n+const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n function toggleExitOnOpposite() {\r\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n@@ -408,9 +408,9 @@\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-switchEl.addEventListener('change', toggleExitOnOpposite);\r\n+exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755839876867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -410,11 +410,23 @@\n \r\n // Event when switch is toggled\r\n exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n \r\n+const   targetSwitch = document.getElementById('flexSwitchCheck1');\r\n+function toggleIsTgt() {\r\n+    let code = editor.getValue();\r\n \r\n+    // Toggle exit_on_opposite in the JSON string\r\n+    code = code.replace(\r\n+        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+    );\r\n \r\n+    editor.setValue(code);\r\n+}\r\n \r\n+// Event when switch is toggled\r\n+exitOnPurposeSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n \r\n \r\n@@ -441,8 +453,11 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755839905064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -416,17 +416,17 @@\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n     code = code.replace(\r\n-        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n         (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n     );\r\n \r\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-exitOnPurposeSwitch.addEventListener('change', toggleIsTgt);\r\n+targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755839960288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -410,9 +410,9 @@\n \r\n // Event when switch is toggled\r\n exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n \r\n-const   targetSwitch = document.getElementById('flexSwitchCheck1');\r\n+const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n function toggleIsTgt() {\r\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n@@ -427,15 +427,39 @@\n // Event when switch is toggled\r\n targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n+const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+function toggleIsSl() {\r\n+    let code = editor.getValue();\r\n \r\n+    // Toggle exit_on_opposite in the JSON string\r\n+    code = code.replace(\r\n+        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+    );\r\n \r\n+    editor.setValue(code);\r\n+}\r\n \r\n+// Event when switch is toggled\r\n+targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n+const   targetSwitch = document.getElementById('flexSwitchCheck1');\r\n+function toggleIsTgt() {\r\n+    let code = editor.getValue();\r\n \r\n+    // Toggle exit_on_opposite in the JSON string\r\n+    code = code.replace(\r\n+        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+    );\r\n \r\n+    editor.setValue(code);\r\n+}\r\n \r\n+// Event when switch is toggled\r\n+targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n \r\n \r\n@@ -456,8 +480,15 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755839992966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -433,17 +433,17 @@\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n     code = code.replace(\r\n-        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n         (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n     );\r\n \r\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-targetSwitch.addEventListener('change', toggleIsTgt);\r\n+stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n const   targetSwitch = document.getElementById('flexSwitchCheck1');\r\n function toggleIsTgt() {\r\n     let code = editor.getValue();\r\n@@ -457,9 +457,9 @@\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-targetSwitch.addEventListener('change', toggleIsTgt);\r\n+targetSwitch.addEventListener('change', toggleIsSl);\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755840037236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,10 +443,10 @@\n \r\n // Event when switch is toggled\r\n stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n-const   targetSwitch = document.getElementById('flexSwitchCheck1');\r\n-function toggleIsTgt() {\r\n+const   trailingSwitch = document.getElementById('flexSwitchCheck1');\r\n+function toggleIsTrailSet() {\r\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n     code = code.replace(\r\n@@ -457,9 +457,9 @@\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-targetSwitch.addEventListener('change', toggleIsSl);\r\n+trailingSwitch.addEventListener('change', toggleIsSl);\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755840053857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -449,17 +449,17 @@\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n     code = code.replace(\r\n-        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n         (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n     );\r\n \r\n     editor.setValue(code);\r\n }\r\n \r\n // Event when switch is toggled\r\n-trailingSwitch.addEventListener('change', toggleIsSl);\r\n+trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755840091043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,9 @@\n \r\n // Event when switch is toggled\r\n stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n-const   trailingSwitch = document.getElementById('flexSwitchCheck1');\r\n+const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n function toggleIsTrailSet() {\r\n     let code = editor.getValue();\r\n \r\n     // Toggle exit_on_opposite in the JSON string\r\n"
                },
                {
                    "date": 1755840215253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,41 +361,8 @@\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n \r\n-\r\n-\r\n-            let quantityValue = this.value.trim();\r\n-            let currentValue = editor.getValue().trim();\r\n-\r\n-            if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-              // Also clean up trailing commas before }\r\n-              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n-              editor.setValue(currentValue);\r\n-              return;\r\n-            }\r\n-\r\n-            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-              // If already present  replace value only\r\n-              currentValue = currentValue.replace(\r\n-                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-                `$1${quantityValue}`\r\n-              );\r\n-            } else {\r\n-              // If not present then add it at the end\r\n-              if (currentValue.endsWith(\"}\")) {\r\n-                currentValue = currentValue.slice(0, -1).trim();\r\n-              }\r\n-              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n-              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-            }\r\n-\r\n-            editor.setValue(currentValue);\r\n-          });\r\n-    });\r\n-});\r\n-\r\n const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n function toggleExitOnOpposite() {\r\n     let code = editor.getValue();\r\n \r\n@@ -460,11 +427,38 @@\n // Event when switch is toggled\r\n trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n \r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n \r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n \r\n+            editor.setValue(currentValue);\r\n+          });\r\n+    });\r\n+});\r\n \r\n \r\n \r\n \r\n@@ -487,8 +481,14 @@\n \r\n \r\n \r\n \r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n    \r\n // productDropdown?.addEventListener(\"change\",function(){\r\n //   let numberbox=document.getElementById(\"showNumberBox\");\r\n //   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755840296387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,72 +361,72 @@\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n \r\n-const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n-function toggleExitOnOpposite() {\r\n-    let code = editor.getValue();\r\n+                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n+                function toggleExitOnOpposite() {\r\n+                    let code = editor.getValue();\r\n \r\n-    // Toggle exit_on_opposite in the JSON string\r\n-    code = code.replace(\r\n-        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n-        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-    );\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n \r\n-    editor.setValue(code);\r\n-}\r\n+                    editor.setValue(code);\r\n+                }\r\n \r\n-// Event when switch is toggled\r\n-exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n+                // Event when switch is toggled\r\n+                exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n \r\n-const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n-function toggleIsTgt() {\r\n-    let code = editor.getValue();\r\n+                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n+                function toggleIsTgt() {\r\n+                    let code = editor.getValue();\r\n \r\n-    // Toggle exit_on_opposite in the JSON string\r\n-    code = code.replace(\r\n-        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n-        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-    );\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n \r\n-    editor.setValue(code);\r\n-}\r\n+                    editor.setValue(code);\r\n+                }\r\n \r\n-// Event when switch is toggled\r\n-targetSwitch.addEventListener('change', toggleIsTgt);\r\n+                // Event when switch is toggled\r\n+                targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n-const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n-function toggleIsSl() {\r\n-    let code = editor.getValue();\r\n+                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+                function toggleIsSl() {\r\n+                    let code = editor.getValue();\r\n \r\n-    // Toggle exit_on_opposite in the JSON string\r\n-    code = code.replace(\r\n-        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n-        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-    );\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n \r\n-    editor.setValue(code);\r\n-}\r\n+                    editor.setValue(code);\r\n+                }\r\n \r\n-// Event when switch is toggled\r\n-stoplossSwitch.addEventListener('change', toggleIsSl);\r\n+                // Event when switch is toggled\r\n+                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n-const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n-function toggleIsTrailSet() {\r\n-    let code = editor.getValue();\r\n+                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n+                function toggleIsTrailSet() {\r\n+                    let code = editor.getValue();\r\n \r\n-    // Toggle exit_on_opposite in the JSON string\r\n-    code = code.replace(\r\n-        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n-        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-    );\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n \r\n-    editor.setValue(code);\r\n-}\r\n+                    editor.setValue(code);\r\n+                }\r\n \r\n-// Event when switch is toggled\r\n-trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n+                // Event when switch is toggled\r\n+                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n"
                },
                {
                    "date": 1755840377211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,8 +361,9 @@\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n \r\n+              //exit on purpose switch toggle\r\n                 const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n                 function toggleExitOnOpposite() {\r\n                     let code = editor.getValue();\r\n \r\n@@ -373,12 +374,12 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-\r\n                 // Event when switch is toggled\r\n                 exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n \r\n+                //target switch toggle\r\n                 const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n                 function toggleIsTgt() {\r\n                     let code = editor.getValue();\r\n \r\n@@ -389,13 +390,13 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-\r\n                 // Event when switch is toggled\r\n                 targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n+                //stoploss switch\r\n                 const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n                 function toggleIsSl() {\r\n                     let code = editor.getValue();\r\n \r\n@@ -406,12 +407,12 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-\r\n                 // Event when switch is toggled\r\n                 stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n+                //trailing switch\r\n                 const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n                 function toggleIsTrailSet() {\r\n                     let code = editor.getValue();\r\n \r\n"
                },
                {
                    "date": 1755840560463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -311,9 +311,9 @@\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n-                            <div class=\"BtnGroup\">\r\n+                            <div id=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n                             </div>\r\n                             <div class=\"toggleSwitchGroup\">\r\n@@ -351,8 +351,19 @@\n                             </div>\r\n                         </div>`\r\n \r\n \r\n+                        const buttons = document.getElementById(\"BtnGroup\");\r\n+\r\n+                        buttons.forEach(btn => {\r\n+                          btn.addEventListener(\"click\", () => {\r\n+                            // Reset all buttons\r\n+                            buttons.forEach(b => b.style.background = \"\");\r\n+                            \r\n+                            // Set background only for the clicked button\r\n+                            btn.style.background = \"green\";\r\n+                          });\r\n+                        });\r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           buy.style.background=\"green\";\r\n                         })\r\n"
                },
                {
                    "date": 1755840590338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -352,9 +352,8 @@\n                         </div>`\r\n \r\n \r\n                         const buttons = document.getElementById(\"BtnGroup\");\r\n-\r\n                         buttons.forEach(btn => {\r\n                           btn.addEventListener(\"click\", () => {\r\n                             // Reset all buttons\r\n                             buttons.forEach(b => b.style.background = \"\");\r\n"
                },
                {
                    "date": 1755840630496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,14 +353,22 @@\n \r\n \r\n                         const buttons = document.getElementById(\"BtnGroup\");\r\n                         buttons.forEach(btn => {\r\n+\r\n                           btn.addEventListener(\"click\", () => {\r\n                             // Reset all buttons\r\n                             buttons.forEach(b => b.style.background = \"\");\r\n-                            \r\n+                            document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          buy.style.background=\"green\";\r\n+                        })\r\n+                        document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n+                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                          sell.style.background=\"red\";\r\n+                        })\r\n                             // Set background only for the clicked button\r\n-                            btn.style.background = \"green\";\r\n+                            //btn.style.background = \"green\";\r\n                           });\r\n                         });\r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n"
                },
                {
                    "date": 1755840646423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -369,16 +369,16 @@\n                             // Set background only for the clicked button\r\n                             //btn.style.background = \"green\";\r\n                           });\r\n                         });\r\n-                        document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n-                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n-                          buy.style.background=\"green\";\r\n-                        })\r\n-                        document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n-                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n-                          sell.style.background=\"red\";\r\n-                        })\r\n+                        // document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n+                        //   let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                        //   buy.style.background=\"green\";\r\n+                        // })\r\n+                        // document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n+                        //   let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                        //   sell.style.background=\"red\";\r\n+                        // })\r\n               }\r\n \r\n               //exit on purpose switch toggle\r\n                 const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n"
                },
                {
                    "date": 1755840755793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -311,9 +311,9 @@\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n-                            <div id=\"BtnGroup\">\r\n+                            <div class=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n                             </div>\r\n                             <div class=\"toggleSwitchGroup\">\r\n@@ -351,34 +351,17 @@\n                             </div>\r\n                         </div>`\r\n \r\n \r\n-                        const buttons = document.getElementById(\"BtnGroup\");\r\n-                        buttons.forEach(btn => {\r\n-\r\n-                          btn.addEventListener(\"click\", () => {\r\n-                            // Reset all buttons\r\n-                            buttons.forEach(b => b.style.background = \"\");\r\n-                            document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n+                        \r\n+                        document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           buy.style.background=\"green\";\r\n                         })\r\n                         document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n                           let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n                           sell.style.background=\"red\";\r\n                         })\r\n-                            // Set background only for the clicked button\r\n-                            //btn.style.background = \"green\";\r\n-                          });\r\n-                        });\r\n-                        // document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n-                        //   let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n-                        //   buy.style.background=\"green\";\r\n-                        // })\r\n-                        // document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n-                        //   let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n-                        //   sell.style.background=\"red\";\r\n-                        // })\r\n               }\r\n \r\n               //exit on purpose switch toggle\r\n                 const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n"
                },
                {
                    "date": 1755840785125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,16 +350,18 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n-\r\n+let buy=document.getElementsByClassName(\"buyBtn\");\r\n+let sell=document.getElementsByClassName(\"sellBtn\");\r\n                         \r\n                         document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n-                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          \r\n                           buy.style.background=\"green\";\r\n+\r\n                         })\r\n                         document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n-                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                          ;\r\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n \r\n"
                },
                {
                    "date": 1755840801952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,14 +353,14 @@\n \r\n let buy=document.getElementsByClassName(\"buyBtn\");\r\n let sell=document.getElementsByClassName(\"sellBtn\");\r\n                         \r\n-                        document.getElementsByClassName('buyBtn')[0].addEventListener(\"click\",function(){\r\n+                        buy.addEventListener(\"click\",function(){\r\n                           \r\n                           buy.style.background=\"green\";\r\n \r\n                         })\r\n-                        document.getElementsByClassName('sellBtn')[0].addEventListener(\"click\",function(){\r\n+                        sell.addEventListener(\"click\",function(){\r\n                           ;\r\n                           sell.style.background=\"red\";\r\n                         })\r\n               }\r\n"
                },
                {
                    "date": 1755840830901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,13 +356,15 @@\n                         \r\n                         buy.addEventListener(\"click\",function(){\r\n                           \r\n                           buy.style.background=\"green\";\r\n+                          sell.style.background=\"\";\r\n \r\n                         })\r\n                         sell.addEventListener(\"click\",function(){\r\n-                          ;\r\n+                          \r\n                           sell.style.background=\"red\";\r\n+                          buy.style.background=\"\";\r\n                         })\r\n               }\r\n \r\n               //exit on purpose switch toggle\r\n"
                },
                {
                    "date": 1755840881646,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,10 +350,10 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n-let buy=document.getElementsByClassName(\"buyBtn\");\r\n-let sell=document.getElementsByClassName(\"sellBtn\");\r\n+let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n                         \r\n                         buy.addEventListener(\"click\",function(){\r\n                           \r\n                           buy.style.background=\"green\";\r\n"
                },
                {
                    "date": 1755841026137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -309,9 +309,37 @@\n               } \r\n               \r\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n+                let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n \r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+\r\n+\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n                             <div class=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n@@ -433,36 +461,9 @@\n                 // Event when switch is toggled\r\n                 trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n-            let quantityValue = this.value.trim();\r\n-            let currentValue = editor.getValue().trim();\r\n-\r\n-            if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-              // Also clean up trailing commas before }\r\n-              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n-              editor.setValue(currentValue);\r\n-              return;\r\n-            }\r\n-\r\n-            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-              // If already present  replace value only\r\n-              currentValue = currentValue.replace(\r\n-                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-                `$1${quantityValue}`\r\n-              );\r\n-            } else {\r\n-              // If not present then add it at the end\r\n-              if (currentValue.endsWith(\"}\")) {\r\n-                currentValue = currentValue.slice(0, -1).trim();\r\n-              }\r\n-              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n-              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-            }\r\n-\r\n-            editor.setValue(currentValue);\r\n-          });\r\n+                      });\r\n     });\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755841090035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -309,37 +309,9 @@\n               } \r\n               \r\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n-                let quantityValue = this.value.trim();\r\n-            let currentValue = editor.getValue().trim();\r\n \r\n-            if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-              // Also clean up trailing commas before }\r\n-              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n-              editor.setValue(currentValue);\r\n-              return;\r\n-            }\r\n-\r\n-            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-              // If already present  replace value only\r\n-              currentValue = currentValue.replace(\r\n-                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-                `$1${quantityValue}`\r\n-              );\r\n-            } else {\r\n-              // If not present then add it at the end\r\n-              if (currentValue.endsWith(\"}\")) {\r\n-                currentValue = currentValue.slice(0, -1).trim();\r\n-              }\r\n-              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n-              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-            }\r\n-\r\n-            editor.setValue(currentValue);\r\n-\r\n-\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n                             <div class=\"BtnGroup\">\r\n                                 <button class=\"buyBtn\">BUY</button>\r\n                                 <button class=\"sellBtn\">SELL</button>\r\n@@ -378,10 +350,10 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n-let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n-let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+let buy=document.getElementsByClassName(\"buyBtn\");\r\n+let sell=document.getElementsByClassName(\"sellBtn\");\r\n                         \r\n                         buy.addEventListener(\"click\",function(){\r\n                           \r\n                           buy.style.background=\"green\";\r\n@@ -461,9 +433,36 @@\n                 // Event when switch is toggled\r\n                 trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n-                      });\r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n+\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+          });\r\n     });\r\n });\r\n \r\n \r\n"
                },
                {
                    "date": 1755841740419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,9 +437,9 @@\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n \r\n             if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n               // Also clean up trailing commas before }\r\n               currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n               editor.setValue(currentValue);\r\n               return;\r\n@@ -455,9 +455,9 @@\n               // If not present then add it at the end\r\n               if (currentValue.endsWith(\"}\")) {\r\n                 currentValue = currentValue.slice(0, -1).trim();\r\n               }\r\n-              currentValue = currentValue.replace(/,\\s*$/, \"\"); // clean trailing comma\r\n+              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n               currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n             }\r\n \r\n             editor.setValue(currentValue);\r\n"
                },
                {
                    "date": 1755841789065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,715 @@\n+\r\n+//for tooltip to look good\r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+})\r\n+\r\n+\r\n+\r\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+\r\n+  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    //makes isrollover false\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    const suggestions = data.data;\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+  let currentValue = editor.getValue().trim();\r\n+\r\n+// If \"script\" already exists  replace only\r\n+    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+      currentValue = currentValue.replace(\r\n+        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n+        `$1${selectedText}$2\\n}`\r\n+      );\r\n+\r\n+\r\n+    } \r\n+\r\n+    else {\r\n+      // Remove last } if present\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1).trim();\r\n+      }\r\n+\r\n+      // Remove trailing comma if any\r\n+      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+      // Append cleanly\r\n+      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n+    }\r\n+\r\n+    editor.setValue(currentValue);\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select id=\"productDropdown\">\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option value=\"INTRADAY\">INTRADAY</option>\r\n+    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n+    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n+    <Option value=\"MARGIN\">MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+  //if productdropdown changes value this will run\r\n+    let productDropdown=document.getElementById(\"productDropdown\");\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n+          \r\n+          let selectedValue = this.value;\r\n+          console.log(selectedValue)\r\n+          if (!selectedValue || !editor) return;\r\n+\r\n+          //this will add or replace in code snippet\r\n+          let currentValue = editor.getValue();\r\n+          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+            currentValue = currentValue.replace(\r\n+              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n+              `$1${selectedValue}$2`\r\n+            );\r\n+          } \r\n+            else {\r\n+            // Remove the last closing brace\r\n+            currentValue = currentValue.trim();\r\n+            if (currentValue.endsWith(\"}\")) {\r\n+              currentValue = currentValue.slice(0, -1);\r\n+            }\r\n+            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+          // Append new script value\r\n+          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+                }\r\n+           \r\n+          editor.setValue(currentValue);\r\n+       \r\n+            let numberbox = document.getElementById(\"showNumberBox\");\r\n+            numberbox.innerHTML = `\r\n+              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+              <div>\r\n+                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+              </div>`;\r\n+\r\n+                let quantityNumber = document.getElementById(\"quantityBox\");\r\n+            let quantityError = document.getElementById(\"quantityError\");\r\n+\r\n+          quantityNumber?.addEventListener(\"input\", function () {\r\n+            if (quantityNumber.value <= 0) {\r\n+                quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n+              } \r\n+              \r\n+              else {\r\n+                quantityError.style.display = \"none\";  // hide error\r\n+\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n+                            <div class=\"BtnGroup\">\r\n+                                <button class=\"buyBtn\">BUY</button>\r\n+                                <button class=\"sellBtn\">SELL</button>\r\n+                            </div>\r\n+                            <div class=\"toggleSwitchGroup\">\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                        </div>`\r\n+\r\n+let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                        \r\n+                        buy.addEventListener(\"click\",function(){\r\n+                          \r\n+                          buy.style.background=\"green\";\r\n+                          sell.style.background=\"\";\r\n+\r\n+                        })\r\n+                        sell.addEventListener(\"click\",function(){\r\n+                          \r\n+                          sell.style.background=\"red\";\r\n+                          buy.style.background=\"\";\r\n+                        })\r\n+              }\r\n+\r\n+              //exit on purpose switch toggle\r\n+                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n+                function toggleExitOnOpposite() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n+\r\n+                //target switch toggle\r\n+                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n+                function toggleIsTgt() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                targetSwitch.addEventListener('change', toggleIsTgt);\r\n+\r\n+\r\n+                //stoploss switch\r\n+                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+                function toggleIsSl() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n+\r\n+                //trailing switch\r\n+                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n+                function toggleIsTrailSet() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+\r\n+                // Event when switch is toggled\r\n+                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n+\r\n+\r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n+\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+          });\r\n+    });\r\n+});\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+   \r\n+// productDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+\r\n+//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n+//   quantityNumber?.addEventListener(\"input\",function(){\r\n+//       if(quantityNumber.value <= 0){\r\n+//         console.log(\"checked\")\r\n+//         let numberbox=document.getElementById(\"showNumberBox\");\r\n+//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+//       }\r\n+//       else{\r\n+//       console.log(\"else block\")\r\n+//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//          <div>\r\n+//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+//       }\r\n+//   });\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+// document.addEventListener(\"DOMContentLoaded\",function(){\r\n+// let showDropdown=document.getElementById(\"productDropdown\");\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//    console.log(\"Raw value:\", this.value);\r\n+//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+//   let selectedValue = this.value;\r\n+//   console.log(selectedValue)\r\n+//   if (!selectedValue || !editor) return;\r\n+\r\n+//   let currentValue = editor.getValue();\r\n+//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+//     currentValue = currentValue.replace(\r\n+//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+//       `$1${selectedValue}$2`\r\n+//     );\r\n+//   } else {\r\n+//     // Remove the last closing brace\r\n+//     currentValue = currentValue.trim();\r\n+//     if (currentValue.endsWith(\"}\")) {\r\n+//       currentValue = currentValue.slice(0, -1);\r\n+//     }\r\n+\r\n+//     // Add new line with snippet and closing brace\r\n+//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+//   }\r\n+//   editor.setValue(currentValue);\r\n+// })\r\n+\r\n+\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+// let quantityNumber=document.getElementById(\"quantityBox\");\r\n+// quantityNumber?.addEventListener(\"input\",function(){\r\n+//   if(quantityNumber.value <= 0){\r\n+//     console.log(\"checked\")\r\n+//     let numberbox=document.getElementById(\"showNumberBox\");\r\n+//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+//   }\r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755841851955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -380,9 +380,9 @@\n \r\n                     editor.setValue(code);\r\n                 }\r\n                 // Event when switch is toggled\r\n-                exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n+                exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n \r\n                 //target switch toggle\r\n                 const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n                 function toggleIsTgt() {\r\n@@ -711,720 +711,5 @@\n \r\n // fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n //   .then(res => res.json())\r\n //   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\n-\r\n-//for tooltip to look good\r\n-var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n-var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n-  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n-})\r\n-\r\n-\r\n-\r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n-});\r\n-\r\n-\r\n-\r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n-\r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-\r\n-  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to script type code snippet \r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n- if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-    //makes isrollover false\r\n-    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n-\r\n-\r\n-  } else {\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-\r\n-});\r\n-\r\n-\r\n-//adding code to snipper when script type is CE or PE\r\n-let dropdown2 = document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\", function () {\r\n-  let selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n-\r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-});\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    const suggestions = data.data;\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    searchInput.value = selectedText;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    dropdown.style.display = 'none';\r\n-\r\n-  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n-  let currentValue = editor.getValue().trim();\r\n-\r\n-// If \"script\" already exists  replace only\r\n-    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-      currentValue = currentValue.replace(\r\n-        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n-        `$1${selectedText}$2\\n}`\r\n-      );\r\n-\r\n-\r\n-    } \r\n-\r\n-    else {\r\n-      // Remove last } if present\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1).trim();\r\n-      }\r\n-\r\n-      // Remove trailing comma if any\r\n-      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n-\r\n-      // Append cleanly\r\n-      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n-    }\r\n-\r\n-    editor.setValue(currentValue);\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-\r\n-//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n-searchInput.addEventListener(\"change\",function(){\r\n-  let showDropdown=document.getElementById(\"EQOption2\");\r\n-  showDropdown.innerHTML =\r\n-  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <select id=\"productDropdown\">\r\n-  <option selected hidden disabled>Select Product</option>\r\n-    <option value=\"INTRADAY\">INTRADAY</option>\r\n-    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n-    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n-    <Option value=\"MARGIN\">MARGIN</Option>\r\n-  </select>\r\n-  </div>`\r\n-  \r\n-  //if productdropdown changes value this will run\r\n-    let productDropdown=document.getElementById(\"productDropdown\");\r\n-    productDropdown?.addEventListener(\"change\",function(){\r\n-          \r\n-          let selectedValue = this.value;\r\n-          console.log(selectedValue)\r\n-          if (!selectedValue || !editor) return;\r\n-\r\n-          //this will add or replace in code snippet\r\n-          let currentValue = editor.getValue();\r\n-          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-            currentValue = currentValue.replace(\r\n-              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n-              `$1${selectedValue}$2`\r\n-            );\r\n-          } \r\n-            else {\r\n-            // Remove the last closing brace\r\n-            currentValue = currentValue.trim();\r\n-            if (currentValue.endsWith(\"}\")) {\r\n-              currentValue = currentValue.slice(0, -1);\r\n-            }\r\n-            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n-\r\n-          // Append new script value\r\n-          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n-                }\r\n-           \r\n-          editor.setValue(currentValue);\r\n-       \r\n-            let numberbox = document.getElementById(\"showNumberBox\");\r\n-            numberbox.innerHTML = `\r\n-              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n-              <div>\r\n-                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n-                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n-              </div>`;\r\n-\r\n-                let quantityNumber = document.getElementById(\"quantityBox\");\r\n-            let quantityError = document.getElementById(\"quantityError\");\r\n-\r\n-          quantityNumber?.addEventListener(\"input\", function () {\r\n-            if (quantityNumber.value <= 0) {\r\n-                quantityError.style.display = \"block\"; // just show error\r\n-                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n-              } \r\n-              \r\n-              else {\r\n-                quantityError.style.display = \"none\";  // hide error\r\n-\r\n-                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n-                            <div class=\"BtnGroup\">\r\n-                                <button class=\"buyBtn\">BUY</button>\r\n-                                <button class=\"sellBtn\">SELL</button>\r\n-                            </div>\r\n-                            <div class=\"toggleSwitchGroup\">\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                        </div>`\r\n-\r\n-let buy=document.getElementsByClassName(\"buyBtn\");\r\n-let sell=document.getElementsByClassName(\"sellBtn\");\r\n-                        \r\n-                        buy.addEventListener(\"click\",function(){\r\n-                          \r\n-                          buy.style.background=\"green\";\r\n-                          sell.style.background=\"\";\r\n-\r\n-                        })\r\n-                        sell.addEventListener(\"click\",function(){\r\n-                          \r\n-                          sell.style.background=\"red\";\r\n-                          buy.style.background=\"\";\r\n-                        })\r\n-              }\r\n-\r\n-              //exit on purpose switch toggle\r\n-                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n-                function toggleExitOnOpposite() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                exitOnPurposeSwitch.addEventListener('change', toggleExitOnOpposite);\r\n-\r\n-                //target switch toggle\r\n-                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n-                function toggleIsTgt() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                targetSwitch.addEventListener('change', toggleIsTgt);\r\n-\r\n-\r\n-                //stoploss switch\r\n-                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n-                function toggleIsSl() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n-\r\n-                //trailing switch\r\n-                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n-                function toggleIsTrailSet() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-\r\n-                // Event when switch is toggled\r\n-                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n-\r\n-\r\n-            let quantityValue = this.value.trim();\r\n-            let currentValue = editor.getValue().trim();\r\n-\r\n-            if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-              // Also clean up trailing commas before }\r\n-              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n-              editor.setValue(currentValue);\r\n-              return;\r\n-            }\r\n-\r\n-            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-              // If already present  replace value only\r\n-              currentValue = currentValue.replace(\r\n-                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-                `$1${quantityValue}`\r\n-              );\r\n-            } else {\r\n-              // If not present then add it at the end\r\n-              if (currentValue.endsWith(\"}\")) {\r\n-                currentValue = currentValue.slice(0, -1).trim();\r\n-              }\r\n-              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n-              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-            }\r\n-\r\n-            editor.setValue(currentValue);\r\n-          });\r\n-    });\r\n-});\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-   \r\n-// productDropdown?.addEventListener(\"change\",function(){\r\n-//   let numberbox=document.getElementById(\"showNumberBox\");\r\n-//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//   <div>\r\n-//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n-\r\n-//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n-//   quantityNumber?.addEventListener(\"input\",function(){\r\n-//       if(quantityNumber.value <= 0){\r\n-//         console.log(\"checked\")\r\n-//         let numberbox=document.getElementById(\"showNumberBox\");\r\n-//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n-//       }\r\n-//       else{\r\n-//       console.log(\"else block\")\r\n-//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//          <div>\r\n-//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-//       }\r\n-//   });\r\n-\r\n-// });\r\n-  \r\n-// });\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-// document.addEventListener(\"DOMContentLoaded\",function(){\r\n-// let showDropdown=document.getElementById(\"productDropdown\");\r\n-// showDropdown?.addEventListener(\"change\",function(){\r\n-//    console.log(\"Raw value:\", this.value);\r\n-//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n-//   let selectedValue = this.value;\r\n-//   console.log(selectedValue)\r\n-//   if (!selectedValue || !editor) return;\r\n-\r\n-//   let currentValue = editor.getValue();\r\n-//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-//     currentValue = currentValue.replace(\r\n-//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-//       `$1${selectedValue}$2`\r\n-//     );\r\n-//   } else {\r\n-//     // Remove the last closing brace\r\n-//     currentValue = currentValue.trim();\r\n-//     if (currentValue.endsWith(\"}\")) {\r\n-//       currentValue = currentValue.slice(0, -1);\r\n-//     }\r\n-\r\n-//     // Add new line with snippet and closing brace\r\n-//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n-//   }\r\n-//   editor.setValue(currentValue);\r\n-// })\r\n-\r\n-\r\n-// showDropdown?.addEventListener(\"change\",function(){\r\n-//   let numberbox=document.getElementById(\"showNumberBox\");\r\n-//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//   <div>\r\n-//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-\r\n-// });\r\n-  \r\n-// });\r\n-\r\n-\r\n-\r\n-// let quantityNumber=document.getElementById(\"quantityBox\");\r\n-// quantityNumber?.addEventListener(\"input\",function(){\r\n-//   if(quantityNumber.value <= 0){\r\n-//     console.log(\"checked\")\r\n-//     let numberbox=document.getElementById(\"showNumberBox\");\r\n-//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-//   }\r\n-// });\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n //   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755841878722,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,715 @@\n+\r\n+//for tooltip to look good\r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+})\r\n+\r\n+\r\n+\r\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+\r\n+  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    //makes isrollover false\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    const suggestions = data.data;\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+  let currentValue = editor.getValue().trim();\r\n+\r\n+// If \"script\" already exists  replace only\r\n+    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+      currentValue = currentValue.replace(\r\n+        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n+        `$1${selectedText}$2\\n}`\r\n+      );\r\n+\r\n+\r\n+    } \r\n+\r\n+    else {\r\n+      // Remove last } if present\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1).trim();\r\n+      }\r\n+\r\n+      // Remove trailing comma if any\r\n+      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+      // Append cleanly\r\n+      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n+    }\r\n+\r\n+    editor.setValue(currentValue);\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select id=\"productDropdown\">\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option value=\"INTRADAY\">INTRADAY</option>\r\n+    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n+    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n+    <Option value=\"MARGIN\">MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+  //if productdropdown changes value this will run\r\n+    let productDropdown=document.getElementById(\"productDropdown\");\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n+          \r\n+          let selectedValue = this.value;\r\n+          console.log(selectedValue)\r\n+          if (!selectedValue || !editor) return;\r\n+\r\n+          //this will add or replace in code snippet\r\n+          let currentValue = editor.getValue();\r\n+          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+            currentValue = currentValue.replace(\r\n+              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n+              `$1${selectedValue}$2`\r\n+            );\r\n+          } \r\n+            else {\r\n+            // Remove the last closing brace\r\n+            currentValue = currentValue.trim();\r\n+            if (currentValue.endsWith(\"}\")) {\r\n+              currentValue = currentValue.slice(0, -1);\r\n+            }\r\n+            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+          // Append new script value\r\n+          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+                }\r\n+           \r\n+          editor.setValue(currentValue);\r\n+       \r\n+            let numberbox = document.getElementById(\"showNumberBox\");\r\n+            numberbox.innerHTML = `\r\n+              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+              <div>\r\n+                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+              </div>`;\r\n+\r\n+                let quantityNumber = document.getElementById(\"quantityBox\");\r\n+            let quantityError = document.getElementById(\"quantityError\");\r\n+\r\n+          quantityNumber?.addEventListener(\"input\", function () {\r\n+            if (quantityNumber.value <= 0) {\r\n+                quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n+              } \r\n+              \r\n+              else {\r\n+                quantityError.style.display = \"none\";  // hide error\r\n+\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n+                            <div class=\"BtnGroup\">\r\n+                                <button class=\"buyBtn\">BUY</button>\r\n+                                <button class=\"sellBtn\">SELL</button>\r\n+                            </div>\r\n+                            <div class=\"toggleSwitchGroup\">\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                        </div>`\r\n+\r\n+let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                        \r\n+                        buy.addEventListener(\"click\",function(){\r\n+                          \r\n+                          buy.style.background=\"green\";\r\n+                          sell.style.background=\"\";\r\n+\r\n+                        })\r\n+                        sell.addEventListener(\"click\",function(){\r\n+                          \r\n+                          sell.style.background=\"red\";\r\n+                          buy.style.background=\"\";\r\n+                        })\r\n+              }\r\n+\r\n+              //exit on purpose switch toggle\r\n+                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n+                function toggleExitOnOpposite() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n+\r\n+                //target switch toggle\r\n+                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n+                function toggleIsTgt() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                targetSwitch.addEventListener('change', toggleIsTgt);\r\n+\r\n+\r\n+                //stoploss switch\r\n+                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+                function toggleIsSl() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                // Event when switch is toggled\r\n+                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n+\r\n+                //trailing switch\r\n+                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n+                function toggleIsTrailSet() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+\r\n+                // Event when switch is toggled\r\n+                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n+\r\n+\r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n+\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+          });\r\n+    });\r\n+});\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+   \r\n+// productDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+\r\n+//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n+//   quantityNumber?.addEventListener(\"input\",function(){\r\n+//       if(quantityNumber.value <= 0){\r\n+//         console.log(\"checked\")\r\n+//         let numberbox=document.getElementById(\"showNumberBox\");\r\n+//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+//       }\r\n+//       else{\r\n+//       console.log(\"else block\")\r\n+//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//          <div>\r\n+//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+//       }\r\n+//   });\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+// document.addEventListener(\"DOMContentLoaded\",function(){\r\n+// let showDropdown=document.getElementById(\"productDropdown\");\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//    console.log(\"Raw value:\", this.value);\r\n+//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+//   let selectedValue = this.value;\r\n+//   console.log(selectedValue)\r\n+//   if (!selectedValue || !editor) return;\r\n+\r\n+//   let currentValue = editor.getValue();\r\n+//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+//     currentValue = currentValue.replace(\r\n+//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+//       `$1${selectedValue}$2`\r\n+//     );\r\n+//   } else {\r\n+//     // Remove the last closing brace\r\n+//     currentValue = currentValue.trim();\r\n+//     if (currentValue.endsWith(\"}\")) {\r\n+//       currentValue = currentValue.slice(0, -1);\r\n+//     }\r\n+\r\n+//     // Add new line with snippet and closing brace\r\n+//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+//   }\r\n+//   editor.setValue(currentValue);\r\n+// })\r\n+\r\n+\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+// let quantityNumber=document.getElementById(\"quantityBox\");\r\n+// quantityNumber?.addEventListener(\"input\",function(){\r\n+//   if(quantityNumber.value <= 0){\r\n+//     console.log(\"checked\")\r\n+//     let numberbox=document.getElementById(\"showNumberBox\");\r\n+//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+//   }\r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755841967207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -302,139 +302,9 @@\n                 let quantityNumber = document.getElementById(\"quantityBox\");\r\n             let quantityError = document.getElementById(\"quantityError\");\r\n \r\n           quantityNumber?.addEventListener(\"input\", function () {\r\n-            if (quantityNumber.value <= 0) {\r\n-                quantityError.style.display = \"block\"; // just show error\r\n-                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n-              } \r\n-              \r\n-              else {\r\n-                quantityError.style.display = \"none\";  // hide error\r\n \r\n-                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n-                            <div class=\"BtnGroup\">\r\n-                                <button class=\"buyBtn\">BUY</button>\r\n-                                <button class=\"sellBtn\">SELL</button>\r\n-                            </div>\r\n-                            <div class=\"toggleSwitchGroup\">\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                            <div class=\"form-check form-switch\">\r\n-                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n-                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n-                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n-                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n-                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n-                                </span>\r\n-                            </div>\r\n-                        </div>`\r\n-\r\n-let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n-let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n-                        \r\n-                        buy.addEventListener(\"click\",function(){\r\n-                          \r\n-                          buy.style.background=\"green\";\r\n-                          sell.style.background=\"\";\r\n-\r\n-                        })\r\n-                        sell.addEventListener(\"click\",function(){\r\n-                          \r\n-                          sell.style.background=\"red\";\r\n-                          buy.style.background=\"\";\r\n-                        })\r\n-              }\r\n-\r\n-              //exit on purpose switch toggle\r\n-                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n-                function toggleExitOnOpposite() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n-\r\n-                //target switch toggle\r\n-                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n-                function toggleIsTgt() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                targetSwitch.addEventListener('change', toggleIsTgt);\r\n-\r\n-\r\n-                //stoploss switch\r\n-                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n-                function toggleIsSl() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-                // Event when switch is toggled\r\n-                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n-\r\n-                //trailing switch\r\n-                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n-                function toggleIsTrailSet() {\r\n-                    let code = editor.getValue();\r\n-\r\n-                    // Toggle exit_on_opposite in the JSON string\r\n-                    code = code.replace(\r\n-                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n-                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n-                    );\r\n-\r\n-                    editor.setValue(code);\r\n-                }\r\n-\r\n-                // Event when switch is toggled\r\n-                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n-\r\n-\r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n \r\n             if (!quantityValue) {\r\n@@ -460,565 +330,9 @@\n               currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n             }\r\n \r\n             editor.setValue(currentValue);\r\n-          });\r\n-    });\r\n-});\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-   \r\n-// productDropdown?.addEventListener(\"change\",function(){\r\n-//   let numberbox=document.getElementById(\"showNumberBox\");\r\n-//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//   <div>\r\n-//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n-\r\n-//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n-//   quantityNumber?.addEventListener(\"input\",function(){\r\n-//       if(quantityNumber.value <= 0){\r\n-//         console.log(\"checked\")\r\n-//         let numberbox=document.getElementById(\"showNumberBox\");\r\n-//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n-//       }\r\n-//       else{\r\n-//       console.log(\"else block\")\r\n-//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//          <div>\r\n-//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-//       }\r\n-//   });\r\n-\r\n-// });\r\n-  \r\n-// });\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-// document.addEventListener(\"DOMContentLoaded\",function(){\r\n-// let showDropdown=document.getElementById(\"productDropdown\");\r\n-// showDropdown?.addEventListener(\"change\",function(){\r\n-//    console.log(\"Raw value:\", this.value);\r\n-//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n-//   let selectedValue = this.value;\r\n-//   console.log(selectedValue)\r\n-//   if (!selectedValue || !editor) return;\r\n-\r\n-//   let currentValue = editor.getValue();\r\n-//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-//     currentValue = currentValue.replace(\r\n-//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-//       `$1${selectedValue}$2`\r\n-//     );\r\n-//   } else {\r\n-//     // Remove the last closing brace\r\n-//     currentValue = currentValue.trim();\r\n-//     if (currentValue.endsWith(\"}\")) {\r\n-//       currentValue = currentValue.slice(0, -1);\r\n-//     }\r\n-\r\n-//     // Add new line with snippet and closing brace\r\n-//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n-//   }\r\n-//   editor.setValue(currentValue);\r\n-// })\r\n-\r\n-\r\n-// showDropdown?.addEventListener(\"change\",function(){\r\n-//   let numberbox=document.getElementById(\"showNumberBox\");\r\n-//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n-//   <div>\r\n-//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n-\r\n-// });\r\n-  \r\n-// });\r\n-\r\n-\r\n-\r\n-// let quantityNumber=document.getElementById(\"quantityBox\");\r\n-// quantityNumber?.addEventListener(\"input\",function(){\r\n-//   if(quantityNumber.value <= 0){\r\n-//     console.log(\"checked\")\r\n-//     let numberbox=document.getElementById(\"showNumberBox\");\r\n-//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n-//   }\r\n-// });\r\n-\r\n-\r\n-\r\n-\r\n-// const searchBox = document.getElementById(\"searchBox\");\r\n-// //const dropdown = document.getElementById(\"dropdown2\");\r\n-// const dropdownEl = document.getElementById(\"dropdown2\");\r\n-// let timeout;\r\n-\r\n-\r\n-// // searchBox?.addEventListener(\"input\",()=>{\r\n-// //     console.log(searchBox?.value)\r\n-// // })\r\n-// function debounce(fn, delay) {\r\n-\r\n-//     return (...args) => {\r\n-//         clearTimeout(timeout);\r\n-//         timeout = setTimeout(() => fn(...args), delay);\r\n-//     };\r\n-// }\r\n-\r\n-// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n-// async function fetchResults(query) {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-//     console.log(\"Calling API with:\", { query, scriptType });\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({\r\n-//                 script: query,\r\n-//                 type: scriptType\r\n-//             })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         console.log(\"API Response:\", data); // debug check\r\n-\r\n-//         dropdownEl.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdownEl.style.display = \"block\";\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.style.padding = \"6px 10px\";\r\n-//                 div.style.cursor = \"pointer\";\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdownEl.style.display = \"none\";\r\n-\r\n-//                     // also update Monaco default value\r\n-//                     let current = editor.getValue();\r\n-//                     try {\r\n-//                         let obj = JSON.parse(current);\r\n-//                         obj.script = { name: item.name, type: scriptType };\r\n-//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n-//                     } catch (e) {\r\n-//                         console.error(\"Editor JSON invalid:\", e);\r\n-//                     }\r\n-//                 };\r\n-//                 dropdownEl.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdownEl.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(\"Fetch error:\", err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n-\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-\r\n-// async function fetchResults(query) {\r\n-// let scriptType=dropdownEl?.value;\r\n-//     try {\r\n-//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-//             method: \"POST\",\r\n-//             headers: {\r\n-//                 \"Content-Type\": \"application/json\",\r\n-//                 \"Authorization\": token\r\n-//             },\r\n-//             body: JSON.stringify({ script: query ,type:scriptType })\r\n-//         });\r\n-\r\n-//         const data = await res.json();\r\n-//         dropdown.innerHTML = \"\";\r\n-//         if (data.results && data.results.length > 0) {\r\n-//             dropdown.style.display = \"block\";\r\n-//             console.log(dropdown?.value)\r\n-//             data.results.forEach(item => {\r\n-//                 const div = document.createElement(\"div\");\r\n-//                 div.textContent = item.name;\r\n-//                 div.onclick = () => {\r\n-//                     searchBox.value = item.name;\r\n-//                     dropdown.style.display = \"none\";\r\n-//                 };\r\n-//                 dropdown.appendChild(div);\r\n-//             });\r\n-//         } else {\r\n-//             dropdown.style.display = \"none\";\r\n-//         }\r\n-//     } catch (err) {\r\n-//         console.error(err);\r\n-//     }\r\n-// }\r\n-\r\n-// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n-//     const query = e.target.value.trim();\r\n-//     if (query.length > 1) {\r\n-//         fetchResults(query);\r\n-//     } else {\r\n-//         dropdown.style.display = \"none\";\r\n-//     }\r\n-// }, 500));\r\n-\r\n-\r\n-\r\n-// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n-//   .then(res => res.json())\r\n-//   .then(data => console.log(data))\r\n-//   .catch(err => console.error(err));\n-\r\n-//for tooltip to look good\r\n-var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n-var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n-  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n-})\r\n-\r\n-\r\n-\r\n-let editor;\r\n-\r\n-require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n-require([\"vs/editor/editor.main\"], function () {\r\n-  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n-    value: `{\r\n-    \"type\": \"strategy_order\",\r\n-    \"exit_on_opposite\": false,\r\n-    \"is_tgt\": false,\r\n-    \"is_sl\": false,\r\n-    \"is_trail_set\": false,\r\n-    \"position_size\": \"{{strategy.position_size}}\",\r\n-    \"transaction_type\": \"{{strategy.order.action}}\"\r\n-}`,\r\n-    language: \"json\",\r\n-    theme: \"vs-dark\",\r\n-    automaticLayout: true,\r\n-    suggestOnTriggerCharacters: false,\r\n-    quickSuggestions: false,\r\n-    wordBasedSuggestions: false,\r\n-    parameterHints: { enabled: false },\r\n-    inlineSuggest: { enabled: false },\r\n-    fontSize: 18,\r\n-    minimap: { enabled: false },\r\n-    wordWrap: \"on\",\r\n-    scrollbar: {\r\n-      vertical: \"hidden\",\r\n-      horizontal: \"hidden\",\r\n-      handleMouseWheel: false\r\n-    },\r\n-  });\r\n-});\r\n-\r\n-\r\n-\r\n-let strategyOrder = document.getElementById(\"strategyOrder\");\r\n-let limitOrder = document.getElementById(\"limitOrder\");\r\n-let slOrder = document.getElementById(\"slOrder\");\r\n-let sqaureOf = document.getElementById(\"sqaureOf\");\r\n-let cancelOrder = document.getElementById(\"cancelOrder\");\r\n-\r\n-function setActive(obj) {\r\n-  console.log(\"enter\");\r\n-  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n-  obj.classList.add('active');\r\n-}\r\n-\r\n-function showStrategyOrder() {\r\n-  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n-\r\n-}\r\n-\r\n-let dropdown1 = document.getElementById(\"dropdown1\");\r\n-\r\n-dropdown1.addEventListener(\"change\", () => {\r\n-\r\n-  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n-\r\n-  if (dropdown1.value == \"EQ\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"FUT\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-  else if (dropdown1.value == \"CE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-  else if (dropdown1.value == \"PE\") {\r\n-    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n-    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n-  }\r\n-\r\n-})\r\n-\r\n-//adding to script type code snippet \r\n-dropdown1.addEventListener(\"change\", function () {\r\n-  const selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n- if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-    //makes isrollover false\r\n-    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n-\r\n-\r\n-  } else {\r\n-  // Remove the last closing brace\r\n-  currentValue = currentValue.trim();\r\n-  if (currentValue.endsWith(\"}\")) {\r\n-    currentValue = currentValue.slice(0, -1);\r\n-  }\r\n-\r\n-  // Add new line with snippet and closing brace\r\n-   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-\r\n-});\r\n-\r\n-\r\n-//adding code to snipper when script type is CE or PE\r\n-let dropdown2 = document.getElementById(\"atmdropdown\");\r\n-dropdown2.addEventListener(\"change\", function () {\r\n-  let selectedValue = this.value;\r\n-  if (!selectedValue || !editor) return;\r\n-\r\n-  let currentValue = editor.getValue();\r\n-  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-    currentValue = currentValue.replace(\r\n-      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n-      `$1${selectedValue}$2`\r\n-    );\r\n-  } else {\r\n-\r\n-    // Remove the last closing brace\r\n-    currentValue = currentValue.trim();\r\n-    if (currentValue.endsWith(\"}\")) {\r\n-      currentValue = currentValue.slice(0, -1);\r\n-    }\r\n-\r\n-    // Add new line with snippet and closing brace\r\n-     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n-  }\r\n-  editor.setValue(currentValue);\r\n-});\r\n-\r\n-const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n-const searchInput = document.getElementById('search');\r\n-const dropdown = document.getElementById('dropdown');\r\n-document.addEventListener('click', (e) => {\r\n-  // Check if click is outside the input and dropdown\r\n-  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n-    dropdown.style.display = 'none';\r\n-  }\r\n-});\r\n-\r\n-// Simple debounce function\r\n-function debounce(func, delay) {\r\n-  let timer;\r\n-  return function (...args) {\r\n-    clearTimeout(timer);\r\n-    timer = setTimeout(() => func.apply(this, args), delay);\r\n-  };\r\n-}\r\n-\r\n-// Fetch API suggestions\r\n-async function fetchSuggestions(query) {\r\n-  if (!query) {\r\n-    dropdown.style.display = 'none';\r\n-    dropdown.innerHTML = '';\r\n-    return;\r\n-  }\r\n-\r\n-  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n-  try {\r\n-    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"Authorization\": token\r\n-      },\r\n-      body: JSON.stringify({\r\n-        script: query,\r\n-        type: scriptType\r\n-      })\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    const suggestions = data.data;\r\n-\r\n-\r\n-    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n-    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n-\r\n-  }\r\n-  catch (err) {\r\n-    console.error(err);\r\n-  }\r\n-}\r\n-\r\n-// Add click selection\r\n-dropdown?.addEventListener('click', e => {\r\n-  if (e.target.tagName === 'LI') {\r\n-    let selectedText = e.target.textContent;\r\n-    searchInput.value = selectedText;\r\n-    // remove everything after \"(\"\r\n-    if (selectedText.includes(\"(\")) {\r\n-      selectedText = selectedText.split(\"(\")[0];\r\n-    }\r\n-\r\n-    dropdown.style.display = 'none';\r\n-\r\n-  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n-  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n-  let currentValue = editor.getValue().trim();\r\n-\r\n-// If \"script\" already exists  replace only\r\n-    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-      currentValue = currentValue.replace(\r\n-        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n-        `$1${selectedText}$2\\n}`\r\n-      );\r\n-\r\n-\r\n-    } \r\n-\r\n-    else {\r\n-      // Remove last } if present\r\n-      if (currentValue.endsWith(\"}\")) {\r\n-        currentValue = currentValue.slice(0, -1).trim();\r\n-      }\r\n-\r\n-      // Remove trailing comma if any\r\n-      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n-\r\n-      // Append cleanly\r\n-      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n-    }\r\n-\r\n-    editor.setValue(currentValue);\r\n-  }\r\n-});\r\n-\r\n-searchInput.addEventListener('input', debounce(e => {\r\n-  fetchSuggestions(e.target.value);\r\n-}, 300));\r\n-\r\n-\r\n-//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n-searchInput.addEventListener(\"change\",function(){\r\n-  let showDropdown=document.getElementById(\"EQOption2\");\r\n-  showDropdown.innerHTML =\r\n-  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n-  <div>\r\n-  <select id=\"productDropdown\">\r\n-  <option selected hidden disabled>Select Product</option>\r\n-    <option value=\"INTRADAY\">INTRADAY</option>\r\n-    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n-    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n-    <Option value=\"MARGIN\">MARGIN</Option>\r\n-  </select>\r\n-  </div>`\r\n-  \r\n-  //if productdropdown changes value this will run\r\n-    let productDropdown=document.getElementById(\"productDropdown\");\r\n-    productDropdown?.addEventListener(\"change\",function(){\r\n-          \r\n-          let selectedValue = this.value;\r\n-          console.log(selectedValue)\r\n-          if (!selectedValue || !editor) return;\r\n-\r\n-          //this will add or replace in code snippet\r\n-          let currentValue = editor.getValue();\r\n-          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n-            currentValue = currentValue.replace(\r\n-              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n-              `$1${selectedValue}$2`\r\n-            );\r\n-          } \r\n-            else {\r\n-            // Remove the last closing brace\r\n-            currentValue = currentValue.trim();\r\n-            if (currentValue.endsWith(\"}\")) {\r\n-              currentValue = currentValue.slice(0, -1);\r\n-            }\r\n-            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n-\r\n-          // Append new script value\r\n-          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n-                }\r\n-           \r\n-          editor.setValue(currentValue);\r\n-       \r\n-            let numberbox = document.getElementById(\"showNumberBox\");\r\n-            numberbox.innerHTML = `\r\n-              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n-              <div>\r\n-                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n-                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n-              </div>`;\r\n-\r\n-                let quantityNumber = document.getElementById(\"quantityBox\");\r\n-            let quantityError = document.getElementById(\"quantityError\");\r\n-\r\n-          quantityNumber?.addEventListener(\"input\", function () {\r\n+            \r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n               } \r\n@@ -1065,22 +379,22 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n-let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n-let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n                         \r\n-                        buy.addEventListener(\"click\",function(){\r\n-                          \r\n-                          buy.style.background=\"green\";\r\n-                          sell.style.background=\"\";\r\n+                          buy.addEventListener(\"click\",function(){\r\n+                            \r\n+                            buy.style.background=\"green\";\r\n+                            sell.style.background=\"\";\r\n \r\n-                        })\r\n-                        sell.addEventListener(\"click\",function(){\r\n-                          \r\n-                          sell.style.background=\"red\";\r\n-                          buy.style.background=\"\";\r\n-                        })\r\n+                          })\r\n+                          sell.addEventListener(\"click\",function(){\r\n+                            \r\n+                            sell.style.background=\"red\";\r\n+                            buy.style.background=\"\";\r\n+                          })\r\n               }\r\n \r\n               //exit on purpose switch toggle\r\n                 const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n@@ -1148,35 +462,9 @@\n                 // Event when switch is toggled\r\n                 trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n-            let quantityValue = this.value.trim();\r\n-            let currentValue = editor.getValue().trim();\r\n-\r\n-            if (!quantityValue) {\r\n-              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n-              // Also clean up trailing commas before }\r\n-              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n-              editor.setValue(currentValue);\r\n-              return;\r\n-            }\r\n-\r\n-            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n-              // If already present  replace value only\r\n-              currentValue = currentValue.replace(\r\n-                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n-                `$1${quantityValue}`\r\n-              );\r\n-            } else {\r\n-              // If not present then add it at the end\r\n-              if (currentValue.endsWith(\"}\")) {\r\n-                currentValue = currentValue.slice(0, -1).trim();\r\n-              }\r\n-              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n-              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n-            }\r\n-\r\n-            editor.setValue(currentValue);\r\n+            \r\n           });\r\n     });\r\n });\r\n \r\n"
                },
                {
                    "date": 1755842011291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,9 +265,8 @@\n     let productDropdown=document.getElementById(\"productDropdown\");\r\n     productDropdown?.addEventListener(\"change\",function(){\r\n           \r\n           let selectedValue = this.value;\r\n-          console.log(selectedValue)\r\n           if (!selectedValue || !editor) return;\r\n \r\n           //this will add or replace in code snippet\r\n           let currentValue = editor.getValue();\r\n@@ -330,9 +329,9 @@\n               currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n             }\r\n \r\n             editor.setValue(currentValue);\r\n-            \r\n+\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n               } \r\n"
                },
                {
                    "date": 1755842038567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,9 +304,8 @@\n           quantityNumber?.addEventListener(\"input\", function () {\r\n \r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n-\r\n             if (!quantityValue) {\r\n               currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n               // Also clean up trailing commas before }\r\n               currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n@@ -319,9 +318,10 @@\n               currentValue = currentValue.replace(\r\n                 /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n                 `$1${quantityValue}`\r\n               );\r\n-            } else {\r\n+            } \r\n+            else {\r\n               // If not present then add it at the end\r\n               if (currentValue.endsWith(\"}\")) {\r\n                 currentValue = currentValue.slice(0, -1).trim();\r\n               }\r\n"
                },
                {
                    "date": 1755842135248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -302,8 +302,9 @@\n             let quantityError = document.getElementById(\"quantityError\");\r\n \r\n           quantityNumber?.addEventListener(\"input\", function () {\r\n \r\n+            //it adds and modifyes in code snippet\r\n             let quantityValue = this.value.trim();\r\n             let currentValue = editor.getValue().trim();\r\n             if (!quantityValue) {\r\n               currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n@@ -330,13 +331,16 @@\n             }\r\n \r\n             editor.setValue(currentValue);\r\n \r\n+\r\n+            //for error message\r\n             if (quantityNumber.value <= 0) {\r\n                 quantityError.style.display = \"block\"; // just show error\r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n               } \r\n               \r\n+              //if valid value then show switches and switch's functioning\r\n               else {\r\n                 quantityError.style.display = \"none\";  // hide error\r\n \r\n                 document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n"
                },
                {
                    "date": 1755842168975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,8 +382,9 @@\n                                 </span>\r\n                             </div>\r\n                         </div>`\r\n \r\n+                        //buy sell button color switch\r\n                           let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n                           let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n                         \r\n                           buy.addEventListener(\"click\",function(){\r\n@@ -411,9 +412,8 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-                // Event when switch is toggled\r\n                 exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n \r\n                 //target switch toggle\r\n                 const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n"
                },
                {
                    "date": 1755842180022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -427,9 +427,8 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-                // Event when switch is toggled\r\n                 targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n                 //stoploss switch\r\n@@ -444,9 +443,8 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-                // Event when switch is toggled\r\n                 stoplossSwitch.addEventListener('change', toggleIsSl);\r\n \r\n                 //trailing switch\r\n                 const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n"
                },
                {
                    "date": 1755842185274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -424,9 +424,8 @@\n                     code = code.replace(\r\n                         /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n                         (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n                     );\r\n-\r\n                     editor.setValue(code);\r\n                 }\r\n                 targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n"
                },
                {
                    "date": 1755842192561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,10 +457,8 @@\n                     );\r\n \r\n                     editor.setValue(code);\r\n                 }\r\n-\r\n-                // Event when switch is toggled\r\n                 trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n \r\n \r\n             \r\n"
                },
                {
                    "date": 1755842335147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -429,8 +429,10 @@\n                 }\r\n                 targetSwitch.addEventListener('change', toggleIsTgt);\r\n \r\n \r\n+                //check the val true or false and shows box according\r\n+\r\n                 //stoploss switch\r\n                 const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n                 function toggleIsSl() {\r\n                     let code = editor.getValue();\r\n"
                },
                {
                    "date": 1755842642853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -426,11 +426,15 @@\n                         (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n                     );\r\n                     editor.setValue(code);\r\n                 }\r\n-                targetSwitch.addEventListener('change', toggleIsTgt);\r\n+                targetSwitch.addEventListener('change', ()=>{\r\n+                  toggleIsTgt;\r\n+                })toggleIsTgt;\r\n \r\n \r\n+\r\n+\r\n                 //check the val true or false and shows box according\r\n \r\n                 //stoploss switch\r\n                 const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n"
                },
                {
                    "date": 1755842649788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,722 @@\n+\r\n+//for tooltip to look good\r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+})\r\n+\r\n+\r\n+\r\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+\r\n+  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    //makes isrollover false\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    const suggestions = data.data;\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+  let currentValue = editor.getValue().trim();\r\n+\r\n+// If \"script\" already exists  replace only\r\n+    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+      currentValue = currentValue.replace(\r\n+        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n+        `$1${selectedText}$2\\n}`\r\n+      );\r\n+\r\n+\r\n+    } \r\n+\r\n+    else {\r\n+      // Remove last } if present\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1).trim();\r\n+      }\r\n+\r\n+      // Remove trailing comma if any\r\n+      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+      // Append cleanly\r\n+      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n+    }\r\n+\r\n+    editor.setValue(currentValue);\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select id=\"productDropdown\">\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option value=\"INTRADAY\">INTRADAY</option>\r\n+    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n+    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n+    <Option value=\"MARGIN\">MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+  //if productdropdown changes value this will run\r\n+    let productDropdown=document.getElementById(\"productDropdown\");\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n+          \r\n+          let selectedValue = this.value;\r\n+          if (!selectedValue || !editor) return;\r\n+\r\n+          //this will add or replace in code snippet\r\n+          let currentValue = editor.getValue();\r\n+          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+            currentValue = currentValue.replace(\r\n+              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n+              `$1${selectedValue}$2`\r\n+            );\r\n+          } \r\n+            else {\r\n+            // Remove the last closing brace\r\n+            currentValue = currentValue.trim();\r\n+            if (currentValue.endsWith(\"}\")) {\r\n+              currentValue = currentValue.slice(0, -1);\r\n+            }\r\n+            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+          // Append new script value\r\n+          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+                }\r\n+           \r\n+          editor.setValue(currentValue);\r\n+       \r\n+            let numberbox = document.getElementById(\"showNumberBox\");\r\n+            numberbox.innerHTML = `\r\n+              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+              <div>\r\n+                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+              </div>`;\r\n+\r\n+                let quantityNumber = document.getElementById(\"quantityBox\");\r\n+            let quantityError = document.getElementById(\"quantityError\");\r\n+\r\n+          quantityNumber?.addEventListener(\"input\", function () {\r\n+\r\n+            //it adds and modifyes in code snippet\r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } \r\n+            else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+\r\n+\r\n+            //for error message\r\n+            if (quantityNumber.value <= 0) {\r\n+                quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=\"\";\r\n+              } \r\n+              \r\n+              //if valid value then show switches and switch's functioning\r\n+              else {\r\n+                quantityError.style.display = \"none\";  // hide error\r\n+\r\n+                document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n+                            <div class=\"BtnGroup\">\r\n+                                <button class=\"buyBtn\">BUY</button>\r\n+                                <button class=\"sellBtn\">SELL</button>\r\n+                            </div>\r\n+                            <div class=\"toggleSwitchGroup\">\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to set a profile target for automatically exiting the position \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                            <div class=\"form-check form-switch\">\r\n+                                <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n+                                <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n+                                <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                                    title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n+                                    <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                                </span>\r\n+                            </div>\r\n+                        </div>`\r\n+\r\n+                        //buy sell button color switch\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                        \r\n+                          buy.addEventListener(\"click\",function(){\r\n+                            \r\n+                            buy.style.background=\"green\";\r\n+                            sell.style.background=\"\";\r\n+\r\n+                          })\r\n+                          sell.addEventListener(\"click\",function(){\r\n+                            \r\n+                            sell.style.background=\"red\";\r\n+                            buy.style.background=\"\";\r\n+                          })\r\n+              }\r\n+\r\n+              //exit on purpose switch toggle\r\n+                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n+                function toggleExitOnOpposite() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n+\r\n+                //target switch toggle\r\n+                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n+                function toggleIsTgt() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+                    editor.setValue(code);\r\n+                }\r\n+                targetSwitch.addEventListener('change', ()=>{\r\n+                  toggleIsTgt();\r\n+                })\r\n+\r\n+\r\n+\r\n+\r\n+                //check the val true or false and shows box according\r\n+\r\n+                //stoploss switch\r\n+                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+                function toggleIsSl() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                stoplossSwitch.addEventListener('change', toggleIsSl);\r\n+\r\n+                //trailing switch\r\n+                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n+                function toggleIsTrailSet() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                trailingSwitch.addEventListener('change', toggleIsTrailSet);\r\n+\r\n+\r\n+            \r\n+          });\r\n+    });\r\n+});\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+   \r\n+// productDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+\r\n+//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n+//   quantityNumber?.addEventListener(\"input\",function(){\r\n+//       if(quantityNumber.value <= 0){\r\n+//         console.log(\"checked\")\r\n+//         let numberbox=document.getElementById(\"showNumberBox\");\r\n+//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+//       }\r\n+//       else{\r\n+//       console.log(\"else block\")\r\n+//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//          <div>\r\n+//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+//       }\r\n+//   });\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+// document.addEventListener(\"DOMContentLoaded\",function(){\r\n+// let showDropdown=document.getElementById(\"productDropdown\");\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//    console.log(\"Raw value:\", this.value);\r\n+//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+//   let selectedValue = this.value;\r\n+//   console.log(selectedValue)\r\n+//   if (!selectedValue || !editor) return;\r\n+\r\n+//   let currentValue = editor.getValue();\r\n+//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+//     currentValue = currentValue.replace(\r\n+//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+//       `$1${selectedValue}$2`\r\n+//     );\r\n+//   } else {\r\n+//     // Remove the last closing brace\r\n+//     currentValue = currentValue.trim();\r\n+//     if (currentValue.endsWith(\"}\")) {\r\n+//       currentValue = currentValue.slice(0, -1);\r\n+//     }\r\n+\r\n+//     // Add new line with snippet and closing brace\r\n+//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+//   }\r\n+//   editor.setValue(currentValue);\r\n+// })\r\n+\r\n+\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+// let quantityNumber=document.getElementById(\"quantityBox\");\r\n+// quantityNumber?.addEventListener(\"input\",function(){\r\n+//   if(quantityNumber.value <= 0){\r\n+//     console.log(\"checked\")\r\n+//     let numberbox=document.getElementById(\"showNumberBox\");\r\n+//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+//   }\r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755842661354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -428,8 +428,9 @@\n                     editor.setValue(code);\r\n                 }\r\n                 targetSwitch.addEventListener('change', ()=>{\r\n                   toggleIsTgt();\r\n+                  dropdownContainer.style.display = switchEl.checked ? 'block' : 'none';\r\n                 });\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1755845241675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,758 @@\n+\r\n+//for tooltip to look good\r\n+var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n+var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n+  return new bootstrap.Tooltip(tooltipTriggerEl)\r\n+  \r\n+})\r\n+\r\n+\r\n+\r\n+let editor;\r\n+\r\n+require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\n+require([\"vs/editor/editor.main\"], function () {\r\n+  editor = monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n+    value: `{\r\n+    \"type\": \"strategy_order\",\r\n+    \"exit_on_opposite\": false,\r\n+    \"is_tgt\": false,\r\n+    \"is_sl\": false,\r\n+    \"is_trail_set\": false,\r\n+    \"position_size\": \"{{strategy.position_size}}\",\r\n+    \"transaction_type\": \"{{strategy.order.action}}\"\r\n+}`,\r\n+    language: \"json\",\r\n+    theme: \"vs-dark\",\r\n+    automaticLayout: true,\r\n+    suggestOnTriggerCharacters: false,\r\n+    quickSuggestions: false,\r\n+    wordBasedSuggestions: false,\r\n+    parameterHints: { enabled: false },\r\n+    inlineSuggest: { enabled: false },\r\n+    fontSize: 18,\r\n+    minimap: { enabled: false },\r\n+    wordWrap: \"on\",\r\n+    scrollbar: {\r\n+      vertical: \"hidden\",\r\n+      horizontal: \"hidden\",\r\n+      handleMouseWheel: false\r\n+    },\r\n+  });\r\n+});\r\n+\r\n+\r\n+\r\n+let strategyOrder = document.getElementById(\"strategyOrder\");\r\n+let limitOrder = document.getElementById(\"limitOrder\");\r\n+let slOrder = document.getElementById(\"slOrder\");\r\n+let sqaureOf = document.getElementById(\"sqaureOf\");\r\n+let cancelOrder = document.getElementById(\"cancelOrder\");\r\n+\r\n+function setActive(obj) {\r\n+  console.log(\"enter\");\r\n+  document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n+  obj.classList.add('active');\r\n+}\r\n+\r\n+function showStrategyOrder() {\r\n+  document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n+\r\n+}\r\n+\r\n+let dropdown1 = document.getElementById(\"dropdown1\");\r\n+\r\n+dropdown1.addEventListener(\"change\", () => {\r\n+\r\n+  document.getElementById(\"EQOption2\").innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+\r\n+  if (dropdown1.value == \"EQ\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"FUT\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+  else if (dropdown1.value == \"CE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+  else if (dropdown1.value == \"PE\") {\r\n+    document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"none\";\r\n+    document.getElementsByClassName(\"textPlusDropdown3\")[0].style.display = \"block\";\r\n+  }\r\n+\r\n+})\r\n+\r\n+//adding to script type code snippet \r\n+dropdown1.addEventListener(\"change\", function () {\r\n+  const selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  //chaecks by regex that value already exist then just replace and on change removes any value afterwards\r\n+ if (/\"script_type\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"script_type\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+    //makes isrollover false\r\n+    currentValue = currentValue.replace(/(\"is_rollover\"\\s*:\\s*false).*[\\s\\S]*?\\}/, `$1\\n}`);\r\n+\r\n+\r\n+  } else {\r\n+  // Remove the last closing brace\r\n+  currentValue = currentValue.trim();\r\n+  if (currentValue.endsWith(\"}\")) {\r\n+    currentValue = currentValue.slice(0, -1);\r\n+  }\r\n+\r\n+  // Add new line with snippet and closing brace\r\n+   currentValue += \",\\n  \\t\" + `\"script_type\":\"${selectedValue}\"` + \",\\n \\t\" + `\"is_rollover\":${false}  \\n }` ;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+\r\n+});\r\n+\r\n+\r\n+//adding code to snipper when script type is CE or PE\r\n+let dropdown2 = document.getElementById(\"atmdropdown\");\r\n+dropdown2.addEventListener(\"change\", function () {\r\n+  let selectedValue = this.value;\r\n+  if (!selectedValue || !editor) return;\r\n+\r\n+  let currentValue = editor.getValue();\r\n+  if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+    currentValue = currentValue.replace(\r\n+      /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+      `$1${selectedValue}$2`\r\n+    );\r\n+  } else {\r\n+\r\n+    // Remove the last closing brace\r\n+    currentValue = currentValue.trim();\r\n+    if (currentValue.endsWith(\"}\")) {\r\n+      currentValue = currentValue.slice(0, -1);\r\n+    }\r\n+\r\n+    // Add new line with snippet and closing brace\r\n+     currentValue += \",\\n  \\t\" + `\"Option_Selection\":\"${selectedValue}\"  \\n }`;\r\n+  }\r\n+  editor.setValue(currentValue);\r\n+});\r\n+\r\n+const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU4MzY0NzgsImV4cCI6MTc1NTkyMjg3OH0.XtttcBB5bB7-Spel6SkABFq-2PZChBDq3AJkxqr3Cgc\";\r\n+const searchInput = document.getElementById('search');\r\n+const dropdown = document.getElementById('dropdown');\r\n+document.addEventListener('click', (e) => {\r\n+  // Check if click is outside the input and dropdown\r\n+  if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {\r\n+    dropdown.style.display = 'none';\r\n+  }\r\n+});\r\n+\r\n+// Simple debounce function\r\n+function debounce(func, delay) {\r\n+  let timer;\r\n+  return function (...args) {\r\n+    clearTimeout(timer);\r\n+    timer = setTimeout(() => func.apply(this, args), delay);\r\n+  };\r\n+}\r\n+\r\n+// Fetch API suggestions\r\n+async function fetchSuggestions(query) {\r\n+  if (!query) {\r\n+    dropdown.style.display = 'none';\r\n+    dropdown.innerHTML = '';\r\n+    return;\r\n+  }\r\n+\r\n+  let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+  try {\r\n+    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"Authorization\": token\r\n+      },\r\n+      body: JSON.stringify({\r\n+        script: query,\r\n+        type: scriptType\r\n+      })\r\n+    });\r\n+\r\n+    const data = await res.json();\r\n+    const suggestions = data.data;\r\n+\r\n+\r\n+    dropdown.innerHTML = suggestions.map(item => `<li>${item.script} (${item.exchange})</li>`).join('');\r\n+    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n+\r\n+  }\r\n+  catch (err) {\r\n+    console.error(err);\r\n+  }\r\n+}\r\n+\r\n+// Add click selection\r\n+dropdown?.addEventListener('click', e => {\r\n+  if (e.target.tagName === 'LI') {\r\n+    let selectedText = e.target.textContent;\r\n+    searchInput.value = selectedText;\r\n+    // remove everything after \"(\"\r\n+    if (selectedText.includes(\"(\")) {\r\n+      selectedText = selectedText.split(\"(\")[0];\r\n+    }\r\n+\r\n+    dropdown.style.display = 'none';\r\n+\r\n+  //document.getElementById(\"EQOption2\")?.innerHTML=\"\";\r\n+  document.getElementById(\"showNumberBox\").innerHTML=\"\";\r\n+  let currentValue = editor.getValue().trim();\r\n+\r\n+// If \"script\" already exists  replace only\r\n+    if (/\"script\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+      currentValue = currentValue.replace(\r\n+        /(\"script\"\\s*:\\s*\").*?(\")[\\s\\S]*$/,\r\n+        `$1${selectedText}$2\\n}`\r\n+      );\r\n+\r\n+\r\n+    } \r\n+\r\n+    else {\r\n+      // Remove last } if present\r\n+      if (currentValue.endsWith(\"}\")) {\r\n+        currentValue = currentValue.slice(0, -1).trim();\r\n+      }\r\n+\r\n+      // Remove trailing comma if any\r\n+      currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+      // Append cleanly\r\n+      currentValue = currentValue + `,\\n\\t\"script\":\"${selectedText}\"\\n}`;\r\n+    }\r\n+\r\n+    editor.setValue(currentValue);\r\n+  }\r\n+});\r\n+\r\n+searchInput.addEventListener('input', debounce(e => {\r\n+  fetchSuggestions(e.target.value);\r\n+}, 300));\r\n+\r\n+\r\n+//this is script option the one with dropdown and API onchange of that shows one dropdown\r\n+searchInput.addEventListener(\"change\",function(){\r\n+  let showDropdown=document.getElementById(\"EQOption2\");\r\n+  showDropdown.innerHTML =\r\n+  `<b class=\"m-3 \">Product <span class=\"text-muted\">*</span></b>\r\n+  <div>\r\n+  <select id=\"productDropdown\">\r\n+  <option selected hidden disabled>Select Product</option>\r\n+    <option value=\"INTRADAY\">INTRADAY</option>\r\n+    <Option value=\"CARRYFORWARD\">CARRYFORWARD</Option>\r\n+    <Option value=\"DELIVERY\">DELIVERY</Option>\r\n+    <Option value=\"MARGIN\">MARGIN</Option>\r\n+  </select>\r\n+  </div>`\r\n+  \r\n+  //if productdropdown changes value this will run\r\n+    let productDropdown=document.getElementById(\"productDropdown\");\r\n+    productDropdown?.addEventListener(\"change\",function(){\r\n+          \r\n+          let selectedValue = this.value;\r\n+          if (!selectedValue || !editor) return;\r\n+\r\n+          //this will add or replace in code snippet\r\n+          let currentValue = editor.getValue();\r\n+          if (/\"product\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+            currentValue = currentValue.replace(\r\n+              /(\"product\"\\s*:\\s*\").*?(\")/,\r\n+              `$1${selectedValue}$2`\r\n+            );\r\n+          } \r\n+            else {\r\n+            // Remove the last closing brace\r\n+            currentValue = currentValue.trim();\r\n+            if (currentValue.endsWith(\"}\")) {\r\n+              currentValue = currentValue.slice(0, -1);\r\n+            }\r\n+            currentValue = currentValue.replace(/,\\s*$/, \"\");\r\n+\r\n+          // Append new script value\r\n+          currentValue+= `,\\n \\t\"product\":\"${selectedValue}\" \\n}`;\r\n+                }\r\n+           \r\n+          editor.setValue(currentValue);\r\n+       \r\n+            let numberbox = document.getElementById(\"showNumberBox\");\r\n+            numberbox.innerHTML = `\r\n+              <b class=\"m-2\">Quantity <span class=\"text-muted\">*</span></b>\r\n+              <div>\r\n+                <input type=\"number\" id=\"quantityBox\" placeholder=\"Enter Quantity\">\r\n+                <small id=\"quantityError\" style=\"color:red; display:none;\">Quantity must be greater than 0.</small>\r\n+              </div>`;\r\n+\r\n+                let quantityNumber = document.getElementById(\"quantityBox\");\r\n+            let quantityError = document.getElementById(\"quantityError\");\r\n+\r\n+          quantityNumber?.addEventListener(\"input\", function () {\r\n+\r\n+            //it adds and modifyes in code snippet\r\n+            let quantityValue = this.value.trim();\r\n+            let currentValue = editor.getValue().trim();\r\n+            if (!quantityValue) {\r\n+              currentValue = currentValue.replace(/,?\\s*\"quantityNumber\"\\s*:\\s*\\d+\\s*/g, \"\");\r\n+              // Also clean up trailing commas before }\r\n+              currentValue = currentValue.replace(/,\\s*}/, \"\\n}\");\r\n+              editor.setValue(currentValue);\r\n+              return;\r\n+            }\r\n+\r\n+            if (/\\\"quantityNumber\\\"\\s*:\\s*\\d*/.test(currentValue)) {\r\n+              // If already present  replace value only\r\n+              currentValue = currentValue.replace(\r\n+                /(\"quantityNumber\"\\s*:\\s*)\\d*/,\r\n+                `$1${quantityValue}`\r\n+              );\r\n+            } \r\n+            else {\r\n+              // If not present then add it at the end\r\n+              if (currentValue.endsWith(\"}\")) {\r\n+                currentValue = currentValue.slice(0, -1).trim();\r\n+              }\r\n+              currentValue = currentValue.replace(/,(\\s*})/, \"$1\");\r\n+              currentValue = currentValue + `,\\n\\t\"quantityNumber\":${quantityValue}\\n}`;\r\n+            }\r\n+\r\n+            editor.setValue(currentValue);\r\n+\r\n+\r\n+            //for error message\r\n+            if (quantityNumber.value <= 0) {\r\n+                quantityError.style.display = \"block\"; // just show error\r\n+                document.getElementById(\"quantityEnterShow\").style.display=\"none\";\r\n+\r\n+              } \r\n+              \r\n+              //if valid value then show switches and switch's functioning\r\n+              else {\r\n+                quantityError.style.display = \"none\";  // hide error\r\n+                document.getElementById(\"quantityEnterShow\").style.display=\"block\"\r\n+\r\n+                // document.getElementById(\"quantityEnterShow\").innerHTML=`<b>Transaction Type <span class=\"text-muted\">*</span></b>\r\n+                //             <div class=\"BtnGroup\">\r\n+                //                 <button class=\"buyBtn\">BUY</button>\r\n+                //                 <button class=\"sellBtn\">SELL</button>\r\n+                //             </div>\r\n+                //             <div class=\"toggleSwitchGroup\">\r\n+                //             <div class=\"form-check form-switch\">\r\n+                //                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck1\">\r\n+                //                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Exit on purpose </label>\r\n+                //                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                //                     title=\"Enable this to automatically exit the position when opposite signal generated\">\r\n+                //                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                //                 </span>\r\n+                //             </div>\r\n+                //             <div class=\"form-check form-switch\">\r\n+                //                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck2\">\r\n+                //                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Target </label>\r\n+                //                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                //                     title=\"Enable this to set a profile target for automatically exiting the position \">\r\n+                //                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                //                 </span>\r\n+                //             </div>\r\n+                //             <div class=\"form-check form-switch\">\r\n+                //                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck3\">\r\n+                //                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Stoploss </label>\r\n+                //                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                //                     title=\"Enable stoploss to automatically exit the trade if the prrice moves against you\">\r\n+                //                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                //                 </span>\r\n+                //             </div>\r\n+                //             <div class=\"form-check form-switch\">\r\n+                //                 <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheck4\">\r\n+                //                 <label class=\"form-check-label\" for=\"flexSwitchCheck\">Trailing </label>\r\n+                //                 <span class=\"details\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n+                //                     title=\"Enable this to trail your stoploss as the price moves in your favour,helping you lock in profits automatically \">\r\n+                //                     <img src=\"images/info-circle.svg\" class=\"m-2\">\r\n+                //                 </span>\r\n+                //             </div>\r\n+                //         </div>`\r\n+\r\n+                        //buy sell button color switch\r\n+                          let buy=document.getElementsByClassName(\"buyBtn\")[0];\r\n+                          let sell=document.getElementsByClassName(\"sellBtn\")[0];\r\n+                        \r\n+                          buy.addEventListener(\"click\",function(){\r\n+                            buy.style.background=\"green\";\r\n+                            sell.style.background=\"\";\r\n+                            let code = editor.getValue();\r\n+                              if (/\"transaction_type\"\\s*:\\s*\".*?\"/.test(code)) {\r\n+                                  code = code.replace(/(\"transaction_type\"\\s*:\\s*\").*?\"/, `$1BUY\"`);\r\n+                              } else {\r\n+                                  // If not present, you can optionally add it\r\n+                                  code = code.replace(/(\\{)/, `$1\\n  \"transaction_type\":\"BUY\",`);\r\n+                              }\r\n+                              editor.setValue(code);\r\n+                          });\r\n+\r\n+                          sell.addEventListener(\"click\",function(){\r\n+                            \r\n+                            sell.style.background=\"red\";\r\n+                            buy.style.background=\"\";\r\n+                            let code = editor.getValue();\r\n+                              if (/\"transaction_type\"\\s*:\\s*\".*?\"/.test(code)) {\r\n+                                  code = code.replace(/(\"transaction_type\"\\s*:\\s*\").*?\"/, `$1SELL\"`);\r\n+                              } else {\r\n+                                  // If not present, you can optionally add it\r\n+                                  code = code.replace(/(\\{)/, `$1\\n  \"transaction_type\":\"SELL\",`);\r\n+                              }\r\n+                              editor.setValue(code);\r\n+                          })\r\n+              \r\n+\r\n+              //exit on purpose switch toggle\r\n+                const exitOnPurposeSwitch = document.getElementById('flexSwitchCheck1');\r\n+                function toggleExitOnOpposite() {\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"exit_on_opposite\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                exitOnPurposeSwitch?.addEventListener('change', toggleExitOnOpposite);\r\n+\r\n+                //target switch toggle\r\n+                const   targetSwitch = document.getElementById('flexSwitchCheck2');\r\n+                function toggleIsTgt() {\r\n+                  console.log(\"enter1\")\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_tgt\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+                    editor.setValue(code);\r\n+                }\r\n+\r\n+                //onchange toggles the switch, call the function and also shows dropdown\r\n+                let dropdownofTarget=document.getElementById(\"targetDropdownCtn\");\r\n+                targetSwitch.addEventListener('change', function(){\r\n+                  toggleIsTgt();\r\n+                  dropdownofTarget.style.display = targetSwitch.checked ? 'block' : 'none';\r\n+                });\r\n+\r\n+\r\n+\r\n+\r\n+                //check the val true or false and shows box according\r\n+\r\n+                //stoploss switch\r\n+                const   stoplossSwitch = document.getElementById('flexSwitchCheck3');\r\n+                function toggleIsSl() {\r\n+                  console.log(\"enter2\")\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_sl\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+\r\n+                //onchange toggles the switch, call the function and also shows dropdown\r\n+                stoplossSwitch.addEventListener('change', function(){\r\n+                  toggleIsSl();\r\n+                  let dropdownOfStoploss=document.getElementById(\"stoplossDropdownCtn\");\r\n+                  dropdownOfStoploss.style.display = stoplossSwitch.checked ? 'block' : 'none';\r\n+\r\n+                });\r\n+\r\n+                //trailing switch\r\n+                const   trailingSwitch = document.getElementById('flexSwitchCheck4');\r\n+                function toggleIsTrailSet() {\r\n+                  console.log(\"enter3\")\r\n+                    let code = editor.getValue();\r\n+\r\n+                    // Toggle exit_on_opposite in the JSON string\r\n+                    code = code.replace(\r\n+                        /(\"is_trail_set\"\\s*:\\s*)(true|false)/,\r\n+                        (match, p1, p2) => `${p1}${p2 === 'true' ? 'false' : 'true'}`\r\n+                    );\r\n+\r\n+                    editor.setValue(code);\r\n+                }\r\n+                trailingSwitch.addEventListener('change', function(){\r\n+                  toggleIsTrailSet();\r\n+                  let dropdownOfTrailing=document.getElementById(\"trailingDropdownCtn\");\r\n+                  dropdownOfTrailing.style.display = trailingSwitch.checked ? 'block' : 'none';\r\n+                });\r\n+              } \r\n+\r\n+            \r\n+          });\r\n+    });\r\n+});\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+   \r\n+// productDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`;\r\n+\r\n+//   let quantityNumber=document.getElementById(\"quantityBox\");\r\n+//   quantityNumber?.addEventListener(\"input\",function(){\r\n+//       if(quantityNumber.value <= 0){\r\n+//         console.log(\"checked\")\r\n+//         let numberbox=document.getElementById(\"showNumberBox\");\r\n+//         numberbox.innerHTML += `<small>Quantity must be greater than 0.</small>`\r\n+//       }\r\n+//       else{\r\n+//       console.log(\"else block\")\r\n+//         numberbox.innerHTML= numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//          <div>\r\n+//          <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+//       }\r\n+//   });\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+// document.addEventListener(\"DOMContentLoaded\",function(){\r\n+// let showDropdown=document.getElementById(\"productDropdown\");\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//    console.log(\"Raw value:\", this.value);\r\n+//   console.log(\"SelectedValue:\", this.value || \"EMPTY\");\r\n+//   let selectedValue = this.value;\r\n+//   console.log(selectedValue)\r\n+//   if (!selectedValue || !editor) return;\r\n+\r\n+//   let currentValue = editor.getValue();\r\n+//   if (/\"Option_Selection\"\\s*:\\s*\".*?\"/.test(currentValue)) {\r\n+//     currentValue = currentValue.replace(\r\n+//       /(\"Option_Selection\"\\s*:\\s*\").*?(\")/,\r\n+//       `$1${selectedValue}$2`\r\n+//     );\r\n+//   } else {\r\n+//     // Remove the last closing brace\r\n+//     currentValue = currentValue.trim();\r\n+//     if (currentValue.endsWith(\"}\")) {\r\n+//       currentValue = currentValue.slice(0, -1);\r\n+//     }\r\n+\r\n+//     // Add new line with snippet and closing brace\r\n+//      currentValue += \",\\n  \\t\" + `\"product\":\"${selectedValue}\"`  +\"}\";\r\n+//   }\r\n+//   editor.setValue(currentValue);\r\n+// })\r\n+\r\n+\r\n+// showDropdown?.addEventListener(\"change\",function(){\r\n+//   let numberbox=document.getElementById(\"showNumberBox\");\r\n+//   numberbox.innerHTML = `<b class=\"m-2 \">Quantity <span class=\"text-muted\">*</span></b>\r\n+//   <div>\r\n+//   <input type='number' id=\"quantityBox\" placeholder=\"Enter Quantity\" ></div>`\r\n+\r\n+// });\r\n+  \r\n+// });\r\n+\r\n+\r\n+\r\n+// let quantityNumber=document.getElementById(\"quantityBox\");\r\n+// quantityNumber?.addEventListener(\"input\",function(){\r\n+//   if(quantityNumber.value <= 0){\r\n+//     console.log(\"checked\")\r\n+//     let numberbox=document.getElementById(\"showNumberBox\");\r\n+//     numberbox.innerHTML=`<small>Quantity must be greater than 0.</small>`\r\n+//   }\r\n+// });\r\n+\r\n+\r\n+\r\n+\r\n+// const searchBox = document.getElementById(\"searchBox\");\r\n+// //const dropdown = document.getElementById(\"dropdown2\");\r\n+// const dropdownEl = document.getElementById(\"dropdown2\");\r\n+// let timeout;\r\n+\r\n+\r\n+// // searchBox?.addEventListener(\"input\",()=>{\r\n+// //     console.log(searchBox?.value)\r\n+// // })\r\n+// function debounce(fn, delay) {\r\n+\r\n+//     return (...args) => {\r\n+//         clearTimeout(timeout);\r\n+//         timeout = setTimeout(() => fn(...args), delay);\r\n+//     };\r\n+// }\r\n+\r\n+// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n+// async function fetchResults(query) {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+//     console.log(\"Calling API with:\", { query, scriptType });\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({\r\n+//                 script: query,\r\n+//                 type: scriptType\r\n+//             })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         console.log(\"API Response:\", data); // debug check\r\n+\r\n+//         dropdownEl.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdownEl.style.display = \"block\";\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.style.padding = \"6px 10px\";\r\n+//                 div.style.cursor = \"pointer\";\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdownEl.style.display = \"none\";\r\n+\r\n+//                     // also update Monaco default value\r\n+//                     let current = editor.getValue();\r\n+//                     try {\r\n+//                         let obj = JSON.parse(current);\r\n+//                         obj.script = { name: item.name, type: scriptType };\r\n+//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n+//                     } catch (e) {\r\n+//                         console.error(\"Editor JSON invalid:\", e);\r\n+//                     }\r\n+//                 };\r\n+//                 dropdownEl.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdownEl.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(\"Fetch error:\", err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n+\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n+\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+\r\n+// async function fetchResults(query) {\r\n+// let scriptType=dropdownEl?.value;\r\n+//     try {\r\n+//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n+//             method: \"POST\",\r\n+//             headers: {\r\n+//                 \"Content-Type\": \"application/json\",\r\n+//                 \"Authorization\": token\r\n+//             },\r\n+//             body: JSON.stringify({ script: query ,type:scriptType })\r\n+//         });\r\n+\r\n+//         const data = await res.json();\r\n+//         dropdown.innerHTML = \"\";\r\n+//         if (data.results && data.results.length > 0) {\r\n+//             dropdown.style.display = \"block\";\r\n+//             console.log(dropdown?.value)\r\n+//             data.results.forEach(item => {\r\n+//                 const div = document.createElement(\"div\");\r\n+//                 div.textContent = item.name;\r\n+//                 div.onclick = () => {\r\n+//                     searchBox.value = item.name;\r\n+//                     dropdown.style.display = \"none\";\r\n+//                 };\r\n+//                 dropdown.appendChild(div);\r\n+//             });\r\n+//         } else {\r\n+//             dropdown.style.display = \"none\";\r\n+//         }\r\n+//     } catch (err) {\r\n+//         console.error(err);\r\n+//     }\r\n+// }\r\n+\r\n+// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n+//     const query = e.target.value.trim();\r\n+//     if (query.length > 1) {\r\n+//         fetchResults(query);\r\n+//     } else {\r\n+//         dropdown.style.display = \"none\";\r\n+//     }\r\n+// }, 500));\r\n+\r\n+\r\n+\r\n+// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n+//   .then(res => res.json())\r\n+//   .then(data => console.log(data))\r\n+//   .catch(err => console.error(err));\n\\ No newline at end of file\n"
                }
            ],
            "date": 1755747132751,
            "name": "Commit-0",
            "content": "require.config({ paths: { vs: \"https://unpkg.com/monaco-editor@0.52.0/min/vs\" } });\r\nrequire([\"vs/editor/editor.main\"], function () {\r\n    monaco.editor.create(document.getElementsByClassName(\"generatedCode\")[0], {\r\n        value: `{\r\n    \"type\": \"strategy_order\",\r\n    \"exit_on_opposite\": false,\r\n    \"is_tgt\": false,\r\n    \"is_sl\": false,\r\n    \"is_trail_set\": false,\r\n    \"position_size\": \"{{strategy.position_size}}\",\r\n    \"transaction_type\": \"{{strategy.order.action}}\"\r\n}`,\r\n        language: \"json\",\r\n        theme: \"vs-dark\",\r\n        automaticLayout: true,\r\n        suggestOnTriggerCharacters: false,\r\n        quickSuggestions: false,\r\n        wordBasedSuggestions: false,\r\n        parameterHints: { enabled: false },\r\n        inlineSuggest: { enabled: false },\r\n        fontSize: 18,\r\n        minimap: { enabled: false },\r\n        wordWrap: \"on\",\r\n        scrollbar: {\r\n            vertical: \"hidden\",\r\n            horizontal: \"hidden\",\r\n            handleMouseWheel: false\r\n        },\r\n    });\r\n});\r\n\r\n\r\n\r\nlet strategyOrder = document.getElementById(\"strategyOrder\");\r\nlet limitOrder = document.getElementById(\"limitOrder\");\r\nlet slOrder = document.getElementById(\"slOrder\");\r\nlet sqaureOf = document.getElementById(\"sqaureOf\");\r\nlet cancelOrder = document.getElementById(\"cancelOrder\");\r\n\r\nfunction setActive(obj) {\r\n    console.log(\"enter\");\r\n    document.querySelectorAll('.syntax_generator').forEach(button => button.classList.remove('active'));\r\n    obj.classList.add('active');\r\n}\r\n\r\nfunction showStrategyOrder() {\r\n    document.getElementsByClassName(\"card1\")[0].style.display = \"block\";\r\n\r\n}\r\n\r\nlet dropdown1 = document.getElementById(\"dropdown1\");\r\ndropdown1.addEventListener(\"change\", () => {\r\n    //document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = \"\";\r\n\r\n    if (dropdown1.value == \"EQ\") {\r\n        document.getElementsByClassName(\"textPlusDropdown2\")[0].style.display = \"block\";\r\n        // document.getElementsByClassName(\"textPlusDropdown2\")[0].innerHTML = `<b>Script *</b>\r\n        //                     <input type=\"text\" id=\"searchBox\" class=\"textbox\" placeholder=\"Select Symbol\" style=\"border: none; \">\r\n        //                     <div id=\"dropdown2\"></div>`;\r\n\r\n    }\r\n\r\n})\r\n\r\n const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\nconst searchInput = document.getElementById('search');\r\nconst dropdown = document.getElementById('dropdown');\r\n\r\n// Simple debounce function\r\nfunction debounce(func, delay) {\r\n  let timer;\r\n  return function(...args) {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => func.apply(this, args), delay);\r\n  };\r\n}\r\n\r\n// Fetch API suggestions\r\nasync function fetchSuggestions(query) {\r\n  if(!query) {\r\n    dropdown.style.display = 'none';\r\n    dropdown.innerHTML = '';\r\n    return;\r\n  }\r\n     let scriptType=document.getElementById(\"dropdown1\")?.value;\r\n  try {\r\n    const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": token\r\n            },\r\n             body: JSON.stringify({\r\n                script: query,\r\n                type: scriptType\r\n            })\r\n        });\r\n\r\n    const data = await res.json();\r\n    const suggestions = data.data;\r\n    console.log(data)\r\n    \r\n    dropdown.innerHTML = suggestions.map(item => `<option>${item.script} (${item.exchange})</option>`).join('');\r\n    dropdown.style.display = suggestions.length ? 'block' : 'none';\r\n  } catch(err) {\r\n    console.error(err);\r\n  }\r\n}\r\n\r\n// Add click selection\r\ndropdown.addEventListener('click', e => {\r\n  if(e.target.tagName === 'LI') {\r\n    searchInput.value = e.target.textContent;\r\n    dropdown.style.display = 'none';\r\n  }\r\n});\r\n\r\nsearchInput.addEventListener('input', debounce(e => {\r\n  fetchSuggestions(e.target.value);\r\n}, 300));\r\n\r\n\r\n// const searchBox = document.getElementById(\"searchBox\");\r\n// //const dropdown = document.getElementById(\"dropdown2\");\r\n// const dropdownEl = document.getElementById(\"dropdown2\");\r\n// let timeout;\r\n\r\n\r\n// // searchBox?.addEventListener(\"input\",()=>{\r\n// //     console.log(searchBox?.value)\r\n// // })\r\n// function debounce(fn, delay) {\r\n\r\n//     return (...args) => {\r\n//         clearTimeout(timeout);\r\n//         timeout = setTimeout(() => fn(...args), delay);\r\n//     };\r\n// }\r\n\r\n// const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJmcmNoX2lkIjoxLCJlbWFpbCI6ImRldjMuYWxnb2RlbHRhQGdtYWlsLmNvbSIsIm1vYmlsZV9ubyI6IjkzMTMxODM4NDciLCJjdXN0X2lkIjoiNzM1NTQ3IiwiZW52IjoibWFpbiIsInVzZXJfdHlwZSI6InVzZXIiLCJpYXQiOjE3NTU2NjMwNzksImV4cCI6MTc1NTc0OTQ3OX0.kSCPiQ4dWtAx-sgxVRDyHXsKYCsbuuvZRtTH0MCO4Wk\"\r\n// async function fetchResults(query) {\r\n//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n//     console.log(\"Calling API with:\", { query, scriptType });\r\n//     try {\r\n//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n//             method: \"POST\",\r\n//             headers: {\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Authorization\": token\r\n//             },\r\n//             body: JSON.stringify({\r\n//                 script: query,\r\n//                 type: scriptType\r\n//             })\r\n//         });\r\n\r\n//         const data = await res.json();\r\n//         console.log(\"API Response:\", data); // debug check\r\n\r\n//         dropdownEl.innerHTML = \"\";\r\n//         if (data.results && data.results.length > 0) {\r\n//             dropdownEl.style.display = \"block\";\r\n//             data.results.forEach(item => {\r\n//                 const div = document.createElement(\"div\");\r\n//                 div.textContent = item.name;\r\n//                 div.style.padding = \"6px 10px\";\r\n//                 div.style.cursor = \"pointer\";\r\n//                 div.onclick = () => {\r\n//                     searchBox.value = item.name;\r\n//                     dropdownEl.style.display = \"none\";\r\n\r\n//                     // also update Monaco default value\r\n//                     let current = editor.getValue();\r\n//                     try {\r\n//                         let obj = JSON.parse(current);\r\n//                         obj.script = { name: item.name, type: scriptType };\r\n//                         editor.setValue(JSON.stringify(obj, null, 2));\r\n//                     } catch (e) {\r\n//                         console.error(\"Editor JSON invalid:\", e);\r\n//                     }\r\n//                 };\r\n//                 dropdownEl.appendChild(div);\r\n//             });\r\n//         } else {\r\n//             dropdownEl.style.display = \"none\";\r\n//         }\r\n//     } catch (err) {\r\n//         console.error(\"Fetch error:\", err);\r\n//     }\r\n// }\r\n\r\n// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n//     let scriptType = document.getElementById(\"dropdown1\")?.value;\r\n\r\n//     const query = e.target.value.trim();\r\n//     if (query.length > 1) {\r\n//         console.log(\"Payload:\", { search: query, type: scriptType });\r\n\r\n//         fetchResults(query);\r\n//     } else {\r\n//         dropdown.style.display = \"none\";\r\n//     }\r\n// }, 500));\r\n\r\n\r\n\r\n\r\n// async function fetchResults(query) {\r\n// let scriptType=dropdownEl?.value;\r\n//     try {\r\n//         const res = await fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\", {\r\n//             method: \"POST\",\r\n//             headers: {\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Authorization\": token\r\n//             },\r\n//             body: JSON.stringify({ script: query ,type:scriptType })\r\n//         });\r\n\r\n//         const data = await res.json();\r\n//         dropdown.innerHTML = \"\";\r\n//         if (data.results && data.results.length > 0) {\r\n//             dropdown.style.display = \"block\";\r\n//             console.log(dropdown?.value)\r\n//             data.results.forEach(item => {\r\n//                 const div = document.createElement(\"div\");\r\n//                 div.textContent = item.name;\r\n//                 div.onclick = () => {\r\n//                     searchBox.value = item.name;\r\n//                     dropdown.style.display = \"none\";\r\n//                 };\r\n//                 dropdown.appendChild(div);\r\n//             });\r\n//         } else {\r\n//             dropdown.style.display = \"none\";\r\n//         }\r\n//     } catch (err) {\r\n//         console.error(err);\r\n//     }\r\n// }\r\n\r\n// searchBox?.addEventListener(\"input\", debounce((e) => {\r\n//     const query = e.target.value.trim();\r\n//     if (query.length > 1) {\r\n//         fetchResults(query);\r\n//     } else {\r\n//         dropdown.style.display = \"none\";\r\n//     }\r\n// }, 500));\r\n\r\n\r\n\r\n// fetch(\"https://betabv4.algodelta.com/api/v4/users/jsonbridge/searchscript\")\r\n//   .then(res => res.json())\r\n//   .then(data => console.log(data))\r\n//   .catch(err => console.error(err));\r\n\r\n"
        }
    ]
}