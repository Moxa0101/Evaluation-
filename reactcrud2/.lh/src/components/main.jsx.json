{
    "sourceFile": "src/components/main.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1757355821147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757356388240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n-import CardList from \"./CardList\";\r\n-import PostModal from \"./PostModal\";\r\n+import Card from \"./Card\";\r\n+import Modal from \"./Modal\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n \r\n@@ -33,9 +33,9 @@\n   };\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n-      <PostModal onAdd={handleAdd} />\r\n-      <CardList data={data} onDelete={handleDelete} />\r\n+      <Modal onAdd={handleAdd} />\r\n+      <Card data={data} onDelete={handleDelete} />\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757356509683,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,48 @@\n+// import React, { useEffect, useState } from \"react\";\r\n+// import Card from \"./Card\";\r\n+// import Modal from \"./Modal\";\r\n+\r\n+// export default function Main() {\r\n+//   const [data, setData] = useState([]);\r\n+\r\n+//   // Fetch posts\r\n+//   useEffect(() => {\r\n+//     fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=10\")\r\n+//       .then((res) => res.json())\r\n+//       .then((json) => setData(json));\r\n+//   }, []);\r\n+\r\n+//   // Add post\r\n+//   const handleAdd = (post) => {\r\n+//     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n+//       method: \"POST\",\r\n+//       headers: { \"Content-Type\": \"application/json\" },\r\n+//       body: JSON.stringify(post),\r\n+//     })\r\n+//       .then((res) => res.json())\r\n+//       .then((newPost) => setData([newPost, ...data]));\r\n+//   };\r\n+\r\n+//   // Delete post\r\n+//   const handleDelete = (id) => {\r\n+//     if (window.confirm(\"Delete this post?\")) {\r\n+//       fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n+//         method: \"DELETE\",\r\n+//       }).then(() => setData(data.filter((item) => item.id !== id)));\r\n+//     }\r\n+//   };\r\n+\r\n+//   return (\r\n+//     <div className=\"container mt-3\">\r\n+//       <Modal onAdd={handleAdd} />\r\n+//       <Card data={data} onDelete={handleDelete} />\r\n+//     </div>\r\n+//   );\r\n+// }\r\n import React, { useEffect, useState } from \"react\";\r\n-import Card from \"./Card\";\r\n-import Modal from \"./Modal\";\r\n+import CardList from \"./CardList\";\r\n+import PostModal from \"./PostModal\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n \r\n@@ -33,9 +74,9 @@\n   };\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n-      <Modal onAdd={handleAdd} />\r\n-      <Card data={data} onDelete={handleDelete} />\r\n+      <PostModal onAdd={handleAdd} />\r\n+      <CardList data={data} onDelete={handleDelete} />\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757389447916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,10 +39,10 @@\n //     </div>\r\n //   );\r\n // }\r\n import React, { useEffect, useState } from \"react\";\r\n-import CardList from \"./CardList\";\r\n-import PostModal from \"./PostModal\";\r\n+import Card from \"./CardList\";\r\n+import Modal from \"./PostModal\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n \r\n@@ -63,8 +63,10 @@\n       .then((res) => res.json())\r\n       .then((newPost) => setData([newPost, ...data]));\r\n   };\r\n \r\n+  const \r\n+\r\n   // Delete post\r\n   const handleDelete = (id) => {\r\n     if (window.confirm(\"Delete this post?\")) {\r\n       fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n@@ -74,9 +76,9 @@\n   };\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n-      <PostModal onAdd={handleAdd} />\r\n-      <CardList data={data} onDelete={handleDelete} />\r\n+      <Modal onAdd={handleAdd} />\r\n+      <Card data={data} onDelete={handleDelete} />\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757389485969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,16 +66,31 @@\n \r\n   const \r\n \r\n   // Delete post\r\n-  const handleDelete = (id) => {\r\n-    if (window.confirm(\"Delete this post?\")) {\r\n-      fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n-        method: \"DELETE\",\r\n-      }).then(() => setData(data.filter((item) => item.id !== id)));\r\n-    }\r\n-  };\r\n+  // const handleDelete = (id) => {\r\n+  //   if (window.confirm(\"Delete this post?\")) {\r\n+  //     fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n+  //       method: \"DELETE\",\r\n+  //     }).then(() => setData(data.filter((item) => item.id !== id)));\r\n+  //   }\r\n+  // };\r\n \r\n+  const confirmDelete = async () => {\r\n+        try {\r\n+            await fetch(`https://jsonplaceholder.typicode.com/posts/${deleteId}`, { method: \"DELETE\" });\r\n+            const updated = data.filter(post => post.id !== deleteId);\r\n+            setData(updated);\r\n+            localStorage.setItem(\"cardData\", JSON.stringify(updated));\r\n+            const lastPage = Math.max(1, Math.ceil(updated.length / cardPerPage));\r\n+            if (page > lastPage) setPage(lastPage);\r\n+            setShowDelete(false);\r\n+        } catch (err) {\r\n+            console.error(\"Delete failed:\", err);\r\n+        }\r\n+    };\r\n+\r\n+\r\n   return (\r\n     <div className=\"container mt-3\">\r\n       <Modal onAdd={handleAdd} />\r\n       <Card data={data} onDelete={handleDelete} />\r\n"
                },
                {
                    "date": 1757389491025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,9 @@\n       .then((res) => res.json())\r\n       .then((newPost) => setData([newPost, ...data]));\r\n   };\r\n \r\n-  const \r\n+   \r\n \r\n   // Delete post\r\n   // const handleDelete = (id) => {\r\n   //   if (window.confirm(\"Delete this post?\")) {\r\n"
                },
                {
                    "date": 1757389571567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,31 +66,16 @@\n \r\n    \r\n \r\n   // Delete post\r\n-  // const handleDelete = (id) => {\r\n-  //   if (window.confirm(\"Delete this post?\")) {\r\n-  //     fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n-  //       method: \"DELETE\",\r\n-  //     }).then(() => setData(data.filter((item) => item.id !== id)));\r\n-  //   }\r\n-  // };\r\n+  const handleDelete = (id) => {\r\n+    if (window.confirm(\"Delete this post?\")) {\r\n+      fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n+        method: \"DELETE\",\r\n+      }).then(() => setData(data.filter((item) => item.id !== id)));\r\n+    }\r\n+  };\r\n \r\n-  const confirmDelete = async () => {\r\n-        try {\r\n-            await fetch(`https://jsonplaceholder.typicode.com/posts/${deleteId}`, { method: \"DELETE\" });\r\n-            const updated = data.filter(post => post.id !== deleteId);\r\n-            setData(updated);\r\n-            localStorage.setItem(\"cardData\", JSON.stringify(updated));\r\n-            const lastPage = Math.max(1, Math.ceil(updated.length / cardPerPage));\r\n-            if (page > lastPage) setPage(lastPage);\r\n-            setShowDelete(false);\r\n-        } catch (err) {\r\n-            console.error(\"Delete failed:\", err);\r\n-        }\r\n-    };\r\n-\r\n-\r\n   return (\r\n     <div className=\"container mt-3\">\r\n       <Modal onAdd={handleAdd} />\r\n       <Card data={data} onDelete={handleDelete} />\r\n"
                },
                {
                    "date": 1757389596849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,10 +39,10 @@\n //     </div>\r\n //   );\r\n // }\r\n import React, { useEffect, useState } from \"react\";\r\n-import Card from \"./CardList\";\r\n-import Modal from \"./PostModal\";\r\n+import Card from \"./Card\";\r\n+import Modal from \"./Modal\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n \r\n"
                },
                {
                    "date": 1757389910723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,8 +77,8 @@\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n       <Modal onAdd={handleAdd} />\r\n-      <Card data={data} onDelete={handleDelete} />\r\n+      <Card data={data} onDelete={handleDelete} onEdit={handleEdit} />\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757390115643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,8 +74,12 @@\n       }).then(() => setData(data.filter((item) => item.id !== id)));\r\n     }\r\n   };\r\n \r\n+  const handleEdit=(id)=>{\r\n+    console.log(\"okk\")\r\n+  }\r\n+\r\n   return (\r\n     <div className=\"container mt-3\">\r\n       <Modal onAdd={handleAdd} />\r\n       <Card data={data} onDelete={handleDelete} onEdit={handleEdit} />\r\n"
                },
                {
                    "date": 1757390179274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,13 +47,21 @@\n   const [data, setData] = useState([]);\r\n \r\n   // Fetch posts\r\n   useEffect(() => {\r\n-    fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=10\")\r\n-      .then((res) => res.json())\r\n-      .then((json) => setData(json));\r\n-  }, []);\r\n-\r\n+          const lcData = JSON.parse(localStorage.getItem(\"cardData\"));\r\n+          if (Array.isArray(lcData) && lcData.length > 0) {\r\n+              setData(lcData);\r\n+          } else {\r\n+              fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n+                  .then(res => res.json())\r\n+                  .then(data => {\r\n+                      setData(data);\r\n+                      localStorage.setItem(\"cardData\", JSON.stringify(data))\r\n+                  })\r\n+          }\r\n+      }, []);\r\n+  \r\n   // Add post\r\n   const handleAdd = (post) => {\r\n     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n       method: \"POST\",\r\n"
                },
                {
                    "date": 1757391195309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,27 +41,28 @@\n // }\r\n import React, { useEffect, useState } from \"react\";\r\n import Card from \"./Card\";\r\n import Modal from \"./Modal\";\r\n+import { Pagination } from \"react-bootstrap\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n \r\n   // Fetch posts\r\n   useEffect(() => {\r\n-          const lcData = JSON.parse(localStorage.getItem(\"cardData\"));\r\n-          if (Array.isArray(lcData) && lcData.length > 0) {\r\n-              setData(lcData);\r\n-          } else {\r\n-              fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n-                  .then(res => res.json())\r\n-                  .then(data => {\r\n-                      setData(data);\r\n-                      localStorage.setItem(\"cardData\", JSON.stringify(data))\r\n-                  })\r\n-          }\r\n-      }, []);\r\n-  \r\n+    const lcData = JSON.parse(localStorage.getItem(\"cardData\"));\r\n+    if (Array.isArray(lcData) && lcData.length > 0) {\r\n+      setData(lcData);\r\n+    } else {\r\n+      fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n+        .then(res => res.json())\r\n+        .then(data => {\r\n+          setData(data);\r\n+          localStorage.setItem(\"cardData\", JSON.stringify(data))\r\n+        })\r\n+    }\r\n+  }, []);\r\n+\r\n   // Add post\r\n   const handleAdd = (post) => {\r\n     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n       method: \"POST\",\r\n@@ -71,10 +72,10 @@\n       .then((res) => res.json())\r\n       .then((newPost) => setData([newPost, ...data]));\r\n   };\r\n \r\n-   \r\n \r\n+\r\n   // Delete post\r\n   const handleDelete = (id) => {\r\n     if (window.confirm(\"Delete this post?\")) {\r\n       fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n@@ -82,15 +83,16 @@\n       }).then(() => setData(data.filter((item) => item.id !== id)));\r\n     }\r\n   };\r\n \r\n-  const handleEdit=(id)=>{\r\n+  const handleEdit = (id) => {\r\n     console.log(\"okk\")\r\n   }\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n       <Modal onAdd={handleAdd} />\r\n       <Card data={data} onDelete={handleDelete} onEdit={handleEdit} />\r\n+      <Pagination/>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757408545044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,98 +1,118 @@\n-// import React, { useEffect, useState } from \"react\";\r\n-// import Card from \"./Card\";\r\n-// import Modal from \"./Modal\";\r\n-\r\n-// export default function Main() {\r\n-//   const [data, setData] = useState([]);\r\n-\r\n-//   // Fetch posts\r\n-//   useEffect(() => {\r\n-//     fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=10\")\r\n-//       .then((res) => res.json())\r\n-//       .then((json) => setData(json));\r\n-//   }, []);\r\n-\r\n-//   // Add post\r\n-//   const handleAdd = (post) => {\r\n-//     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n-//       method: \"POST\",\r\n-//       headers: { \"Content-Type\": \"application/json\" },\r\n-//       body: JSON.stringify(post),\r\n-//     })\r\n-//       .then((res) => res.json())\r\n-//       .then((newPost) => setData([newPost, ...data]));\r\n-//   };\r\n-\r\n-//   // Delete post\r\n-//   const handleDelete = (id) => {\r\n-//     if (window.confirm(\"Delete this post?\")) {\r\n-//       fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n-//         method: \"DELETE\",\r\n-//       }).then(() => setData(data.filter((item) => item.id !== id)));\r\n-//     }\r\n-//   };\r\n-\r\n-//   return (\r\n-//     <div className=\"container mt-3\">\r\n-//       <Modal onAdd={handleAdd} />\r\n-//       <Card data={data} onDelete={handleDelete} />\r\n-//     </div>\r\n-//   );\r\n-// }\r\n import React, { useEffect, useState } from \"react\";\r\n-import Card from \"./Card\";\r\n-import Modal from \"./Modal\";\r\n-import { Pagination } from \"react-bootstrap\";\r\n+import CardList from \"./CardList\";\r\n+import PostModal from \"./PostModal\";\r\n+import Pagination from \"./Pagination\";\r\n+import DeleteModal from \"./DeleteModal\";\r\n \r\n export default function Main() {\r\n   const [data, setData] = useState([]);\r\n+  const [selectedPost, setSelectedPost] = useState(null); // for edit\r\n+  const [showDelete, setShowDelete] = useState(false); // delete modal\r\n+  const [deleteId, setDeleteId] = useState(null);\r\n+  const [page, setPage] = useState(1);\r\n+  const cardPerPage = 9;\r\n \r\n-  // Fetch posts\r\n+  // Load data\r\n   useEffect(() => {\r\n     const lcData = JSON.parse(localStorage.getItem(\"cardData\"));\r\n     if (Array.isArray(lcData) && lcData.length > 0) {\r\n       setData(lcData);\r\n     } else {\r\n-      fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n-        .then(res => res.json())\r\n-        .then(data => {\r\n-          setData(data);\r\n-          localStorage.setItem(\"cardData\", JSON.stringify(data))\r\n-        })\r\n+      fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=30\")\r\n+        .then((res) => res.json())\r\n+        .then((apiData) => {\r\n+          setData(apiData);\r\n+          localStorage.setItem(\"cardData\", JSON.stringify(apiData));\r\n+        });\r\n     }\r\n   }, []);\r\n \r\n+  // Sync to localStorage\r\n+  const updateStorage = (newData) => {\r\n+    setData(newData);\r\n+    localStorage.setItem(\"cardData\", JSON.stringify(newData));\r\n+  };\r\n+\r\n   // Add post\r\n   const handleAdd = (post) => {\r\n     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n       method: \"POST\",\r\n       headers: { \"Content-Type\": \"application/json\" },\r\n       body: JSON.stringify(post),\r\n     })\r\n       .then((res) => res.json())\r\n-      .then((newPost) => setData([newPost, ...data]));\r\n+      .then((newPost) => {\r\n+        const updated = [newPost, ...data];\r\n+        updateStorage(updated);\r\n+      });\r\n   };\r\n \r\n+  // Edit post\r\n+  const handleEdit = (updatedPost) => {\r\n+    fetch(`https://jsonplaceholder.typicode.com/posts/${updatedPost.id}`, {\r\n+      method: \"PUT\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify(updatedPost),\r\n+    })\r\n+      .then((res) => res.json())\r\n+      .then((resPost) => {\r\n+        const updated = data.map((item) =>\r\n+          item.id === resPost.id ? resPost : item\r\n+        );\r\n+        updateStorage(updated);\r\n+      });\r\n+  };\r\n \r\n+  // Ask delete\r\n+  const confirmDelete = (id) => {\r\n+    setDeleteId(id);\r\n+    setShowDelete(true);\r\n+  };\r\n \r\n   // Delete post\r\n-  const handleDelete = (id) => {\r\n-    if (window.confirm(\"Delete this post?\")) {\r\n-      fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n-        method: \"DELETE\",\r\n-      }).then(() => setData(data.filter((item) => item.id !== id)));\r\n-    }\r\n+  const handleDelete = () => {\r\n+    fetch(`https://jsonplaceholder.typicode.com/posts/${deleteId}`, {\r\n+      method: \"DELETE\",\r\n+    }).then(() => {\r\n+      const updated = data.filter((item) => item.id !== deleteId);\r\n+      updateStorage(updated);\r\n+      setShowDelete(false);\r\n+      setDeleteId(null);\r\n+    });\r\n   };\r\n \r\n-  const handleEdit = (id) => {\r\n-    console.log(\"okk\")\r\n-  }\r\n+  // Pagination slice\r\n+  const start = (page - 1) * cardPerPage;\r\n+  const pagedData = data.slice(start, start + cardPerPage);\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n-      <Modal onAdd={handleAdd} />\r\n-      <Card data={data} onDelete={handleDelete} onEdit={handleEdit} />\r\n-      <Pagination/>\r\n+      <PostModal\r\n+        onAdd={handleAdd}\r\n+        onEdit={handleEdit}\r\n+        editData={selectedPost}\r\n+        setEditData={setSelectedPost}\r\n+      />\r\n+\r\n+      <CardList\r\n+        data={pagedData}\r\n+        onDelete={confirmDelete}\r\n+        onEdit={(id) => setSelectedPost(data.find((p) => p.id === id))}\r\n+      />\r\n+\r\n+      <Pagination\r\n+        total={data.length}\r\n+        cardPerPage={cardPerPage}\r\n+        page={page}\r\n+        setPage={setPage}\r\n+      />\r\n+\r\n+      <DeleteModal\r\n+        show={showDelete}\r\n+        onClose={() => setShowDelete(false)}\r\n+        onConfirm={handleDelete}\r\n+        post={data.find((p) => p.id === deleteId)}\r\n+      />\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1757408631069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n-import CardList from \"./CardList\";\r\n-import PostModal from \"./PostModal\";\r\n+import CardList from \"./Card\";\r\n+import PostModal from \"./Modal\";\r\n import Pagination from \"./Pagination\";\r\n import DeleteModal from \"./DeleteModal\";\r\n \r\n export default function Main() {\r\n"
                },
                {
                    "date": 1757408638885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n-import CardList from \"./Card\";\r\n-import PostModal from \"./Modal\";\r\n+import Card from \"./Card\";\r\n+import Modal from \"./Modal\";\r\n import Pagination from \"./Pagination\";\r\n import DeleteModal from \"./DeleteModal\";\r\n \r\n export default function Main() {\r\n"
                },
                {
                    "date": 1757408650136,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,16 +86,16 @@\n   const pagedData = data.slice(start, start + cardPerPage);\r\n \r\n   return (\r\n     <div className=\"container mt-3\">\r\n-      <PostModal\r\n+      <Modal\r\n         onAdd={handleAdd}\r\n         onEdit={handleEdit}\r\n         editData={selectedPost}\r\n         setEditData={setSelectedPost}\r\n       />\r\n \r\n-      <CardList\r\n+      <Card\r\n         data={pagedData}\r\n         onDelete={confirmDelete}\r\n         onEdit={(id) => setSelectedPost(data.find((p) => p.id === id))}\r\n       />\r\n"
                },
                {
                    "date": 1757409005696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     const lcData = JSON.parse(localStorage.getItem(\"cardData\"));\r\n     if (Array.isArray(lcData) && lcData.length > 0) {\r\n       setData(lcData);\r\n     } else {\r\n-      fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=30\")\r\n+      fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n         .then((res) => res.json())\r\n         .then((apiData) => {\r\n           setData(apiData);\r\n           localStorage.setItem(\"cardData\", JSON.stringify(apiData));\r\n"
                },
                {
                    "date": 1757409104206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,18 +36,21 @@\n   // Add post\r\n   const handleAdd = (post) => {\r\n     fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n       method: \"POST\",\r\n-      headers: { \"Content-Type\": \"application/json\" },\r\n       body: JSON.stringify(post),\r\n+      headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n     })\r\n       .then((res) => res.json())\r\n       .then((newPost) => {\r\n-        const updated = [newPost, ...data];\r\n+        const updated = [...data, { ...newPost, id: Date.now() }]; // push to end\r\n         updateStorage(updated);\r\n+        const lastPage = Math.ceil(updated.length / cardPerPage);\r\n+        setPage(lastPage); // jump to last page\r\n       });\r\n   };\r\n \r\n+\r\n   // Edit post\r\n   const handleEdit = (updatedPost) => {\r\n     fetch(`https://jsonplaceholder.typicode.com/posts/${updatedPost.id}`, {\r\n       method: \"PUT\",\r\n"
                },
                {
                    "date": 1757409290203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n       headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n     })\r\n       .then((res) => res.json())\r\n       .then((newPost) => {\r\n-        const updated = [...data, { ...newPost, id: Date.now() }]; // push to end\r\n+        const updated = [...data, { ...newPost, id: data.length +1 }]; // push to end\r\n         updateStorage(updated);\r\n         const lastPage = Math.ceil(updated.length / cardPerPage);\r\n         setPage(lastPage); // jump to last page\r\n       });\r\n"
                },
                {
                    "date": 1757409338875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n       headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n     })\r\n       .then((res) => res.json())\r\n       .then((newPost) => {\r\n-        const updated = [...data, { ...newPost, id: data.length +1 }]; // push to end\r\n+        const updated = [...data, { ...newPost, id: data.length + 1 }]; // push to end\r\n         updateStorage(updated);\r\n         const lastPage = Math.ceil(updated.length / cardPerPage);\r\n         setPage(lastPage); // jump to last page\r\n       });\r\n@@ -77,8 +77,9 @@\n     fetch(`https://jsonplaceholder.typicode.com/posts/${deleteId}`, {\r\n       method: \"DELETE\",\r\n     }).then(() => {\r\n       const updated = data.filter((item) => item.id !== deleteId);\r\n+      updated = updated.map((item, index) => ({ ...item, id: index + 1 }));\r\n       updateStorage(updated);\r\n       setShowDelete(false);\r\n       setDeleteId(null);\r\n     });\r\n"
                },
                {
                    "date": 1757409380583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n   const handleDelete = () => {\r\n     fetch(`https://jsonplaceholder.typicode.com/posts/${deleteId}`, {\r\n       method: \"DELETE\",\r\n     }).then(() => {\r\n-      const updated = data.filter((item) => item.id !== deleteId);\r\n+      let updated = data.filter((item) => item.id !== deleteId);\r\n       updated = updated.map((item, index) => ({ ...item, id: index + 1 }));\r\n       updateStorage(updated);\r\n       setShowDelete(false);\r\n       setDeleteId(null);\r\n"
                }
            ],
            "date": 1757355821147,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport CardList from \"./CardList\";\r\nimport PostModal from \"./PostModal\";\r\n\r\nexport default function Main() {\r\n  const [data, setData] = useState([]);\r\n\r\n  // Fetch posts\r\n  useEffect(() => {\r\n    fetch(\"https://jsonplaceholder.typicode.com/posts?_limit=10\")\r\n      .then((res) => res.json())\r\n      .then((json) => setData(json));\r\n  }, []);\r\n\r\n  // Add post\r\n  const handleAdd = (post) => {\r\n    fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(post),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((newPost) => setData([newPost, ...data]));\r\n  };\r\n\r\n  // Delete post\r\n  const handleDelete = (id) => {\r\n    if (window.confirm(\"Delete this post?\")) {\r\n      fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {\r\n        method: \"DELETE\",\r\n      }).then(() => setData(data.filter((item) => item.id !== id)));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <PostModal onAdd={handleAdd} />\r\n      <CardList data={data} onDelete={handleDelete} />\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}